==== START logs for container nsmdp of pod nsm-system/nsmgr-cloudtest-kind-8a1853245b-worker ====
time="2021-06-11T16:43:50Z" level=info msg="Starting nsmdp-k8s..."
time="2021-06-11T16:43:50Z" level=info msg="Version v1.0.1-rc.2-6-g1beae399"
time="2021-06-11T16:43:50Z" level=info msg="All env variables:"
time="2021-06-11T16:43:50Z" level=info msg="KUBERNETES_PORT=tcp://10.96.0.1:443"
time="2021-06-11T16:43:50Z" level=info msg="KUBERNETES_SERVICE_PORT=443"
time="2021-06-11T16:43:50Z" level=info msg="GRPC_GO_LOG_VERBOSITY_LEVEL=99"
time="2021-06-11T16:43:50Z" level=info msg="HOSTNAME=nsmgr-cloudtest-kind-8a1853245b-worker"
time="2021-06-11T16:43:50Z" level=info msg="GRPC_GO_LOG_SEVERITY_LEVEL=info"
time="2021-06-11T16:43:50Z" level=info msg="SHLVL=1"
time="2021-06-11T16:43:50Z" level=info msg="HOME=/root"
time="2021-06-11T16:43:50Z" level=info msg="KUBERNETES_PORT_443_TCP_ADDR=10.96.0.1"
time="2021-06-11T16:43:50Z" level=info msg="PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"
time="2021-06-11T16:43:50Z" level=info msg="KUBERNETES_PORT_443_TCP_PORT=443"
time="2021-06-11T16:43:50Z" level=info msg="KUBERNETES_PORT_443_TCP_PROTO=tcp"
time="2021-06-11T16:43:50Z" level=info msg="ENTRY=nsmdp"
time="2021-06-11T16:43:50Z" level=info msg="KUBERNETES_PORT_443_TCP=tcp://10.96.0.1:443"
time="2021-06-11T16:43:50Z" level=info msg="KUBERNETES_SERVICE_PORT_HTTPS=443"
time="2021-06-11T16:43:50Z" level=info msg="NSMD_LOCAL_REGISTRY_DELETE=false"
time="2021-06-11T16:43:50Z" level=info msg="KUBERNETES_SERVICE_HOST=10.96.0.1"
time="2021-06-11T16:43:50Z" level=info msg="PWD=/"
time="2021-06-11T16:43:50Z" level=info msg="Creating logger from config: &{nsmdp@nsmgr-cloudtest-kind-8a1853245b-worker false false [] 0xc000380060 0xc000382000 <nil> <nil> <nil>}"
2021/06/11 16:43:50 debug logging disabled
2021/06/11 16:43:50 Initializing logging reporter
2021/06/11 16:43:50 debug logging disabled
time="2021-06-11T16:43:50Z" level=info msg="==--> NSMgr.Device.Plugin() span:1202bca567fcf854:1202bca567fcf854:0000000000000000:1"
time="2021-06-11T16:43:50Z" level=info msg=">><<-- registry.at=\"10.244.2.21:5001\" span=1202bca567fcf854:1202bca567fcf854:0000000000000000:1"
time="2021-06-11T16:43:50Z" level=info msg="==----> start.device.server() span:1202bca567fcf854:2517227c4df1a381:1202bca567fcf854:1"
time="2021-06-11T16:43:50Z" level=info msg="Waiting for liveness probe: unix:/var/lib/networkservicemesh/nsm.io.sock"
time="2021-06-11T16:43:51Z" level=info msg="Liveness probe was successful: unix:/var/lib/networkservicemesh/nsm.io.sock"
time="2021-06-11T16:43:51Z" level=info msg=">><<---- devices=[{\"ID\":\"nsm-1\",\"health\":\"Healthy\"},{\"ID\":\"nsm-2\",\"health\":\"Healthy\"},{\"ID\":\"nsm-3\",\"health\":\"Healthy\"},{\"ID\":\"nsm-4\",\"health\":\"Healthy\"},{\"ID\":\"nsm-5\",\"health\":\"Healthy\"},{\"ID\":\"nsm-6\",\"health\":\"Healthy\"},{\"ID\":\"nsm-7\",\"health\":\"Healthy\"},{\"ID\":\"nsm-8\",\"health\":\"Healthy\"},{\"ID\":\"nsm-9\",\"health\":\"Healthy\"},{\"ID\":\"nsm-10\",\"health\":\"Healthy\"},{\"ID\":\"nsm-11\",\"health\":\"Healthy\"},{\"ID\":\"nsm-12\",\"health\":\"Healthy\"},{\"ID\":\"nsm-13\",\"health\":\"Healthy\"},{\"ID\":\"nsm-14\",\"health\":\"Healthy\"},{\"ID\":\"nsm-15\",\"health\":\"Healthy\"},{\"ID\":\"nsm-16\",\"health\":\"Healthy\"},{\"ID\":\"nsm-17\",\"health\":\"Healthy\"},{\"ID\":\"nsm-18\",\"health\":\"Healthy\"},{\"ID\":\"nsm-19\",\"health\":\"Healthy\"},{\"ID\":\"nsm-20\",\"health\":\"Healthy\"},{\"ID\":\"nsm-21\",\"health\":\"Healthy\"},{\"ID\":\"nsm-22\",\"health\":\"Healthy\"},{\"ID\":\"nsm-23\",\"health\":\"Healthy\"},{\"ID\":\"nsm-24\",\"health\":\"Healthy\"},{\"ID\":\"nsm-25\",\"health\":\"Healthy\"},{\"ID\":\"nsm-26\",\"health\":\"Healthy\"},{\"ID\":\"nsm-27\",\"health\":\"Healthy\"},{\"ID\":\"nsm-28\",\"health\":\"Healthy\"},{\"ID\":\"nsm-29\",\"health\":\"Healthy\"},{\"ID\":\"nsm-30\",\"health\":\"Healthy\"}] span=1202bca567fcf854:2517227c4df1a381:1202bca567fcf854:1"
time="2021-06-11T16:43:51Z" level=info msg="==------> start.device.server() span:1202bca567fcf854:3173428d2567874d:2517227c4df1a381:1"
time="2021-06-11T16:43:51Z" level=info msg=">><<------ listen-endpoint=\"/var/lib/kubelet/device-plugins/networkservicemesh.io.sock\" span=1202bca567fcf854:3173428d2567874d:2517227c4df1a381:1"
time="2021-06-11T16:43:51Z" level=info msg="Establish connection with the spire provider at address:unix:///run/spire/sockets/agent.sock"
INFO: 2021/06/11 16:43:51 [core] parsed scheme: "unix"
INFO: 2021/06/11 16:43:51 [core] ccResolverWrapper: sending update to cc: {[{/run/spire/sockets/agent.sock  0xc00000e110 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:43:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:43:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc0000307e0, {CONNECTING <nil>}
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:51 [core] Subchannel picks a new address "/run/spire/sockets/agent.sock" to connect
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:43:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc0000307e0, {READY <nil>}
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to READY
time="2021-06-11T16:43:51Z" level=info msg="Got x509:&{0xc00013c240 <nil> {{0 0} 0 0 0 0} 0xc0004a8a00 0xc000528080 {{0 0} 0 0 0 0} false} <nil>"
time="2021-06-11T16:43:51Z" level=info msg="GRPC.NewServer with open tracing enabled"
time="2021-06-11T16:43:51Z" level=info msg="Starting Device Plugin's gRPC server listening on socket: networkservicemesh.io.sock" operation=start.device.server span="1202bca567fcf854:3173428d2567874d:2517227c4df1a381:1"
time="2021-06-11T16:43:51Z" level=info msg="Check device server operational" operation=start.device.server span="1202bca567fcf854:3173428d2567874d:2517227c4df1a381:1"
time="2021-06-11T16:43:51Z" level=info msg="Trying to establish connection to target: /var/lib/kubelet/device-plugins/networkservicemesh.io.sock"
time="2021-06-11T16:43:51Z" level=info msg="Issued identity:spiffe://test.com/nsmgr"
time="2021-06-11T16:43:51Z" level=info msg="Establishing insecure connection to target:/var/lib/kubelet/device-plugins/networkservicemesh.io.sock"
INFO: 2021/06/11 16:43:51 [core] parsed scheme: ""
INFO: 2021/06/11 16:43:51 [core] scheme "" not registered, fallback to default scheme
INFO: 2021/06/11 16:43:51 [core] ccResolverWrapper: sending update to cc: {[{/var/lib/kubelet/device-plugins/networkservicemesh.io.sock  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:43:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:43:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:51 [core] Subchannel picks a new address "/var/lib/kubelet/device-plugins/networkservicemesh.io.sock" to connect
time="2021-06-11T16:43:51Z" level=info msg="Start serving..." operation=start.device.server span="1202bca567fcf854:3173428d2567874d:2517227c4df1a381:1"
INFO: 2021/06/11 16:43:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc000538470, {CONNECTING <nil>}
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:43:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc000538470, {READY <nil>}
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to READY
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to SHUTDOWN
time="2021-06-11T16:43:51Z" level=info msg="Device server is operational" operation=start.device.server span="1202bca567fcf854:3173428d2567874d:2517227c4df1a381:1"
2021/06/11 16:43:51 Reporting span 1202bca567fcf854:3173428d2567874d:2517227c4df1a381:1
INFO: 2021/06/11 16:43:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:43:51Z" level=info msg="==------> Register() span:1202bca567fcf854:2898d97882a6203f:2517227c4df1a381:1"
time="2021-06-11T16:43:51Z" level=info msg="Trying to establish connection to target: /var/lib/kubelet/device-plugins/kubelet.sock"
time="2021-06-11T16:43:51Z" level=info msg="Establishing insecure connection to target:/var/lib/kubelet/device-plugins/kubelet.sock"
INFO: 2021/06/11 16:43:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:43:51 [core] parsed scheme: ""
INFO: 2021/06/11 16:43:51 [core] scheme "" not registered, fallback to default scheme
INFO: 2021/06/11 16:43:51 [core] ccResolverWrapper: sending update to cc: {[{/var/lib/kubelet/device-plugins/kubelet.sock  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:43:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:43:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:51 [core] Subchannel picks a new address "/var/lib/kubelet/device-plugins/kubelet.sock" to connect
INFO: 2021/06/11 16:43:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc000030610, {CONNECTING <nil>}
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:43:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc000030610, {READY <nil>}
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to READY
time="2021-06-11T16:43:51Z" level=info msg=">><<------ request={\"version\":\"v1beta1\",\"endpoint\":\"networkservicemesh.io.sock\",\"resource_name\":\"networkservicemesh.io/socket\"} span=1202bca567fcf854:2898d97882a6203f:2517227c4df1a381:1"
time="2021-06-11T16:43:51Z" level=info msg=">><<-- /v1beta1.Registration/Register()=\"\" span=<nil>"
time="2021-06-11T16:43:51Z" level=info msg=">><<-- request={\"version\":\"v1beta1\",\"endpoint\":\"networkservicemesh.io.sock\",\"resource_name\":\"networkservicemesh.io/socket\"} span=<nil>"
2021/06/11 16:43:51 Reporting span 12dbea1bc0c7737d:12dbea1bc0c7737d:0000000000000000:1
time="2021-06-11T16:43:51Z" level=info msg=">><<-- response={} span=<nil>"
time="2021-06-11T16:43:51Z" level=info msg="Register done" operation=Register span="1202bca567fcf854:2898d97882a6203f:2517227c4df1a381:1"
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to SHUTDOWN
2021/06/11 16:43:51 Reporting span 1202bca567fcf854:2898d97882a6203f:2517227c4df1a381:1
INFO: 2021/06/11 16:43:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
2021/06/11 16:43:51 Reporting span 1202bca567fcf854:2517227c4df1a381:1202bca567fcf854:1
time="2021-06-11T16:43:51Z" level=info msg="nsmdp: successfully started" operation=NSMgr.Device.Plugin span="1202bca567fcf854:1202bca567fcf854:0000000000000000:1"
2021/06/11 16:43:51 Reporting span 1202bca567fcf854:1202bca567fcf854:0000000000000000:1
time="2021-06-11T16:43:51Z" level=info msg="ListAndWatch was called with s: &{ServerStream:0xc00000d440}"
time="2021-06-11T16:43:51Z" level=info msg="==--> ListAndWatch-0() span:0e5b519a97b4abaa:0e5b519a97b4abaa:0000000000000000:1"
time="2021-06-11T16:43:51Z" level=info msg="==----> recieveWorkspaces() span:0e5b519a97b4abaa:676aeb2cf4878b62:0e5b519a97b4abaa:1"
time="2021-06-11T16:43:51Z" level=info msg="Request workspaces list" operation=recieveWorkspaces span="0e5b519a97b4abaa:676aeb2cf4878b62:0e5b519a97b4abaa:1"
time="2021-06-11T16:43:51Z" level=info msg="==------> enumWorkspaces() span:0e5b519a97b4abaa:3199cdfee1672b4c:676aeb2cf4878b62:1"
time="2021-06-11T16:43:51Z" level=info msg="Connecting to nsmd on socket: /var/lib/networkservicemesh/nsm.io.sock..."
time="2021-06-11T16:43:51Z" level=info msg="Trying to establish connection to target: /var/lib/networkservicemesh/nsm.io.sock"
time="2021-06-11T16:43:51Z" level=info msg="Connecting to the workload api at:unix:///run/spire/sockets/agent.sock"
INFO: 2021/06/11 16:43:51 [core] parsed scheme: "unix"
INFO: 2021/06/11 16:43:51 [core] ccResolverWrapper: sending update to cc: {[{/run/spire/sockets/agent.sock  0xc00000e230 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:43:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:43:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:51 [core] blockingPicker: the picked transport is not ready, loop back to repick
INFO: 2021/06/11 16:43:51 [core] Subchannel picks a new address "/run/spire/sockets/agent.sock" to connect
INFO: 2021/06/11 16:43:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc000031ca0, {CONNECTING <nil>}
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:43:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc000031ca0, {READY <nil>}
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to READY
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to SHUTDOWN
time="2021-06-11T16:43:51Z" level=info msg="Successfully retrieve bundles:&{{{0 0} 0 0 0 0} map[{test.com}:0xc000396300]}"
time="2021-06-11T16:43:51Z" level=info msg="defaultTrustDomain:test.com"
time="2021-06-11T16:43:51Z" level=info msg="AUTHORIZING ALL CLIENTS"
time="2021-06-11T16:43:51Z" level=info msg="Fetch tlsConfig for Trust Domain: test.com"
time="2021-06-11T16:43:51Z" level=info msg="Found 1 tlsconfigs."
INFO: 2021/06/11 16:43:51 [core] parsed scheme: ""
INFO: 2021/06/11 16:43:51 [core] scheme "" not registered, fallback to default scheme
INFO: 2021/06/11 16:43:51 [core] ccResolverWrapper: sending update to cc: {[{/var/lib/networkservicemesh/nsm.io.sock  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:43:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:43:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:51 [core] Subchannel picks a new address "/var/lib/networkservicemesh/nsm.io.sock" to connect
INFO: 2021/06/11 16:43:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:43:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc000302c60, {CONNECTING <nil>}
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:43:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc000302c60, {READY <nil>}
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to READY
time="2021-06-11T16:43:51Z" level=info msg="Found the right tls certificate:&{<nil> <nil> [] map[] <nil> 0x966460 <nil> 0x9664e0 <nil> <nil> []  NoClientCert <nil> true [] false false [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] <nil> 0 0 [] false 0 <nil> {{0 0} 0 0 0 0} [] []}"
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to SHUTDOWN
time="2021-06-11T16:43:51Z" level=info msg="Trying to establish connection using tlsConfig:&{<nil> <nil> [] map[] <nil> 0x966460 <nil> 0x9664e0 <nil> <nil> []  NoClientCert <nil> true [] false false [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] <nil> 0 0 [] false 0 <nil> {{0 0} 0 0 0 0} [] []}"
INFO: 2021/06/11 16:43:51 [core] parsed scheme: ""
INFO: 2021/06/11 16:43:51 [core] scheme "" not registered, fallback to default scheme
INFO: 2021/06/11 16:43:51 [core] ccResolverWrapper: sending update to cc: {[{/var/lib/networkservicemesh/nsm.io.sock  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:43:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:43:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:51 [core] Subchannel picks a new address "/var/lib/networkservicemesh/nsm.io.sock" to connect
INFO: 2021/06/11 16:43:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc00058c350, {CONNECTING <nil>}
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:43:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc00058c350, {READY <nil>}
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to READY
time="2021-06-11T16:43:51Z" level=info msg="Requesting nsmd for client connection..."
time="2021-06-11T16:43:51Z" level=info msg=">><<-------- /nsmdapi.NSMD/EnumConnection()=\"\" span=0e5b519a97b4abaa:3199cdfee1672b4c:676aeb2cf4878b62:1"
time="2021-06-11T16:43:51Z" level=info msg=">><<-------- request={} span=0e5b519a97b4abaa:3199cdfee1672b4c:676aeb2cf4878b62:1"
2021/06/11 16:43:51 Reporting span 0e5b519a97b4abaa:688254ef42df281f:3199cdfee1672b4c:1
time="2021-06-11T16:43:51Z" level=info msg=">><<-------- response={\"workspace\":[\"nsm-12\",\"nsm-20\",\"nsm-25\"]} span=0e5b519a97b4abaa:3199cdfee1672b4c:676aeb2cf4878b62:1"
time="2021-06-11T16:43:51Z" level=info msg=">><<------ reply={\"workspace\":[\"nsm-12\",\"nsm-20\",\"nsm-25\"]} span=0e5b519a97b4abaa:3199cdfee1672b4c:676aeb2cf4878b62:1"
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to SHUTDOWN
2021/06/11 16:43:51 Reporting span 0e5b519a97b4abaa:3199cdfee1672b4c:676aeb2cf4878b62:1
time="2021-06-11T16:43:51Z" level=info msg=">><<---- reply={\"workspace\":[\"nsm-12\",\"nsm-20\",\"nsm-25\"]} span=0e5b519a97b4abaa:676aeb2cf4878b62:0e5b519a97b4abaa:1"
INFO: 2021/06/11 16:43:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:43:51Z" level=info msg=">><<---- new-devices=[{\"ID\":\"nsm-1\",\"health\":\"Healthy\"},{\"ID\":\"nsm-2\",\"health\":\"Healthy\"},{\"ID\":\"nsm-3\",\"health\":\"Healthy\"},{\"ID\":\"nsm-4\",\"health\":\"Healthy\"},{\"ID\":\"nsm-5\",\"health\":\"Healthy\"},{\"ID\":\"nsm-6\",\"health\":\"Healthy\"},{\"ID\":\"nsm-7\",\"health\":\"Healthy\"},{\"ID\":\"nsm-8\",\"health\":\"Healthy\"},{\"ID\":\"nsm-9\",\"health\":\"Healthy\"},{\"ID\":\"nsm-10\",\"health\":\"Healthy\"},{\"ID\":\"nsm-11\",\"health\":\"Healthy\"},{\"ID\":\"nsm-12\",\"health\":\"Healthy\"},{\"ID\":\"nsm-13\",\"health\":\"Healthy\"},{\"ID\":\"nsm-14\",\"health\":\"Healthy\"},{\"ID\":\"nsm-15\",\"health\":\"Healthy\"},{\"ID\":\"nsm-16\",\"health\":\"Healthy\"},{\"ID\":\"nsm-17\",\"health\":\"Healthy\"},{\"ID\":\"nsm-18\",\"health\":\"Healthy\"},{\"ID\":\"nsm-19\",\"health\":\"Healthy\"},{\"ID\":\"nsm-20\",\"health\":\"Healthy\"},{\"ID\":\"nsm-21\",\"health\":\"Healthy\"},{\"ID\":\"nsm-22\",\"health\":\"Healthy\"},{\"ID\":\"nsm-23\",\"health\":\"Healthy\"},{\"ID\":\"nsm-24\",\"health\":\"Healthy\"},{\"ID\":\"nsm-25\",\"health\":\"Healthy\"},{\"ID\":\"nsm-26\",\"health\":\"Healthy\"},{\"ID\":\"nsm-27\",\"health\":\"Healthy\"},{\"ID\":\"nsm-28\",\"health\":\"Healthy\"},{\"ID\":\"nsm-29\",\"health\":\"Healthy\"},{\"ID\":\"nsm-30\",\"health\":\"Healthy\"},{\"ID\":\"nsm-31\",\"health\":\"Healthy\"}] span=0e5b519a97b4abaa:676aeb2cf4878b62:0e5b519a97b4abaa:1"
time="2021-06-11T16:43:51Z" level=info msg=">><<---- new-devices=[{\"ID\":\"nsm-1\",\"health\":\"Healthy\"},{\"ID\":\"nsm-2\",\"health\":\"Healthy\"},{\"ID\":\"nsm-3\",\"health\":\"Healthy\"},{\"ID\":\"nsm-4\",\"health\":\"Healthy\"},{\"ID\":\"nsm-5\",\"health\":\"Healthy\"},{\"ID\":\"nsm-6\",\"health\":\"Healthy\"},{\"ID\":\"nsm-7\",\"health\":\"Healthy\"},{\"ID\":\"nsm-8\",\"health\":\"Healthy\"},{\"ID\":\"nsm-9\",\"health\":\"Healthy\"},{\"ID\":\"nsm-10\",\"health\":\"Healthy\"},{\"ID\":\"nsm-11\",\"health\":\"Healthy\"},{\"ID\":\"nsm-12\",\"health\":\"Healthy\"},{\"ID\":\"nsm-13\",\"health\":\"Healthy\"},{\"ID\":\"nsm-14\",\"health\":\"Healthy\"},{\"ID\":\"nsm-15\",\"health\":\"Healthy\"},{\"ID\":\"nsm-16\",\"health\":\"Healthy\"},{\"ID\":\"nsm-17\",\"health\":\"Healthy\"},{\"ID\":\"nsm-18\",\"health\":\"Healthy\"},{\"ID\":\"nsm-19\",\"health\":\"Healthy\"},{\"ID\":\"nsm-20\",\"health\":\"Healthy\"},{\"ID\":\"nsm-21\",\"health\":\"Healthy\"},{\"ID\":\"nsm-22\",\"health\":\"Healthy\"},{\"ID\":\"nsm-23\",\"health\":\"Healthy\"},{\"ID\":\"nsm-24\",\"health\":\"Healthy\"},{\"ID\":\"nsm-25\",\"health\":\"Healthy\"},{\"ID\":\"nsm-26\",\"health\":\"Healthy\"},{\"ID\":\"nsm-27\",\"health\":\"Healthy\"},{\"ID\":\"nsm-28\",\"health\":\"Healthy\"},{\"ID\":\"nsm-29\",\"health\":\"Healthy\"},{\"ID\":\"nsm-30\",\"health\":\"Healthy\"},{\"ID\":\"nsm-31\",\"health\":\"Healthy\"},{\"ID\":\"nsm-32\",\"health\":\"Healthy\"}] span=0e5b519a97b4abaa:676aeb2cf4878b62:0e5b519a97b4abaa:1"
time="2021-06-11T16:43:51Z" level=info msg=">><<---- new-devices=[{\"ID\":\"nsm-1\",\"health\":\"Healthy\"},{\"ID\":\"nsm-2\",\"health\":\"Healthy\"},{\"ID\":\"nsm-3\",\"health\":\"Healthy\"},{\"ID\":\"nsm-4\",\"health\":\"Healthy\"},{\"ID\":\"nsm-5\",\"health\":\"Healthy\"},{\"ID\":\"nsm-6\",\"health\":\"Healthy\"},{\"ID\":\"nsm-7\",\"health\":\"Healthy\"},{\"ID\":\"nsm-8\",\"health\":\"Healthy\"},{\"ID\":\"nsm-9\",\"health\":\"Healthy\"},{\"ID\":\"nsm-10\",\"health\":\"Healthy\"},{\"ID\":\"nsm-11\",\"health\":\"Healthy\"},{\"ID\":\"nsm-12\",\"health\":\"Healthy\"},{\"ID\":\"nsm-13\",\"health\":\"Healthy\"},{\"ID\":\"nsm-14\",\"health\":\"Healthy\"},{\"ID\":\"nsm-15\",\"health\":\"Healthy\"},{\"ID\":\"nsm-16\",\"health\":\"Healthy\"},{\"ID\":\"nsm-17\",\"health\":\"Healthy\"},{\"ID\":\"nsm-18\",\"health\":\"Healthy\"},{\"ID\":\"nsm-19\",\"health\":\"Healthy\"},{\"ID\":\"nsm-20\",\"health\":\"Healthy\"},{\"ID\":\"nsm-21\",\"health\":\"Healthy\"},{\"ID\":\"nsm-22\",\"health\":\"Healthy\"},{\"ID\":\"nsm-23\",\"health\":\"Healthy\"},{\"ID\":\"nsm-24\",\"health\":\"Healthy\"},{\"ID\":\"nsm-25\",\"health\":\"Healthy\"},{\"ID\":\"nsm-26\",\"health\":\"Healthy\"},{\"ID\":\"nsm-27\",\"health\":\"Healthy\"},{\"ID\":\"nsm-28\",\"health\":\"Healthy\"},{\"ID\":\"nsm-29\",\"health\":\"Healthy\"},{\"ID\":\"nsm-30\",\"health\":\"Healthy\"},{\"ID\":\"nsm-31\",\"health\":\"Healthy\"},{\"ID\":\"nsm-32\",\"health\":\"Healthy\"},{\"ID\":\"nsm-33\",\"health\":\"Healthy\"}] span=0e5b519a97b4abaa:676aeb2cf4878b62:0e5b519a97b4abaa:1"
2021/06/11 16:43:51 Reporting span 0e5b519a97b4abaa:676aeb2cf4878b62:0e5b519a97b4abaa:1
time="2021-06-11T16:43:51Z" level=info msg="==----> sendDeviceUpdate() span:0e5b519a97b4abaa:3517300b7f230962:0e5b519a97b4abaa:1"
time="2021-06-11T16:43:51Z" level=info msg=">><<---- info={\"devices\":[{\"ID\":\"nsm-1\",\"health\":\"Healthy\"},{\"ID\":\"nsm-2\",\"health\":\"Healthy\"},{\"ID\":\"nsm-3\",\"health\":\"Healthy\"},{\"ID\":\"nsm-4\",\"health\":\"Healthy\"},{\"ID\":\"nsm-5\",\"health\":\"Healthy\"},{\"ID\":\"nsm-6\",\"health\":\"Healthy\"},{\"ID\":\"nsm-7\",\"health\":\"Healthy\"},{\"ID\":\"nsm-8\",\"health\":\"Healthy\"},{\"ID\":\"nsm-9\",\"health\":\"Healthy\"},{\"ID\":\"nsm-10\",\"health\":\"Healthy\"},{\"ID\":\"nsm-11\",\"health\":\"Healthy\"},{\"ID\":\"nsm-12\",\"health\":\"Healthy\"},{\"ID\":\"nsm-13\",\"health\":\"Healthy\"},{\"ID\":\"nsm-14\",\"health\":\"Healthy\"},{\"ID\":\"nsm-15\",\"health\":\"Healthy\"},{\"ID\":\"nsm-16\",\"health\":\"Healthy\"},{\"ID\":\"nsm-17\",\"health\":\"Healthy\"},{\"ID\":\"nsm-18\",\"health\":\"Healthy\"},{\"ID\":\"nsm-19\",\"health\":\"Healthy\"},{\"ID\":\"nsm-20\",\"health\":\"Healthy\"},{\"ID\":\"nsm-21\",\"health\":\"Healthy\"},{\"ID\":\"nsm-22\",\"health\":\"Healthy\"},{\"ID\":\"nsm-23\",\"health\":\"Healthy\"},{\"ID\":\"nsm-24\",\"health\":\"Healthy\"},{\"ID\":\"nsm-25\",\"health\":\"Healthy\"},{\"ID\":\"nsm-26\",\"health\":\"Healthy\"},{\"ID\":\"nsm-27\",\"health\":\"Healthy\"},{\"ID\":\"nsm-28\",\"health\":\"Healthy\"},{\"ID\":\"nsm-29\",\"health\":\"Healthy\"},{\"ID\":\"nsm-30\",\"health\":\"Healthy\"},{\"ID\":\"nsm-31\",\"health\":\"Healthy\"},{\"ID\":\"nsm-32\",\"health\":\"Healthy\"},{\"ID\":\"nsm-33\",\"health\":\"Healthy\"}]} span=0e5b519a97b4abaa:3517300b7f230962:0e5b519a97b4abaa:1"
time="2021-06-11T16:43:51Z" level=info msg="Send device plugins info" operation=sendDeviceUpdate span="0e5b519a97b4abaa:3517300b7f230962:0e5b519a97b4abaa:1"
time="2021-06-11T16:43:51Z" level=info msg="Delaying 30s" operation=ListAndWatch-0 span="0e5b519a97b4abaa:0e5b519a97b4abaa:0000000000000000:1"
2021/06/11 16:43:51 Reporting span 0e5b519a97b4abaa:0e5b519a97b4abaa:0000000000000000:1
time="2021-06-11T16:44:21Z" level=info msg="==--> ListAndWatch-1() span:37ffa5c517c7898f:37ffa5c517c7898f:0000000000000000:1"
time="2021-06-11T16:44:21Z" level=info msg="==----> recieveWorkspaces() span:37ffa5c517c7898f:32f34266dadf0794:37ffa5c517c7898f:1"
time="2021-06-11T16:44:21Z" level=info msg="Request workspaces list" operation=recieveWorkspaces span="37ffa5c517c7898f:32f34266dadf0794:37ffa5c517c7898f:1"
time="2021-06-11T16:44:21Z" level=info msg="==------> enumWorkspaces() span:37ffa5c517c7898f:64de3f4ba4410fb2:32f34266dadf0794:1"
time="2021-06-11T16:44:21Z" level=info msg="Connecting to nsmd on socket: /var/lib/networkservicemesh/nsm.io.sock..."
time="2021-06-11T16:44:21Z" level=info msg="Trying to establish connection to target: /var/lib/networkservicemesh/nsm.io.sock"
time="2021-06-11T16:44:21Z" level=info msg="Connecting to the workload api at:unix:///run/spire/sockets/agent.sock"
INFO: 2021/06/11 16:44:21 [core] parsed scheme: "unix"
INFO: 2021/06/11 16:44:21 [core] ccResolverWrapper: sending update to cc: {[{/run/spire/sockets/agent.sock  0xc0005a8048 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:44:21 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:44:21 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:44:21 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:44:21 [core] blockingPicker: the picked transport is not ready, loop back to repick
INFO: 2021/06/11 16:44:21 [core] Subchannel picks a new address "/run/spire/sockets/agent.sock" to connect
INFO: 2021/06/11 16:44:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001fe140, {CONNECTING <nil>}
INFO: 2021/06/11 16:44:21 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:44:21 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:44:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001fe140, {READY <nil>}
INFO: 2021/06/11 16:44:21 [core] Channel Connectivity change to READY
INFO: 2021/06/11 16:44:21 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:44:21 [core] Subchannel Connectivity change to SHUTDOWN
time="2021-06-11T16:44:21Z" level=info msg="Successfully retrieve bundles:&{{{0 0} 0 0 0 0} map[{test.com}:0xc00058a740]}"
time="2021-06-11T16:44:21Z" level=info msg="defaultTrustDomain:test.com"
time="2021-06-11T16:44:21Z" level=info msg="AUTHORIZING ALL CLIENTS"
time="2021-06-11T16:44:21Z" level=info msg="Fetch tlsConfig for Trust Domain: test.com"
time="2021-06-11T16:44:21Z" level=info msg="Found 1 tlsconfigs."
INFO: 2021/06/11 16:44:21 [core] parsed scheme: ""
INFO: 2021/06/11 16:44:21 [core] scheme "" not registered, fallback to default scheme
INFO: 2021/06/11 16:44:21 [core] ccResolverWrapper: sending update to cc: {[{/var/lib/networkservicemesh/nsm.io.sock  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:44:21 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:44:21 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:44:21 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:44:21 [core] Subchannel picks a new address "/var/lib/networkservicemesh/nsm.io.sock" to connect
INFO: 2021/06/11 16:44:21 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:44:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001ff880, {CONNECTING <nil>}
INFO: 2021/06/11 16:44:21 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:44:21 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:44:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001ff880, {READY <nil>}
INFO: 2021/06/11 16:44:21 [core] Channel Connectivity change to READY
time="2021-06-11T16:44:21Z" level=info msg="Found the right tls certificate:&{<nil> <nil> [] map[] <nil> 0x966460 <nil> 0x9664e0 <nil> <nil> []  NoClientCert <nil> true [] false false [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] <nil> 0 0 [] false 0 <nil> {{0 0} 0 0 0 0} [] []}"
INFO: 2021/06/11 16:44:21 [core] Channel Connectivity change to SHUTDOWN
time="2021-06-11T16:44:21Z" level=info msg="Trying to establish connection using tlsConfig:&{<nil> <nil> [] map[] <nil> 0x966460 <nil> 0x9664e0 <nil> <nil> []  NoClientCert <nil> true [] false false [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] <nil> 0 0 [] false 0 <nil> {{0 0} 0 0 0 0} [] []}"
INFO: 2021/06/11 16:44:21 [core] Subchannel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:44:21 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:44:21 [core] parsed scheme: ""
INFO: 2021/06/11 16:44:21 [core] scheme "" not registered, fallback to default scheme
INFO: 2021/06/11 16:44:21 [core] ccResolverWrapper: sending update to cc: {[{/var/lib/networkservicemesh/nsm.io.sock  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:44:21 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:44:21 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:44:21 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:44:21 [core] Subchannel picks a new address "/var/lib/networkservicemesh/nsm.io.sock" to connect
INFO: 2021/06/11 16:44:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc000302240, {CONNECTING <nil>}
INFO: 2021/06/11 16:44:21 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:44:21 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:44:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc000302240, {READY <nil>}
INFO: 2021/06/11 16:44:21 [core] Channel Connectivity change to READY
time="2021-06-11T16:44:21Z" level=info msg="Requesting nsmd for client connection..."
time="2021-06-11T16:44:21Z" level=info msg=">><<-------- /nsmdapi.NSMD/EnumConnection()=\"\" span=37ffa5c517c7898f:64de3f4ba4410fb2:32f34266dadf0794:1"
time="2021-06-11T16:44:21Z" level=info msg=">><<-------- request={} span=37ffa5c517c7898f:64de3f4ba4410fb2:32f34266dadf0794:1"
2021/06/11 16:44:21 Reporting span 37ffa5c517c7898f:00535f3125250391:64de3f4ba4410fb2:1
time="2021-06-11T16:44:21Z" level=info msg=">><<-------- response={\"workspace\":[\"nsm-25\",\"nsm-12\",\"nsm-20\"]} span=37ffa5c517c7898f:64de3f4ba4410fb2:32f34266dadf0794:1"
time="2021-06-11T16:44:21Z" level=info msg=">><<------ reply={\"workspace\":[\"nsm-25\",\"nsm-12\",\"nsm-20\"]} span=37ffa5c517c7898f:64de3f4ba4410fb2:32f34266dadf0794:1"
INFO: 2021/06/11 16:44:21 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:44:21 [core] Subchannel Connectivity change to SHUTDOWN
2021/06/11 16:44:21 Reporting span 37ffa5c517c7898f:64de3f4ba4410fb2:32f34266dadf0794:1
time="2021-06-11T16:44:21Z" level=info msg=">><<---- reply={\"workspace\":[\"nsm-25\",\"nsm-12\",\"nsm-20\"]} span=37ffa5c517c7898f:32f34266dadf0794:37ffa5c517c7898f:1"
2021/06/11 16:44:21 Reporting span 37ffa5c517c7898f:32f34266dadf0794:37ffa5c517c7898f:1
time="2021-06-11T16:44:21Z" level=info msg="==----> sendDeviceUpdate() span:37ffa5c517c7898f:15aa628f574758c3:37ffa5c517c7898f:1"
time="2021-06-11T16:44:21Z" level=info msg=">><<---- info={\"devices\":[{\"ID\":\"nsm-1\",\"health\":\"Healthy\"},{\"ID\":\"nsm-2\",\"health\":\"Healthy\"},{\"ID\":\"nsm-3\",\"health\":\"Healthy\"},{\"ID\":\"nsm-4\",\"health\":\"Healthy\"},{\"ID\":\"nsm-5\",\"health\":\"Healthy\"},{\"ID\":\"nsm-6\",\"health\":\"Healthy\"},{\"ID\":\"nsm-7\",\"health\":\"Healthy\"},{\"ID\":\"nsm-8\",\"health\":\"Healthy\"},{\"ID\":\"nsm-9\",\"health\":\"Healthy\"},{\"ID\":\"nsm-10\",\"health\":\"Healthy\"},{\"ID\":\"nsm-11\",\"health\":\"Healthy\"},{\"ID\":\"nsm-12\",\"health\":\"Healthy\"},{\"ID\":\"nsm-13\",\"health\":\"Healthy\"},{\"ID\":\"nsm-14\",\"health\":\"Healthy\"},{\"ID\":\"nsm-15\",\"health\":\"Healthy\"},{\"ID\":\"nsm-16\",\"health\":\"Healthy\"},{\"ID\":\"nsm-17\",\"health\":\"Healthy\"},{\"ID\":\"nsm-18\",\"health\":\"Healthy\"},{\"ID\":\"nsm-19\",\"health\":\"Healthy\"},{\"ID\":\"nsm-20\",\"health\":\"Healthy\"},{\"ID\":\"nsm-21\",\"health\":\"Healthy\"},{\"ID\":\"nsm-22\",\"health\":\"Healthy\"},{\"ID\":\"nsm-23\",\"health\":\"Healthy\"},{\"ID\":\"nsm-24\",\"health\":\"Healthy\"},{\"ID\":\"nsm-25\",\"health\":\"Healthy\"},{\"ID\":\"nsm-26\",\"health\":\"Healthy\"},{\"ID\":\"nsm-27\",\"health\":\"Healthy\"},{\"ID\":\"nsm-28\",\"health\":\"Healthy\"},{\"ID\":\"nsm-29\",\"health\":\"Healthy\"},{\"ID\":\"nsm-30\",\"health\":\"Healthy\"},{\"ID\":\"nsm-31\",\"health\":\"Healthy\"},{\"ID\":\"nsm-32\",\"health\":\"Healthy\"},{\"ID\":\"nsm-33\",\"health\":\"Healthy\"}]} span=37ffa5c517c7898f:15aa628f574758c3:37ffa5c517c7898f:1"
time="2021-06-11T16:44:21Z" level=info msg="Send device plugins info" operation=sendDeviceUpdate span="37ffa5c517c7898f:15aa628f574758c3:37ffa5c517c7898f:1"
time="2021-06-11T16:44:21Z" level=info msg="Delaying 30s" operation=ListAndWatch-1 span="37ffa5c517c7898f:37ffa5c517c7898f:0000000000000000:1"
2021/06/11 16:44:21 Reporting span 37ffa5c517c7898f:37ffa5c517c7898f:0000000000000000:1
INFO: 2021/06/11 16:44:21 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:44:51Z" level=info msg="==--> ListAndWatch-2() span:1d13849c1b2ef702:1d13849c1b2ef702:0000000000000000:1"
time="2021-06-11T16:44:51Z" level=info msg="==----> recieveWorkspaces() span:1d13849c1b2ef702:6df2ddcec04d7ece:1d13849c1b2ef702:1"
time="2021-06-11T16:44:51Z" level=info msg="Request workspaces list" operation=recieveWorkspaces span="1d13849c1b2ef702:6df2ddcec04d7ece:1d13849c1b2ef702:1"
time="2021-06-11T16:44:51Z" level=info msg="==------> enumWorkspaces() span:1d13849c1b2ef702:2fc88ab380d8c7cb:6df2ddcec04d7ece:1"
time="2021-06-11T16:44:51Z" level=info msg="Connecting to nsmd on socket: /var/lib/networkservicemesh/nsm.io.sock..."
time="2021-06-11T16:44:51Z" level=info msg="Trying to establish connection to target: /var/lib/networkservicemesh/nsm.io.sock"
time="2021-06-11T16:44:51Z" level=info msg="Connecting to the workload api at:unix:///run/spire/sockets/agent.sock"
INFO: 2021/06/11 16:44:51 [core] parsed scheme: "unix"
INFO: 2021/06/11 16:44:51 [core] ccResolverWrapper: sending update to cc: {[{/run/spire/sockets/agent.sock  0xc0006080f8 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:44:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:44:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:44:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:44:51 [core] blockingPicker: the picked transport is not ready, loop back to repick
INFO: 2021/06/11 16:44:51 [core] Subchannel picks a new address "/run/spire/sockets/agent.sock" to connect
INFO: 2021/06/11 16:44:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc000538730, {CONNECTING <nil>}
INFO: 2021/06/11 16:44:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:44:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:44:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc000538730, {READY <nil>}
INFO: 2021/06/11 16:44:51 [core] Channel Connectivity change to READY
INFO: 2021/06/11 16:44:51 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:44:51 [core] Subchannel Connectivity change to SHUTDOWN
time="2021-06-11T16:44:51Z" level=info msg="Successfully retrieve bundles:&{{{0 0} 0 0 0 0} map[{test.com}:0xc0004912c0]}"
time="2021-06-11T16:44:51Z" level=info msg="defaultTrustDomain:test.com"
time="2021-06-11T16:44:51Z" level=info msg="AUTHORIZING ALL CLIENTS"
INFO: 2021/06/11 16:44:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:44:51Z" level=info msg="Fetch tlsConfig for Trust Domain: test.com"
time="2021-06-11T16:44:51Z" level=info msg="Found 1 tlsconfigs."
INFO: 2021/06/11 16:44:51 [core] parsed scheme: ""
INFO: 2021/06/11 16:44:51 [core] scheme "" not registered, fallback to default scheme
INFO: 2021/06/11 16:44:51 [core] ccResolverWrapper: sending update to cc: {[{/var/lib/networkservicemesh/nsm.io.sock  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:44:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:44:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:44:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:44:51 [core] Subchannel picks a new address "/var/lib/networkservicemesh/nsm.io.sock" to connect
INFO: 2021/06/11 16:44:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc000385ac0, {CONNECTING <nil>}
INFO: 2021/06/11 16:44:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:44:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:44:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc000385ac0, {READY <nil>}
INFO: 2021/06/11 16:44:51 [core] Channel Connectivity change to READY
time="2021-06-11T16:44:51Z" level=info msg="Found the right tls certificate:&{<nil> <nil> [] map[] <nil> 0x966460 <nil> 0x9664e0 <nil> <nil> []  NoClientCert <nil> true [] false false [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] <nil> 0 0 [] false 0 <nil> {{0 0} 0 0 0 0} [] []}"
INFO: 2021/06/11 16:44:51 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:44:51 [core] Subchannel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:44:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:44:51Z" level=info msg="Trying to establish connection using tlsConfig:&{<nil> <nil> [] map[] <nil> 0x966460 <nil> 0x9664e0 <nil> <nil> []  NoClientCert <nil> true [] false false [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] <nil> 0 0 [] false 0 <nil> {{0 0} 0 0 0 0} [] []}"
INFO: 2021/06/11 16:44:51 [core] parsed scheme: ""
INFO: 2021/06/11 16:44:51 [core] scheme "" not registered, fallback to default scheme
INFO: 2021/06/11 16:44:51 [core] ccResolverWrapper: sending update to cc: {[{/var/lib/networkservicemesh/nsm.io.sock  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:44:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:44:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:44:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:44:51 [core] Subchannel picks a new address "/var/lib/networkservicemesh/nsm.io.sock" to connect
INFO: 2021/06/11 16:44:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc000385df0, {CONNECTING <nil>}
INFO: 2021/06/11 16:44:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:44:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:44:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc000385df0, {READY <nil>}
INFO: 2021/06/11 16:44:51 [core] Channel Connectivity change to READY
time="2021-06-11T16:44:51Z" level=info msg="Requesting nsmd for client connection..."
time="2021-06-11T16:44:51Z" level=info msg=">><<-------- /nsmdapi.NSMD/EnumConnection()=\"\" span=1d13849c1b2ef702:2fc88ab380d8c7cb:6df2ddcec04d7ece:1"
time="2021-06-11T16:44:51Z" level=info msg=">><<-------- request={} span=1d13849c1b2ef702:2fc88ab380d8c7cb:6df2ddcec04d7ece:1"
2021/06/11 16:44:51 Reporting span 1d13849c1b2ef702:06ed7460f7c615a4:2fc88ab380d8c7cb:1
time="2021-06-11T16:44:51Z" level=info msg=">><<-------- response={\"workspace\":[\"nsm-25\",\"nsm-12\",\"nsm-20\"]} span=1d13849c1b2ef702:2fc88ab380d8c7cb:6df2ddcec04d7ece:1"
time="2021-06-11T16:44:51Z" level=info msg=">><<------ reply={\"workspace\":[\"nsm-25\",\"nsm-12\",\"nsm-20\"]} span=1d13849c1b2ef702:2fc88ab380d8c7cb:6df2ddcec04d7ece:1"
INFO: 2021/06/11 16:44:51 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:44:51 [core] Subchannel Connectivity change to SHUTDOWN
2021/06/11 16:44:51 Reporting span 1d13849c1b2ef702:2fc88ab380d8c7cb:6df2ddcec04d7ece:1
time="2021-06-11T16:44:51Z" level=info msg=">><<---- reply={\"workspace\":[\"nsm-25\",\"nsm-12\",\"nsm-20\"]} span=1d13849c1b2ef702:6df2ddcec04d7ece:1d13849c1b2ef702:1"
2021/06/11 16:44:51 Reporting span 1d13849c1b2ef702:6df2ddcec04d7ece:1d13849c1b2ef702:1
INFO: 2021/06/11 16:44:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:44:51Z" level=info msg="==----> sendDeviceUpdate() span:1d13849c1b2ef702:30f4c9fa94903add:1d13849c1b2ef702:1"
time="2021-06-11T16:44:51Z" level=info msg=">><<---- info={\"devices\":[{\"ID\":\"nsm-1\",\"health\":\"Healthy\"},{\"ID\":\"nsm-2\",\"health\":\"Healthy\"},{\"ID\":\"nsm-3\",\"health\":\"Healthy\"},{\"ID\":\"nsm-4\",\"health\":\"Healthy\"},{\"ID\":\"nsm-5\",\"health\":\"Healthy\"},{\"ID\":\"nsm-6\",\"health\":\"Healthy\"},{\"ID\":\"nsm-7\",\"health\":\"Healthy\"},{\"ID\":\"nsm-8\",\"health\":\"Healthy\"},{\"ID\":\"nsm-9\",\"health\":\"Healthy\"},{\"ID\":\"nsm-10\",\"health\":\"Healthy\"},{\"ID\":\"nsm-11\",\"health\":\"Healthy\"},{\"ID\":\"nsm-12\",\"health\":\"Healthy\"},{\"ID\":\"nsm-13\",\"health\":\"Healthy\"},{\"ID\":\"nsm-14\",\"health\":\"Healthy\"},{\"ID\":\"nsm-15\",\"health\":\"Healthy\"},{\"ID\":\"nsm-16\",\"health\":\"Healthy\"},{\"ID\":\"nsm-17\",\"health\":\"Healthy\"},{\"ID\":\"nsm-18\",\"health\":\"Healthy\"},{\"ID\":\"nsm-19\",\"health\":\"Healthy\"},{\"ID\":\"nsm-20\",\"health\":\"Healthy\"},{\"ID\":\"nsm-21\",\"health\":\"Healthy\"},{\"ID\":\"nsm-22\",\"health\":\"Healthy\"},{\"ID\":\"nsm-23\",\"health\":\"Healthy\"},{\"ID\":\"nsm-24\",\"health\":\"Healthy\"},{\"ID\":\"nsm-25\",\"health\":\"Healthy\"},{\"ID\":\"nsm-26\",\"health\":\"Healthy\"},{\"ID\":\"nsm-27\",\"health\":\"Healthy\"},{\"ID\":\"nsm-28\",\"health\":\"Healthy\"},{\"ID\":\"nsm-29\",\"health\":\"Healthy\"},{\"ID\":\"nsm-30\",\"health\":\"Healthy\"},{\"ID\":\"nsm-31\",\"health\":\"Healthy\"},{\"ID\":\"nsm-32\",\"health\":\"Healthy\"},{\"ID\":\"nsm-33\",\"health\":\"Healthy\"}]} span=1d13849c1b2ef702:30f4c9fa94903add:1d13849c1b2ef702:1"
time="2021-06-11T16:44:51Z" level=info msg="Send device plugins info" operation=sendDeviceUpdate span="1d13849c1b2ef702:30f4c9fa94903add:1d13849c1b2ef702:1"
time="2021-06-11T16:44:51Z" level=info msg="Delaying 30s" operation=ListAndWatch-2 span="1d13849c1b2ef702:1d13849c1b2ef702:0000000000000000:1"
2021/06/11 16:44:51 Reporting span 1d13849c1b2ef702:1d13849c1b2ef702:0000000000000000:1
time="2021-06-11T16:45:21Z" level=info msg="==--> ListAndWatch-3() span:52b250571857a1c5:52b250571857a1c5:0000000000000000:1"
time="2021-06-11T16:45:21Z" level=info msg="==----> recieveWorkspaces() span:52b250571857a1c5:6c5065038f64a194:52b250571857a1c5:1"
time="2021-06-11T16:45:21Z" level=info msg="Request workspaces list" operation=recieveWorkspaces span="52b250571857a1c5:6c5065038f64a194:52b250571857a1c5:1"
time="2021-06-11T16:45:21Z" level=info msg="==------> enumWorkspaces() span:52b250571857a1c5:04ea10599cd2f4c1:6c5065038f64a194:1"
time="2021-06-11T16:45:21Z" level=info msg="Connecting to nsmd on socket: /var/lib/networkservicemesh/nsm.io.sock..."
time="2021-06-11T16:45:21Z" level=info msg="Trying to establish connection to target: /var/lib/networkservicemesh/nsm.io.sock"
time="2021-06-11T16:45:21Z" level=info msg="Connecting to the workload api at:unix:///run/spire/sockets/agent.sock"
INFO: 2021/06/11 16:45:21 [core] parsed scheme: "unix"
INFO: 2021/06/11 16:45:21 [core] ccResolverWrapper: sending update to cc: {[{/run/spire/sockets/agent.sock  0xc0006081e0 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:45:21 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:45:21 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:45:21 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:45:21 [core] blockingPicker: the picked transport is not ready, loop back to repick
INFO: 2021/06/11 16:45:21 [core] Subchannel picks a new address "/run/spire/sockets/agent.sock" to connect
INFO: 2021/06/11 16:45:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc000539970, {CONNECTING <nil>}
INFO: 2021/06/11 16:45:21 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:45:21 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:45:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc000539970, {READY <nil>}
INFO: 2021/06/11 16:45:21 [core] Channel Connectivity change to READY
INFO: 2021/06/11 16:45:21 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:45:21 [core] Subchannel Connectivity change to SHUTDOWN
time="2021-06-11T16:45:21Z" level=info msg="Successfully retrieve bundles:&{{{0 0} 0 0 0 0} map[{test.com}:0xc00058a740]}"
time="2021-06-11T16:45:21Z" level=info msg="defaultTrustDomain:test.com"
time="2021-06-11T16:45:21Z" level=info msg="AUTHORIZING ALL CLIENTS"
time="2021-06-11T16:45:21Z" level=info msg="Fetch tlsConfig for Trust Domain: test.com"
time="2021-06-11T16:45:21Z" level=info msg="Found 1 tlsconfigs."
INFO: 2021/06/11 16:45:21 [core] parsed scheme: ""
INFO: 2021/06/11 16:45:21 [core] scheme "" not registered, fallback to default scheme
INFO: 2021/06/11 16:45:21 [core] ccResolverWrapper: sending update to cc: {[{/var/lib/networkservicemesh/nsm.io.sock  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:45:21 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:45:21 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:45:21 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:45:21 [core] Subchannel picks a new address "/var/lib/networkservicemesh/nsm.io.sock" to connect
INFO: 2021/06/11 16:45:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc0000976d0, {CONNECTING <nil>}
INFO: 2021/06/11 16:45:21 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:45:21 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:45:21 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:45:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc0000976d0, {READY <nil>}
INFO: 2021/06/11 16:45:21 [core] Channel Connectivity change to READY
time="2021-06-11T16:45:21Z" level=info msg="Found the right tls certificate:&{<nil> <nil> [] map[] <nil> 0x966460 <nil> 0x9664e0 <nil> <nil> []  NoClientCert <nil> true [] false false [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] <nil> 0 0 [] false 0 <nil> {{0 0} 0 0 0 0} [] []}"
INFO: 2021/06/11 16:45:21 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:45:21 [core] Subchannel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:45:21 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:45:21Z" level=info msg="Trying to establish connection using tlsConfig:&{<nil> <nil> [] map[] <nil> 0x966460 <nil> 0x9664e0 <nil> <nil> []  NoClientCert <nil> true [] false false [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] <nil> 0 0 [] false 0 <nil> {{0 0} 0 0 0 0} [] []}"
INFO: 2021/06/11 16:45:21 [core] parsed scheme: ""
INFO: 2021/06/11 16:45:21 [core] scheme "" not registered, fallback to default scheme
INFO: 2021/06/11 16:45:21 [core] ccResolverWrapper: sending update to cc: {[{/var/lib/networkservicemesh/nsm.io.sock  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:45:21 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:45:21 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:45:21 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:45:21 [core] Subchannel picks a new address "/var/lib/networkservicemesh/nsm.io.sock" to connect
INFO: 2021/06/11 16:45:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001ff010, {CONNECTING <nil>}
INFO: 2021/06/11 16:45:21 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:45:21 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:45:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001ff010, {READY <nil>}
INFO: 2021/06/11 16:45:21 [core] Channel Connectivity change to READY
time="2021-06-11T16:45:21Z" level=info msg="Requesting nsmd for client connection..."
time="2021-06-11T16:45:21Z" level=info msg=">><<-------- /nsmdapi.NSMD/EnumConnection()=\"\" span=52b250571857a1c5:04ea10599cd2f4c1:6c5065038f64a194:1"
time="2021-06-11T16:45:21Z" level=info msg=">><<-------- request={} span=52b250571857a1c5:04ea10599cd2f4c1:6c5065038f64a194:1"
2021/06/11 16:45:21 Reporting span 52b250571857a1c5:3fb8f38316f15c19:04ea10599cd2f4c1:1
time="2021-06-11T16:45:21Z" level=info msg=">><<-------- response={\"workspace\":[\"nsm-12\",\"nsm-20\",\"nsm-25\"]} span=52b250571857a1c5:04ea10599cd2f4c1:6c5065038f64a194:1"
time="2021-06-11T16:45:21Z" level=info msg=">><<------ reply={\"workspace\":[\"nsm-12\",\"nsm-20\",\"nsm-25\"]} span=52b250571857a1c5:04ea10599cd2f4c1:6c5065038f64a194:1"
INFO: 2021/06/11 16:45:21 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:45:21 [core] Subchannel Connectivity change to SHUTDOWN
2021/06/11 16:45:21 Reporting span 52b250571857a1c5:04ea10599cd2f4c1:6c5065038f64a194:1
time="2021-06-11T16:45:21Z" level=info msg=">><<---- reply={\"workspace\":[\"nsm-12\",\"nsm-20\",\"nsm-25\"]} span=52b250571857a1c5:6c5065038f64a194:52b250571857a1c5:1"
2021/06/11 16:45:21 Reporting span 52b250571857a1c5:6c5065038f64a194:52b250571857a1c5:1
time="2021-06-11T16:45:21Z" level=info msg="==----> sendDeviceUpdate() span:52b250571857a1c5:7096718dd5ecb60a:52b250571857a1c5:1"
INFO: 2021/06/11 16:45:21 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:45:21Z" level=info msg=">><<---- info={\"devices\":[{\"ID\":\"nsm-1\",\"health\":\"Healthy\"},{\"ID\":\"nsm-2\",\"health\":\"Healthy\"},{\"ID\":\"nsm-3\",\"health\":\"Healthy\"},{\"ID\":\"nsm-4\",\"health\":\"Healthy\"},{\"ID\":\"nsm-5\",\"health\":\"Healthy\"},{\"ID\":\"nsm-6\",\"health\":\"Healthy\"},{\"ID\":\"nsm-7\",\"health\":\"Healthy\"},{\"ID\":\"nsm-8\",\"health\":\"Healthy\"},{\"ID\":\"nsm-9\",\"health\":\"Healthy\"},{\"ID\":\"nsm-10\",\"health\":\"Healthy\"},{\"ID\":\"nsm-11\",\"health\":\"Healthy\"},{\"ID\":\"nsm-12\",\"health\":\"Healthy\"},{\"ID\":\"nsm-13\",\"health\":\"Healthy\"},{\"ID\":\"nsm-14\",\"health\":\"Healthy\"},{\"ID\":\"nsm-15\",\"health\":\"Healthy\"},{\"ID\":\"nsm-16\",\"health\":\"Healthy\"},{\"ID\":\"nsm-17\",\"health\":\"Healthy\"},{\"ID\":\"nsm-18\",\"health\":\"Healthy\"},{\"ID\":\"nsm-19\",\"health\":\"Healthy\"},{\"ID\":\"nsm-20\",\"health\":\"Healthy\"},{\"ID\":\"nsm-21\",\"health\":\"Healthy\"},{\"ID\":\"nsm-22\",\"health\":\"Healthy\"},{\"ID\":\"nsm-23\",\"health\":\"Healthy\"},{\"ID\":\"nsm-24\",\"health\":\"Healthy\"},{\"ID\":\"nsm-25\",\"health\":\"Healthy\"},{\"ID\":\"nsm-26\",\"health\":\"Healthy\"},{\"ID\":\"nsm-27\",\"health\":\"Healthy\"},{\"ID\":\"nsm-28\",\"health\":\"Healthy\"},{\"ID\":\"nsm-29\",\"health\":\"Healthy\"},{\"ID\":\"nsm-30\",\"health\":\"Healthy\"},{\"ID\":\"nsm-31\",\"health\":\"Healthy\"},{\"ID\":\"nsm-32\",\"health\":\"Healthy\"},{\"ID\":\"nsm-33\",\"health\":\"Healthy\"}]} span=52b250571857a1c5:7096718dd5ecb60a:52b250571857a1c5:1"
time="2021-06-11T16:45:21Z" level=info msg="Send device plugins info" operation=sendDeviceUpdate span="52b250571857a1c5:7096718dd5ecb60a:52b250571857a1c5:1"
time="2021-06-11T16:45:21Z" level=info msg="Delaying 30s" operation=ListAndWatch-3 span="52b250571857a1c5:52b250571857a1c5:0000000000000000:1"
2021/06/11 16:45:21 Reporting span 52b250571857a1c5:52b250571857a1c5:0000000000000000:1
time="2021-06-11T16:45:51Z" level=info msg="==--> ListAndWatch-4() span:2e7f22f0d7ef87cd:2e7f22f0d7ef87cd:0000000000000000:1"
time="2021-06-11T16:45:51Z" level=info msg="==----> recieveWorkspaces() span:2e7f22f0d7ef87cd:264dcc319b884615:2e7f22f0d7ef87cd:1"
time="2021-06-11T16:45:51Z" level=info msg="Request workspaces list" operation=recieveWorkspaces span="2e7f22f0d7ef87cd:264dcc319b884615:2e7f22f0d7ef87cd:1"
time="2021-06-11T16:45:51Z" level=info msg="==------> enumWorkspaces() span:2e7f22f0d7ef87cd:52327e9415a7c55d:264dcc319b884615:1"
time="2021-06-11T16:45:51Z" level=info msg="Connecting to nsmd on socket: /var/lib/networkservicemesh/nsm.io.sock..."
time="2021-06-11T16:45:51Z" level=info msg="Trying to establish connection to target: /var/lib/networkservicemesh/nsm.io.sock"
time="2021-06-11T16:45:51Z" level=info msg="Connecting to the workload api at:unix:///run/spire/sockets/agent.sock"
INFO: 2021/06/11 16:45:51 [core] parsed scheme: "unix"
INFO: 2021/06/11 16:45:51 [core] ccResolverWrapper: sending update to cc: {[{/run/spire/sockets/agent.sock  0xc0004840d0 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:45:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:45:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:45:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:45:51 [core] blockingPicker: the picked transport is not ready, loop back to repick
INFO: 2021/06/11 16:45:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc00060a1c0, {CONNECTING <nil>}
INFO: 2021/06/11 16:45:51 [core] Subchannel picks a new address "/run/spire/sockets/agent.sock" to connect
INFO: 2021/06/11 16:45:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:45:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:45:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc00060a1c0, {READY <nil>}
INFO: 2021/06/11 16:45:51 [core] Channel Connectivity change to READY
INFO: 2021/06/11 16:45:51 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:45:51 [core] Subchannel Connectivity change to SHUTDOWN
time="2021-06-11T16:45:51Z" level=info msg="Successfully retrieve bundles:&{{{0 0} 0 0 0 0} map[{test.com}:0xc000396c80]}"
time="2021-06-11T16:45:51Z" level=info msg="defaultTrustDomain:test.com"
time="2021-06-11T16:45:51Z" level=info msg="AUTHORIZING ALL CLIENTS"
time="2021-06-11T16:45:51Z" level=info msg="Fetch tlsConfig for Trust Domain: test.com"
time="2021-06-11T16:45:51Z" level=info msg="Found 1 tlsconfigs."
INFO: 2021/06/11 16:45:51 [core] parsed scheme: ""
INFO: 2021/06/11 16:45:51 [core] scheme "" not registered, fallback to default scheme
INFO: 2021/06/11 16:45:51 [core] ccResolverWrapper: sending update to cc: {[{/var/lib/networkservicemesh/nsm.io.sock  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:45:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:45:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:45:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:45:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:45:51 [core] Subchannel picks a new address "/var/lib/networkservicemesh/nsm.io.sock" to connect
INFO: 2021/06/11 16:45:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc0003034b0, {CONNECTING <nil>}
INFO: 2021/06/11 16:45:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:45:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:45:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc0003034b0, {READY <nil>}
INFO: 2021/06/11 16:45:51 [core] Channel Connectivity change to READY
time="2021-06-11T16:45:51Z" level=info msg="Found the right tls certificate:&{<nil> <nil> [] map[] <nil> 0x966460 <nil> 0x9664e0 <nil> <nil> []  NoClientCert <nil> true [] false false [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] <nil> 0 0 [] false 0 <nil> {{0 0} 0 0 0 0} [] []}"
INFO: 2021/06/11 16:45:51 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:45:51 [core] Subchannel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:45:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:45:51Z" level=info msg="Trying to establish connection using tlsConfig:&{<nil> <nil> [] map[] <nil> 0x966460 <nil> 0x9664e0 <nil> <nil> []  NoClientCert <nil> true [] false false [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] <nil> 0 0 [] false 0 <nil> {{0 0} 0 0 0 0} [] []}"
INFO: 2021/06/11 16:45:51 [core] parsed scheme: ""
INFO: 2021/06/11 16:45:51 [core] scheme "" not registered, fallback to default scheme
INFO: 2021/06/11 16:45:51 [core] ccResolverWrapper: sending update to cc: {[{/var/lib/networkservicemesh/nsm.io.sock  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:45:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:45:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:45:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:45:51 [core] Subchannel picks a new address "/var/lib/networkservicemesh/nsm.io.sock" to connect
INFO: 2021/06/11 16:45:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001ff570, {CONNECTING <nil>}
INFO: 2021/06/11 16:45:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:45:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:45:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001ff570, {READY <nil>}
INFO: 2021/06/11 16:45:51 [core] Channel Connectivity change to READY
time="2021-06-11T16:45:51Z" level=info msg="Requesting nsmd for client connection..."
time="2021-06-11T16:45:51Z" level=info msg=">><<-------- /nsmdapi.NSMD/EnumConnection()=\"\" span=2e7f22f0d7ef87cd:52327e9415a7c55d:264dcc319b884615:1"
time="2021-06-11T16:45:51Z" level=info msg=">><<-------- request={} span=2e7f22f0d7ef87cd:52327e9415a7c55d:264dcc319b884615:1"
2021/06/11 16:45:51 Reporting span 2e7f22f0d7ef87cd:0fc20e1065f0b480:52327e9415a7c55d:1
time="2021-06-11T16:45:51Z" level=info msg=">><<-------- response={\"workspace\":[\"nsm-20\",\"nsm-25\",\"nsm-12\"]} span=2e7f22f0d7ef87cd:52327e9415a7c55d:264dcc319b884615:1"
time="2021-06-11T16:45:51Z" level=info msg=">><<------ reply={\"workspace\":[\"nsm-20\",\"nsm-25\",\"nsm-12\"]} span=2e7f22f0d7ef87cd:52327e9415a7c55d:264dcc319b884615:1"
INFO: 2021/06/11 16:45:51 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:45:51 [core] Subchannel Connectivity change to SHUTDOWN
2021/06/11 16:45:51 Reporting span 2e7f22f0d7ef87cd:52327e9415a7c55d:264dcc319b884615:1
INFO: 2021/06/11 16:45:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:45:51Z" level=info msg=">><<---- reply={\"workspace\":[\"nsm-20\",\"nsm-25\",\"nsm-12\"]} span=2e7f22f0d7ef87cd:264dcc319b884615:2e7f22f0d7ef87cd:1"
2021/06/11 16:45:51 Reporting span 2e7f22f0d7ef87cd:264dcc319b884615:2e7f22f0d7ef87cd:1
time="2021-06-11T16:45:51Z" level=info msg="==----> sendDeviceUpdate() span:2e7f22f0d7ef87cd:4729f74197d03a83:2e7f22f0d7ef87cd:1"
time="2021-06-11T16:45:51Z" level=info msg=">><<---- info={\"devices\":[{\"ID\":\"nsm-1\",\"health\":\"Healthy\"},{\"ID\":\"nsm-2\",\"health\":\"Healthy\"},{\"ID\":\"nsm-3\",\"health\":\"Healthy\"},{\"ID\":\"nsm-4\",\"health\":\"Healthy\"},{\"ID\":\"nsm-5\",\"health\":\"Healthy\"},{\"ID\":\"nsm-6\",\"health\":\"Healthy\"},{\"ID\":\"nsm-7\",\"health\":\"Healthy\"},{\"ID\":\"nsm-8\",\"health\":\"Healthy\"},{\"ID\":\"nsm-9\",\"health\":\"Healthy\"},{\"ID\":\"nsm-10\",\"health\":\"Healthy\"},{\"ID\":\"nsm-11\",\"health\":\"Healthy\"},{\"ID\":\"nsm-12\",\"health\":\"Healthy\"},{\"ID\":\"nsm-13\",\"health\":\"Healthy\"},{\"ID\":\"nsm-14\",\"health\":\"Healthy\"},{\"ID\":\"nsm-15\",\"health\":\"Healthy\"},{\"ID\":\"nsm-16\",\"health\":\"Healthy\"},{\"ID\":\"nsm-17\",\"health\":\"Healthy\"},{\"ID\":\"nsm-18\",\"health\":\"Healthy\"},{\"ID\":\"nsm-19\",\"health\":\"Healthy\"},{\"ID\":\"nsm-20\",\"health\":\"Healthy\"},{\"ID\":\"nsm-21\",\"health\":\"Healthy\"},{\"ID\":\"nsm-22\",\"health\":\"Healthy\"},{\"ID\":\"nsm-23\",\"health\":\"Healthy\"},{\"ID\":\"nsm-24\",\"health\":\"Healthy\"},{\"ID\":\"nsm-25\",\"health\":\"Healthy\"},{\"ID\":\"nsm-26\",\"health\":\"Healthy\"},{\"ID\":\"nsm-27\",\"health\":\"Healthy\"},{\"ID\":\"nsm-28\",\"health\":\"Healthy\"},{\"ID\":\"nsm-29\",\"health\":\"Healthy\"},{\"ID\":\"nsm-30\",\"health\":\"Healthy\"},{\"ID\":\"nsm-31\",\"health\":\"Healthy\"},{\"ID\":\"nsm-32\",\"health\":\"Healthy\"},{\"ID\":\"nsm-33\",\"health\":\"Healthy\"}]} span=2e7f22f0d7ef87cd:4729f74197d03a83:2e7f22f0d7ef87cd:1"
time="2021-06-11T16:45:51Z" level=info msg="Send device plugins info" operation=sendDeviceUpdate span="2e7f22f0d7ef87cd:4729f74197d03a83:2e7f22f0d7ef87cd:1"
time="2021-06-11T16:45:51Z" level=info msg="Delaying 30s" operation=ListAndWatch-4 span="2e7f22f0d7ef87cd:2e7f22f0d7ef87cd:0000000000000000:1"
2021/06/11 16:45:51 Reporting span 2e7f22f0d7ef87cd:2e7f22f0d7ef87cd:0000000000000000:1
time="2021-06-11T16:46:21Z" level=info msg="==--> ListAndWatch-5() span:312c608c05fa99a3:312c608c05fa99a3:0000000000000000:1"
time="2021-06-11T16:46:21Z" level=info msg="==----> recieveWorkspaces() span:312c608c05fa99a3:4b40a227fbca2c28:312c608c05fa99a3:1"
time="2021-06-11T16:46:21Z" level=info msg="Request workspaces list" operation=recieveWorkspaces span="312c608c05fa99a3:4b40a227fbca2c28:312c608c05fa99a3:1"
time="2021-06-11T16:46:21Z" level=info msg="==------> enumWorkspaces() span:312c608c05fa99a3:6eb141715e02654a:4b40a227fbca2c28:1"
time="2021-06-11T16:46:21Z" level=info msg="Connecting to nsmd on socket: /var/lib/networkservicemesh/nsm.io.sock..."
time="2021-06-11T16:46:21Z" level=info msg="Trying to establish connection to target: /var/lib/networkservicemesh/nsm.io.sock"
time="2021-06-11T16:46:21Z" level=info msg="Connecting to the workload api at:unix:///run/spire/sockets/agent.sock"
INFO: 2021/06/11 16:46:21 [core] parsed scheme: "unix"
INFO: 2021/06/11 16:46:21 [core] ccResolverWrapper: sending update to cc: {[{/run/spire/sockets/agent.sock  0xc0004841b0 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:46:21 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:46:21 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:46:21 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:46:21 [core] blockingPicker: the picked transport is not ready, loop back to repick
INFO: 2021/06/11 16:46:21 [core] Subchannel picks a new address "/run/spire/sockets/agent.sock" to connect
INFO: 2021/06/11 16:46:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc00060b500, {CONNECTING <nil>}
INFO: 2021/06/11 16:46:21 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:46:21 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:46:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc00060b500, {READY <nil>}
INFO: 2021/06/11 16:46:21 [core] Channel Connectivity change to READY
INFO: 2021/06/11 16:46:21 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:46:21 [core] Subchannel Connectivity change to SHUTDOWN
time="2021-06-11T16:46:21Z" level=info msg="Successfully retrieve bundles:&{{{0 0} 0 0 0 0} map[{test.com}:0xc00063b580]}"
time="2021-06-11T16:46:21Z" level=info msg="defaultTrustDomain:test.com"
time="2021-06-11T16:46:21Z" level=info msg="AUTHORIZING ALL CLIENTS"
time="2021-06-11T16:46:21Z" level=info msg="Fetch tlsConfig for Trust Domain: test.com"
time="2021-06-11T16:46:21Z" level=info msg="Found 1 tlsconfigs."
INFO: 2021/06/11 16:46:21 [core] parsed scheme: ""
INFO: 2021/06/11 16:46:21 [core] scheme "" not registered, fallback to default scheme
INFO: 2021/06/11 16:46:21 [core] ccResolverWrapper: sending update to cc: {[{/var/lib/networkservicemesh/nsm.io.sock  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:46:21 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:46:21 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:46:21 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:46:21 [core] Subchannel picks a new address "/var/lib/networkservicemesh/nsm.io.sock" to connect
INFO: 2021/06/11 16:46:21 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:46:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc000030040, {CONNECTING <nil>}
INFO: 2021/06/11 16:46:21 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:46:21 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:46:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc000030040, {READY <nil>}
INFO: 2021/06/11 16:46:21 [core] Channel Connectivity change to READY
time="2021-06-11T16:46:21Z" level=info msg="Found the right tls certificate:&{<nil> <nil> [] map[] <nil> 0x966460 <nil> 0x9664e0 <nil> <nil> []  NoClientCert <nil> true [] false false [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] <nil> 0 0 [] false 0 <nil> {{0 0} 0 0 0 0} [] []}"
INFO: 2021/06/11 16:46:21 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:46:21 [core] Subchannel Connectivity change to SHUTDOWN
time="2021-06-11T16:46:21Z" level=info msg="Trying to establish connection using tlsConfig:&{<nil> <nil> [] map[] <nil> 0x966460 <nil> 0x9664e0 <nil> <nil> []  NoClientCert <nil> true [] false false [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] <nil> 0 0 [] false 0 <nil> {{0 0} 0 0 0 0} [] []}"
INFO: 2021/06/11 16:46:21 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:46:21 [core] parsed scheme: ""
INFO: 2021/06/11 16:46:21 [core] scheme "" not registered, fallback to default scheme
INFO: 2021/06/11 16:46:21 [core] ccResolverWrapper: sending update to cc: {[{/var/lib/networkservicemesh/nsm.io.sock  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:46:21 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:46:21 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:46:21 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:46:21 [core] Subchannel picks a new address "/var/lib/networkservicemesh/nsm.io.sock" to connect
INFO: 2021/06/11 16:46:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc0000304f0, {CONNECTING <nil>}
INFO: 2021/06/11 16:46:21 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:46:21 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:46:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc0000304f0, {READY <nil>}
INFO: 2021/06/11 16:46:21 [core] Channel Connectivity change to READY
time="2021-06-11T16:46:21Z" level=info msg="Requesting nsmd for client connection..."
time="2021-06-11T16:46:21Z" level=info msg=">><<-------- /nsmdapi.NSMD/EnumConnection()=\"\" span=312c608c05fa99a3:6eb141715e02654a:4b40a227fbca2c28:1"
time="2021-06-11T16:46:21Z" level=info msg=">><<-------- request={} span=312c608c05fa99a3:6eb141715e02654a:4b40a227fbca2c28:1"
2021/06/11 16:46:21 Reporting span 312c608c05fa99a3:2c049f81be8a0f5f:6eb141715e02654a:1
time="2021-06-11T16:46:21Z" level=info msg=">><<-------- response={\"workspace\":[\"nsm-12\",\"nsm-20\",\"nsm-25\"]} span=312c608c05fa99a3:6eb141715e02654a:4b40a227fbca2c28:1"
time="2021-06-11T16:46:21Z" level=info msg=">><<------ reply={\"workspace\":[\"nsm-12\",\"nsm-20\",\"nsm-25\"]} span=312c608c05fa99a3:6eb141715e02654a:4b40a227fbca2c28:1"
INFO: 2021/06/11 16:46:21 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:46:21 [core] Subchannel Connectivity change to SHUTDOWN
2021/06/11 16:46:21 Reporting span 312c608c05fa99a3:6eb141715e02654a:4b40a227fbca2c28:1
time="2021-06-11T16:46:21Z" level=info msg=">><<---- reply={\"workspace\":[\"nsm-12\",\"nsm-20\",\"nsm-25\"]} span=312c608c05fa99a3:4b40a227fbca2c28:312c608c05fa99a3:1"
2021/06/11 16:46:21 Reporting span 312c608c05fa99a3:4b40a227fbca2c28:312c608c05fa99a3:1
time="2021-06-11T16:46:21Z" level=info msg="==----> sendDeviceUpdate() span:312c608c05fa99a3:594fb587b6000068:312c608c05fa99a3:1"
time="2021-06-11T16:46:21Z" level=info msg=">><<---- info={\"devices\":[{\"ID\":\"nsm-1\",\"health\":\"Healthy\"},{\"ID\":\"nsm-2\",\"health\":\"Healthy\"},{\"ID\":\"nsm-3\",\"health\":\"Healthy\"},{\"ID\":\"nsm-4\",\"health\":\"Healthy\"},{\"ID\":\"nsm-5\",\"health\":\"Healthy\"},{\"ID\":\"nsm-6\",\"health\":\"Healthy\"},{\"ID\":\"nsm-7\",\"health\":\"Healthy\"},{\"ID\":\"nsm-8\",\"health\":\"Healthy\"},{\"ID\":\"nsm-9\",\"health\":\"Healthy\"},{\"ID\":\"nsm-10\",\"health\":\"Healthy\"},{\"ID\":\"nsm-11\",\"health\":\"Healthy\"},{\"ID\":\"nsm-12\",\"health\":\"Healthy\"},{\"ID\":\"nsm-13\",\"health\":\"Healthy\"},{\"ID\":\"nsm-14\",\"health\":\"Healthy\"},{\"ID\":\"nsm-15\",\"health\":\"Healthy\"},{\"ID\":\"nsm-16\",\"health\":\"Healthy\"},{\"ID\":\"nsm-17\",\"health\":\"Healthy\"},{\"ID\":\"nsm-18\",\"health\":\"Healthy\"},{\"ID\":\"nsm-19\",\"health\":\"Healthy\"},{\"ID\":\"nsm-20\",\"health\":\"Healthy\"},{\"ID\":\"nsm-21\",\"health\":\"Healthy\"},{\"ID\":\"nsm-22\",\"health\":\"Healthy\"},{\"ID\":\"nsm-23\",\"health\":\"Healthy\"},{\"ID\":\"nsm-24\",\"health\":\"Healthy\"},{\"ID\":\"nsm-25\",\"health\":\"Healthy\"},{\"ID\":\"nsm-26\",\"health\":\"Healthy\"},{\"ID\":\"nsm-27\",\"health\":\"Healthy\"},{\"ID\":\"nsm-28\",\"health\":\"Healthy\"},{\"ID\":\"nsm-29\",\"health\":\"Healthy\"},{\"ID\":\"nsm-30\",\"health\":\"Healthy\"},{\"ID\":\"nsm-31\",\"health\":\"Healthy\"},{\"ID\":\"nsm-32\",\"health\":\"Healthy\"},{\"ID\":\"nsm-33\",\"health\":\"Healthy\"}]} span=312c608c05fa99a3:594fb587b6000068:312c608c05fa99a3:1"
time="2021-06-11T16:46:21Z" level=info msg="Send device plugins info" operation=sendDeviceUpdate span="312c608c05fa99a3:594fb587b6000068:312c608c05fa99a3:1"
time="2021-06-11T16:46:21Z" level=info msg="Delaying 30s" operation=ListAndWatch-5 span="312c608c05fa99a3:312c608c05fa99a3:0000000000000000:1"
2021/06/11 16:46:21 Reporting span 312c608c05fa99a3:312c608c05fa99a3:0000000000000000:1
INFO: 2021/06/11 16:46:21 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:46:51Z" level=info msg="==--> ListAndWatch-6() span:661019b2b4a3bd5f:661019b2b4a3bd5f:0000000000000000:1"
time="2021-06-11T16:46:51Z" level=info msg="==----> recieveWorkspaces() span:661019b2b4a3bd5f:4d827008fb1a3ede:661019b2b4a3bd5f:1"
time="2021-06-11T16:46:51Z" level=info msg="Request workspaces list" operation=recieveWorkspaces span="661019b2b4a3bd5f:4d827008fb1a3ede:661019b2b4a3bd5f:1"
time="2021-06-11T16:46:51Z" level=info msg="==------> enumWorkspaces() span:661019b2b4a3bd5f:6fadb7dab1776d00:4d827008fb1a3ede:1"
time="2021-06-11T16:46:51Z" level=info msg="Connecting to nsmd on socket: /var/lib/networkservicemesh/nsm.io.sock..."
time="2021-06-11T16:46:51Z" level=info msg="Trying to establish connection to target: /var/lib/networkservicemesh/nsm.io.sock"
time="2021-06-11T16:46:51Z" level=info msg="Connecting to the workload api at:unix:///run/spire/sockets/agent.sock"
INFO: 2021/06/11 16:46:51 [core] parsed scheme: "unix"
INFO: 2021/06/11 16:46:51 [core] ccResolverWrapper: sending update to cc: {[{/run/spire/sockets/agent.sock  0xc0006081a0 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:46:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:46:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:46:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:46:51 [core] blockingPicker: the picked transport is not ready, loop back to repick
INFO: 2021/06/11 16:46:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc0005392a0, {CONNECTING <nil>}
INFO: 2021/06/11 16:46:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:46:51 [core] Subchannel picks a new address "/run/spire/sockets/agent.sock" to connect
INFO: 2021/06/11 16:46:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:46:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc0005392a0, {READY <nil>}
INFO: 2021/06/11 16:46:51 [core] Channel Connectivity change to READY
INFO: 2021/06/11 16:46:51 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:46:51 [core] Subchannel Connectivity change to SHUTDOWN
time="2021-06-11T16:46:51Z" level=info msg="Successfully retrieve bundles:&{{{0 0} 0 0 0 0} map[{test.com}:0xc00012b940]}"
time="2021-06-11T16:46:51Z" level=info msg="defaultTrustDomain:test.com"
time="2021-06-11T16:46:51Z" level=info msg="AUTHORIZING ALL CLIENTS"
time="2021-06-11T16:46:51Z" level=info msg="Fetch tlsConfig for Trust Domain: test.com"
time="2021-06-11T16:46:51Z" level=info msg="Found 1 tlsconfigs."
INFO: 2021/06/11 16:46:51 [core] parsed scheme: ""
INFO: 2021/06/11 16:46:51 [core] scheme "" not registered, fallback to default scheme
INFO: 2021/06/11 16:46:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:46:51 [core] ccResolverWrapper: sending update to cc: {[{/var/lib/networkservicemesh/nsm.io.sock  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:46:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:46:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:46:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:46:51 [core] Subchannel picks a new address "/var/lib/networkservicemesh/nsm.io.sock" to connect
INFO: 2021/06/11 16:46:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc000539d00, {CONNECTING <nil>}
INFO: 2021/06/11 16:46:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:46:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:46:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc000539d00, {READY <nil>}
INFO: 2021/06/11 16:46:51 [core] Channel Connectivity change to READY
time="2021-06-11T16:46:51Z" level=info msg="Found the right tls certificate:&{<nil> <nil> [] map[] <nil> 0x966460 <nil> 0x9664e0 <nil> <nil> []  NoClientCert <nil> true [] false false [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] <nil> 0 0 [] false 0 <nil> {{0 0} 0 0 0 0} [] []}"
INFO: 2021/06/11 16:46:51 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:46:51 [core] Subchannel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:46:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:46:51Z" level=info msg="Trying to establish connection using tlsConfig:&{<nil> <nil> [] map[] <nil> 0x966460 <nil> 0x9664e0 <nil> <nil> []  NoClientCert <nil> true [] false false [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] <nil> 0 0 [] false 0 <nil> {{0 0} 0 0 0 0} [] []}"
INFO: 2021/06/11 16:46:51 [core] parsed scheme: ""
INFO: 2021/06/11 16:46:51 [core] scheme "" not registered, fallback to default scheme
INFO: 2021/06/11 16:46:51 [core] ccResolverWrapper: sending update to cc: {[{/var/lib/networkservicemesh/nsm.io.sock  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:46:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:46:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:46:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:46:51 [core] Subchannel picks a new address "/var/lib/networkservicemesh/nsm.io.sock" to connect
INFO: 2021/06/11 16:46:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc0005384a0, {CONNECTING <nil>}
INFO: 2021/06/11 16:46:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:46:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:46:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc0005384a0, {READY <nil>}
INFO: 2021/06/11 16:46:51 [core] Channel Connectivity change to READY
time="2021-06-11T16:46:51Z" level=info msg="Requesting nsmd for client connection..."
time="2021-06-11T16:46:51Z" level=info msg=">><<-------- /nsmdapi.NSMD/EnumConnection()=\"\" span=661019b2b4a3bd5f:6fadb7dab1776d00:4d827008fb1a3ede:1"
time="2021-06-11T16:46:51Z" level=info msg=">><<-------- request={} span=661019b2b4a3bd5f:6fadb7dab1776d00:4d827008fb1a3ede:1"
2021/06/11 16:46:51 Reporting span 661019b2b4a3bd5f:6367ed6295ad7891:6fadb7dab1776d00:1
time="2021-06-11T16:46:51Z" level=info msg=">><<-------- response={\"workspace\":[\"nsm-12\",\"nsm-20\",\"nsm-25\"]} span=661019b2b4a3bd5f:6fadb7dab1776d00:4d827008fb1a3ede:1"
time="2021-06-11T16:46:51Z" level=info msg=">><<------ reply={\"workspace\":[\"nsm-12\",\"nsm-20\",\"nsm-25\"]} span=661019b2b4a3bd5f:6fadb7dab1776d00:4d827008fb1a3ede:1"
INFO: 2021/06/11 16:46:51 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:46:51 [core] Subchannel Connectivity change to SHUTDOWN
2021/06/11 16:46:51 Reporting span 661019b2b4a3bd5f:6fadb7dab1776d00:4d827008fb1a3ede:1
time="2021-06-11T16:46:51Z" level=info msg=">><<---- reply={\"workspace\":[\"nsm-12\",\"nsm-20\",\"nsm-25\"]} span=661019b2b4a3bd5f:4d827008fb1a3ede:661019b2b4a3bd5f:1"
INFO: 2021/06/11 16:46:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
2021/06/11 16:46:51 Reporting span 661019b2b4a3bd5f:4d827008fb1a3ede:661019b2b4a3bd5f:1
time="2021-06-11T16:46:51Z" level=info msg="==----> sendDeviceUpdate() span:661019b2b4a3bd5f:184cb9f500f53bfa:661019b2b4a3bd5f:1"
time="2021-06-11T16:46:51Z" level=info msg=">><<---- info={\"devices\":[{\"ID\":\"nsm-1\",\"health\":\"Healthy\"},{\"ID\":\"nsm-2\",\"health\":\"Healthy\"},{\"ID\":\"nsm-3\",\"health\":\"Healthy\"},{\"ID\":\"nsm-4\",\"health\":\"Healthy\"},{\"ID\":\"nsm-5\",\"health\":\"Healthy\"},{\"ID\":\"nsm-6\",\"health\":\"Healthy\"},{\"ID\":\"nsm-7\",\"health\":\"Healthy\"},{\"ID\":\"nsm-8\",\"health\":\"Healthy\"},{\"ID\":\"nsm-9\",\"health\":\"Healthy\"},{\"ID\":\"nsm-10\",\"health\":\"Healthy\"},{\"ID\":\"nsm-11\",\"health\":\"Healthy\"},{\"ID\":\"nsm-12\",\"health\":\"Healthy\"},{\"ID\":\"nsm-13\",\"health\":\"Healthy\"},{\"ID\":\"nsm-14\",\"health\":\"Healthy\"},{\"ID\":\"nsm-15\",\"health\":\"Healthy\"},{\"ID\":\"nsm-16\",\"health\":\"Healthy\"},{\"ID\":\"nsm-17\",\"health\":\"Healthy\"},{\"ID\":\"nsm-18\",\"health\":\"Healthy\"},{\"ID\":\"nsm-19\",\"health\":\"Healthy\"},{\"ID\":\"nsm-20\",\"health\":\"Healthy\"},{\"ID\":\"nsm-21\",\"health\":\"Healthy\"},{\"ID\":\"nsm-22\",\"health\":\"Healthy\"},{\"ID\":\"nsm-23\",\"health\":\"Healthy\"},{\"ID\":\"nsm-24\",\"health\":\"Healthy\"},{\"ID\":\"nsm-25\",\"health\":\"Healthy\"},{\"ID\":\"nsm-26\",\"health\":\"Healthy\"},{\"ID\":\"nsm-27\",\"health\":\"Healthy\"},{\"ID\":\"nsm-28\",\"health\":\"Healthy\"},{\"ID\":\"nsm-29\",\"health\":\"Healthy\"},{\"ID\":\"nsm-30\",\"health\":\"Healthy\"},{\"ID\":\"nsm-31\",\"health\":\"Healthy\"},{\"ID\":\"nsm-32\",\"health\":\"Healthy\"},{\"ID\":\"nsm-33\",\"health\":\"Healthy\"}]} span=661019b2b4a3bd5f:184cb9f500f53bfa:661019b2b4a3bd5f:1"
time="2021-06-11T16:46:51Z" level=info msg="Send device plugins info" operation=sendDeviceUpdate span="661019b2b4a3bd5f:184cb9f500f53bfa:661019b2b4a3bd5f:1"
time="2021-06-11T16:46:51Z" level=info msg="Delaying 30s" operation=ListAndWatch-6 span="661019b2b4a3bd5f:661019b2b4a3bd5f:0000000000000000:1"
2021/06/11 16:46:51 Reporting span 661019b2b4a3bd5f:661019b2b4a3bd5f:0000000000000000:1
time="2021-06-11T16:47:21Z" level=info msg="==--> ListAndWatch-7() span:08c265b0572240ad:08c265b0572240ad:0000000000000000:1"
time="2021-06-11T16:47:21Z" level=info msg="==----> recieveWorkspaces() span:08c265b0572240ad:6a5c977d41d00cc4:08c265b0572240ad:1"
time="2021-06-11T16:47:21Z" level=info msg="Request workspaces list" operation=recieveWorkspaces span="08c265b0572240ad:6a5c977d41d00cc4:08c265b0572240ad:1"
time="2021-06-11T16:47:21Z" level=info msg="==------> enumWorkspaces() span:08c265b0572240ad:15fae31f8961d941:6a5c977d41d00cc4:1"
time="2021-06-11T16:47:21Z" level=info msg="Connecting to nsmd on socket: /var/lib/networkservicemesh/nsm.io.sock..."
time="2021-06-11T16:47:21Z" level=info msg="Trying to establish connection to target: /var/lib/networkservicemesh/nsm.io.sock"
time="2021-06-11T16:47:21Z" level=info msg="Connecting to the workload api at:unix:///run/spire/sockets/agent.sock"
INFO: 2021/06/11 16:47:21 [core] parsed scheme: "unix"
INFO: 2021/06/11 16:47:21 [core] ccResolverWrapper: sending update to cc: {[{/run/spire/sockets/agent.sock  0xc0006081b8 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:47:21 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:47:21 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:47:21 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:47:21 [core] blockingPicker: the picked transport is not ready, loop back to repick
INFO: 2021/06/11 16:47:21 [core] Subchannel picks a new address "/run/spire/sockets/agent.sock" to connect
INFO: 2021/06/11 16:47:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc000538f70, {CONNECTING <nil>}
INFO: 2021/06/11 16:47:21 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:47:21 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:47:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc000538f70, {READY <nil>}
INFO: 2021/06/11 16:47:21 [core] Channel Connectivity change to READY
INFO: 2021/06/11 16:47:21 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:47:21 [core] Subchannel Connectivity change to SHUTDOWN
time="2021-06-11T16:47:21Z" level=info msg="Successfully retrieve bundles:&{{{0 0} 0 0 0 0} map[{test.com}:0xc00012b740]}"
INFO: 2021/06/11 16:47:21 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:47:21Z" level=info msg="defaultTrustDomain:test.com"
time="2021-06-11T16:47:21Z" level=info msg="AUTHORIZING ALL CLIENTS"
time="2021-06-11T16:47:21Z" level=info msg="Fetch tlsConfig for Trust Domain: test.com"
time="2021-06-11T16:47:21Z" level=info msg="Found 1 tlsconfigs."
INFO: 2021/06/11 16:47:21 [core] parsed scheme: ""
INFO: 2021/06/11 16:47:21 [core] scheme "" not registered, fallback to default scheme
INFO: 2021/06/11 16:47:21 [core] ccResolverWrapper: sending update to cc: {[{/var/lib/networkservicemesh/nsm.io.sock  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:47:21 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:47:21 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:47:21 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:47:21 [core] Subchannel picks a new address "/var/lib/networkservicemesh/nsm.io.sock" to connect
INFO: 2021/06/11 16:47:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc000539990, {CONNECTING <nil>}
INFO: 2021/06/11 16:47:21 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:47:21 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:47:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc000539990, {READY <nil>}
INFO: 2021/06/11 16:47:21 [core] Channel Connectivity change to READY
time="2021-06-11T16:47:21Z" level=info msg="Found the right tls certificate:&{<nil> <nil> [] map[] <nil> 0x966460 <nil> 0x9664e0 <nil> <nil> []  NoClientCert <nil> true [] false false [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] <nil> 0 0 [] false 0 <nil> {{0 0} 0 0 0 0} [] []}"
INFO: 2021/06/11 16:47:21 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:47:21 [core] Subchannel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:47:21 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:47:21Z" level=info msg="Trying to establish connection using tlsConfig:&{<nil> <nil> [] map[] <nil> 0x966460 <nil> 0x9664e0 <nil> <nil> []  NoClientCert <nil> true [] false false [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] <nil> 0 0 [] false 0 <nil> {{0 0} 0 0 0 0} [] []}"
INFO: 2021/06/11 16:47:21 [core] parsed scheme: ""
INFO: 2021/06/11 16:47:21 [core] scheme "" not registered, fallback to default scheme
INFO: 2021/06/11 16:47:21 [core] ccResolverWrapper: sending update to cc: {[{/var/lib/networkservicemesh/nsm.io.sock  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:47:21 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:47:21 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:47:21 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:47:21 [core] Subchannel picks a new address "/var/lib/networkservicemesh/nsm.io.sock" to connect
INFO: 2021/06/11 16:47:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc00060a0b0, {CONNECTING <nil>}
INFO: 2021/06/11 16:47:21 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:47:21 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:47:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc00060a0b0, {READY <nil>}
INFO: 2021/06/11 16:47:21 [core] Channel Connectivity change to READY
time="2021-06-11T16:47:21Z" level=info msg="Requesting nsmd for client connection..."
time="2021-06-11T16:47:21Z" level=info msg=">><<-------- /nsmdapi.NSMD/EnumConnection()=\"\" span=08c265b0572240ad:15fae31f8961d941:6a5c977d41d00cc4:1"
time="2021-06-11T16:47:21Z" level=info msg=">><<-------- request={} span=08c265b0572240ad:15fae31f8961d941:6a5c977d41d00cc4:1"
2021/06/11 16:47:21 Reporting span 08c265b0572240ad:6743d6ade11fad58:15fae31f8961d941:1
time="2021-06-11T16:47:21Z" level=info msg=">><<-------- response={\"workspace\":[\"nsm-12\",\"nsm-20\",\"nsm-25\"]} span=08c265b0572240ad:15fae31f8961d941:6a5c977d41d00cc4:1"
time="2021-06-11T16:47:21Z" level=info msg=">><<------ reply={\"workspace\":[\"nsm-12\",\"nsm-20\",\"nsm-25\"]} span=08c265b0572240ad:15fae31f8961d941:6a5c977d41d00cc4:1"
INFO: 2021/06/11 16:47:21 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:47:21 [core] Subchannel Connectivity change to SHUTDOWN
2021/06/11 16:47:21 Reporting span 08c265b0572240ad:15fae31f8961d941:6a5c977d41d00cc4:1
INFO: 2021/06/11 16:47:21 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:47:21Z" level=info msg=">><<---- reply={\"workspace\":[\"nsm-12\",\"nsm-20\",\"nsm-25\"]} span=08c265b0572240ad:6a5c977d41d00cc4:08c265b0572240ad:1"
2021/06/11 16:47:21 Reporting span 08c265b0572240ad:6a5c977d41d00cc4:08c265b0572240ad:1
time="2021-06-11T16:47:21Z" level=info msg="==----> sendDeviceUpdate() span:08c265b0572240ad:4d3cbfb80508ffb1:08c265b0572240ad:1"
time="2021-06-11T16:47:21Z" level=info msg=">><<---- info={\"devices\":[{\"ID\":\"nsm-1\",\"health\":\"Healthy\"},{\"ID\":\"nsm-2\",\"health\":\"Healthy\"},{\"ID\":\"nsm-3\",\"health\":\"Healthy\"},{\"ID\":\"nsm-4\",\"health\":\"Healthy\"},{\"ID\":\"nsm-5\",\"health\":\"Healthy\"},{\"ID\":\"nsm-6\",\"health\":\"Healthy\"},{\"ID\":\"nsm-7\",\"health\":\"Healthy\"},{\"ID\":\"nsm-8\",\"health\":\"Healthy\"},{\"ID\":\"nsm-9\",\"health\":\"Healthy\"},{\"ID\":\"nsm-10\",\"health\":\"Healthy\"},{\"ID\":\"nsm-11\",\"health\":\"Healthy\"},{\"ID\":\"nsm-12\",\"health\":\"Healthy\"},{\"ID\":\"nsm-13\",\"health\":\"Healthy\"},{\"ID\":\"nsm-14\",\"health\":\"Healthy\"},{\"ID\":\"nsm-15\",\"health\":\"Healthy\"},{\"ID\":\"nsm-16\",\"health\":\"Healthy\"},{\"ID\":\"nsm-17\",\"health\":\"Healthy\"},{\"ID\":\"nsm-18\",\"health\":\"Healthy\"},{\"ID\":\"nsm-19\",\"health\":\"Healthy\"},{\"ID\":\"nsm-20\",\"health\":\"Healthy\"},{\"ID\":\"nsm-21\",\"health\":\"Healthy\"},{\"ID\":\"nsm-22\",\"health\":\"Healthy\"},{\"ID\":\"nsm-23\",\"health\":\"Healthy\"},{\"ID\":\"nsm-24\",\"health\":\"Healthy\"},{\"ID\":\"nsm-25\",\"health\":\"Healthy\"},{\"ID\":\"nsm-26\",\"health\":\"Healthy\"},{\"ID\":\"nsm-27\",\"health\":\"Healthy\"},{\"ID\":\"nsm-28\",\"health\":\"Healthy\"},{\"ID\":\"nsm-29\",\"health\":\"Healthy\"},{\"ID\":\"nsm-30\",\"health\":\"Healthy\"},{\"ID\":\"nsm-31\",\"health\":\"Healthy\"},{\"ID\":\"nsm-32\",\"health\":\"Healthy\"},{\"ID\":\"nsm-33\",\"health\":\"Healthy\"}]} span=08c265b0572240ad:4d3cbfb80508ffb1:08c265b0572240ad:1"
time="2021-06-11T16:47:21Z" level=info msg="Send device plugins info" operation=sendDeviceUpdate span="08c265b0572240ad:4d3cbfb80508ffb1:08c265b0572240ad:1"
time="2021-06-11T16:47:21Z" level=info msg="Delaying 30s" operation=ListAndWatch-7 span="08c265b0572240ad:08c265b0572240ad:0000000000000000:1"
2021/06/11 16:47:21 Reporting span 08c265b0572240ad:08c265b0572240ad:0000000000000000:1
time="2021-06-11T16:47:51Z" level=info msg="==--> ListAndWatch-8() span:3f53050cd8daff50:3f53050cd8daff50:0000000000000000:1"
time="2021-06-11T16:47:51Z" level=info msg="==----> recieveWorkspaces() span:3f53050cd8daff50:6969f71bde92c912:3f53050cd8daff50:1"
time="2021-06-11T16:47:51Z" level=info msg="Request workspaces list" operation=recieveWorkspaces span="3f53050cd8daff50:6969f71bde92c912:3f53050cd8daff50:1"
time="2021-06-11T16:47:51Z" level=info msg="==------> enumWorkspaces() span:3f53050cd8daff50:0e12869985b303ff:6969f71bde92c912:1"
time="2021-06-11T16:47:51Z" level=info msg="Connecting to nsmd on socket: /var/lib/networkservicemesh/nsm.io.sock..."
time="2021-06-11T16:47:51Z" level=info msg="Trying to establish connection to target: /var/lib/networkservicemesh/nsm.io.sock"
time="2021-06-11T16:47:51Z" level=info msg="Connecting to the workload api at:unix:///run/spire/sockets/agent.sock"
INFO: 2021/06/11 16:47:51 [core] parsed scheme: "unix"
INFO: 2021/06/11 16:47:51 [core] ccResolverWrapper: sending update to cc: {[{/run/spire/sockets/agent.sock  0xc0003c8198 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:47:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:47:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:47:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:47:51 [core] blockingPicker: the picked transport is not ready, loop back to repick
INFO: 2021/06/11 16:47:51 [core] Subchannel picks a new address "/run/spire/sockets/agent.sock" to connect
INFO: 2021/06/11 16:47:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc000303160, {CONNECTING <nil>}
INFO: 2021/06/11 16:47:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:47:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:47:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc000303160, {READY <nil>}
INFO: 2021/06/11 16:47:51 [core] Channel Connectivity change to READY
INFO: 2021/06/11 16:47:51 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:47:51 [core] Subchannel Connectivity change to SHUTDOWN
time="2021-06-11T16:47:51Z" level=info msg="Successfully retrieve bundles:&{{{0 0} 0 0 0 0} map[{test.com}:0xc0000b1440]}"
time="2021-06-11T16:47:51Z" level=info msg="defaultTrustDomain:test.com"
time="2021-06-11T16:47:51Z" level=info msg="AUTHORIZING ALL CLIENTS"
time="2021-06-11T16:47:51Z" level=info msg="Fetch tlsConfig for Trust Domain: test.com"
time="2021-06-11T16:47:51Z" level=info msg="Found 1 tlsconfigs."
INFO: 2021/06/11 16:47:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:47:51 [core] parsed scheme: ""
INFO: 2021/06/11 16:47:51 [core] scheme "" not registered, fallback to default scheme
INFO: 2021/06/11 16:47:51 [core] ccResolverWrapper: sending update to cc: {[{/var/lib/networkservicemesh/nsm.io.sock  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:47:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:47:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:47:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:47:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc00060b3f0, {CONNECTING <nil>}
INFO: 2021/06/11 16:47:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:47:51 [core] Subchannel picks a new address "/var/lib/networkservicemesh/nsm.io.sock" to connect
INFO: 2021/06/11 16:47:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:47:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc00060b3f0, {READY <nil>}
INFO: 2021/06/11 16:47:51 [core] Channel Connectivity change to READY
time="2021-06-11T16:47:51Z" level=info msg="Found the right tls certificate:&{<nil> <nil> [] map[] <nil> 0x966460 <nil> 0x9664e0 <nil> <nil> []  NoClientCert <nil> true [] false false [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] <nil> 0 0 [] false 0 <nil> {{0 0} 0 0 0 0} [] []}"
INFO: 2021/06/11 16:47:51 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:47:51 [core] Subchannel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:47:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:47:51Z" level=info msg="Trying to establish connection using tlsConfig:&{<nil> <nil> [] map[] <nil> 0x966460 <nil> 0x9664e0 <nil> <nil> []  NoClientCert <nil> true [] false false [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] <nil> 0 0 [] false 0 <nil> {{0 0} 0 0 0 0} [] []}"
INFO: 2021/06/11 16:47:51 [core] parsed scheme: ""
INFO: 2021/06/11 16:47:51 [core] scheme "" not registered, fallback to default scheme
INFO: 2021/06/11 16:47:51 [core] ccResolverWrapper: sending update to cc: {[{/var/lib/networkservicemesh/nsm.io.sock  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:47:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:47:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:47:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:47:51 [core] Subchannel picks a new address "/var/lib/networkservicemesh/nsm.io.sock" to connect
INFO: 2021/06/11 16:47:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc00060b940, {CONNECTING <nil>}
INFO: 2021/06/11 16:47:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:47:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:47:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc00060b940, {READY <nil>}
INFO: 2021/06/11 16:47:51 [core] Channel Connectivity change to READY
time="2021-06-11T16:47:51Z" level=info msg="Requesting nsmd for client connection..."
time="2021-06-11T16:47:51Z" level=info msg=">><<-------- /nsmdapi.NSMD/EnumConnection()=\"\" span=3f53050cd8daff50:0e12869985b303ff:6969f71bde92c912:1"
time="2021-06-11T16:47:51Z" level=info msg=">><<-------- request={} span=3f53050cd8daff50:0e12869985b303ff:6969f71bde92c912:1"
2021/06/11 16:47:51 Reporting span 3f53050cd8daff50:73fd4399efbd036b:0e12869985b303ff:1
time="2021-06-11T16:47:51Z" level=info msg=">><<-------- response={\"workspace\":[\"nsm-12\",\"nsm-20\",\"nsm-25\"]} span=3f53050cd8daff50:0e12869985b303ff:6969f71bde92c912:1"
time="2021-06-11T16:47:51Z" level=info msg=">><<------ reply={\"workspace\":[\"nsm-12\",\"nsm-20\",\"nsm-25\"]} span=3f53050cd8daff50:0e12869985b303ff:6969f71bde92c912:1"
INFO: 2021/06/11 16:47:51 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:47:51 [core] Subchannel Connectivity change to SHUTDOWN
2021/06/11 16:47:51 Reporting span 3f53050cd8daff50:0e12869985b303ff:6969f71bde92c912:1
INFO: 2021/06/11 16:47:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:47:51Z" level=info msg=">><<---- reply={\"workspace\":[\"nsm-12\",\"nsm-20\",\"nsm-25\"]} span=3f53050cd8daff50:6969f71bde92c912:3f53050cd8daff50:1"
2021/06/11 16:47:51 Reporting span 3f53050cd8daff50:6969f71bde92c912:3f53050cd8daff50:1
time="2021-06-11T16:47:51Z" level=info msg="==----> sendDeviceUpdate() span:3f53050cd8daff50:71319fb367d1af7b:3f53050cd8daff50:1"
time="2021-06-11T16:47:51Z" level=info msg=">><<---- info={\"devices\":[{\"ID\":\"nsm-1\",\"health\":\"Healthy\"},{\"ID\":\"nsm-2\",\"health\":\"Healthy\"},{\"ID\":\"nsm-3\",\"health\":\"Healthy\"},{\"ID\":\"nsm-4\",\"health\":\"Healthy\"},{\"ID\":\"nsm-5\",\"health\":\"Healthy\"},{\"ID\":\"nsm-6\",\"health\":\"Healthy\"},{\"ID\":\"nsm-7\",\"health\":\"Healthy\"},{\"ID\":\"nsm-8\",\"health\":\"Healthy\"},{\"ID\":\"nsm-9\",\"health\":\"Healthy\"},{\"ID\":\"nsm-10\",\"health\":\"Healthy\"},{\"ID\":\"nsm-11\",\"health\":\"Healthy\"},{\"ID\":\"nsm-12\",\"health\":\"Healthy\"},{\"ID\":\"nsm-13\",\"health\":\"Healthy\"},{\"ID\":\"nsm-14\",\"health\":\"Healthy\"},{\"ID\":\"nsm-15\",\"health\":\"Healthy\"},{\"ID\":\"nsm-16\",\"health\":\"Healthy\"},{\"ID\":\"nsm-17\",\"health\":\"Healthy\"},{\"ID\":\"nsm-18\",\"health\":\"Healthy\"},{\"ID\":\"nsm-19\",\"health\":\"Healthy\"},{\"ID\":\"nsm-20\",\"health\":\"Healthy\"},{\"ID\":\"nsm-21\",\"health\":\"Healthy\"},{\"ID\":\"nsm-22\",\"health\":\"Healthy\"},{\"ID\":\"nsm-23\",\"health\":\"Healthy\"},{\"ID\":\"nsm-24\",\"health\":\"Healthy\"},{\"ID\":\"nsm-25\",\"health\":\"Healthy\"},{\"ID\":\"nsm-26\",\"health\":\"Healthy\"},{\"ID\":\"nsm-27\",\"health\":\"Healthy\"},{\"ID\":\"nsm-28\",\"health\":\"Healthy\"},{\"ID\":\"nsm-29\",\"health\":\"Healthy\"},{\"ID\":\"nsm-30\",\"health\":\"Healthy\"},{\"ID\":\"nsm-31\",\"health\":\"Healthy\"},{\"ID\":\"nsm-32\",\"health\":\"Healthy\"},{\"ID\":\"nsm-33\",\"health\":\"Healthy\"}]} span=3f53050cd8daff50:71319fb367d1af7b:3f53050cd8daff50:1"
time="2021-06-11T16:47:51Z" level=info msg="Send device plugins info" operation=sendDeviceUpdate span="3f53050cd8daff50:71319fb367d1af7b:3f53050cd8daff50:1"
time="2021-06-11T16:47:51Z" level=info msg="Delaying 30s" operation=ListAndWatch-8 span="3f53050cd8daff50:3f53050cd8daff50:0000000000000000:1"
2021/06/11 16:47:51 Reporting span 3f53050cd8daff50:3f53050cd8daff50:0000000000000000:1
time="2021-06-11T16:48:21Z" level=info msg="==--> ListAndWatch-9() span:211dd47ac62b1680:211dd47ac62b1680:0000000000000000:1"
time="2021-06-11T16:48:21Z" level=info msg="==----> recieveWorkspaces() span:211dd47ac62b1680:465eff4a96e9c092:211dd47ac62b1680:1"
time="2021-06-11T16:48:21Z" level=info msg="Request workspaces list" operation=recieveWorkspaces span="211dd47ac62b1680:465eff4a96e9c092:211dd47ac62b1680:1"
time="2021-06-11T16:48:21Z" level=info msg="==------> enumWorkspaces() span:211dd47ac62b1680:5ed50e5f525eecca:465eff4a96e9c092:1"
time="2021-06-11T16:48:21Z" level=info msg="Connecting to nsmd on socket: /var/lib/networkservicemesh/nsm.io.sock..."
time="2021-06-11T16:48:21Z" level=info msg="Trying to establish connection to target: /var/lib/networkservicemesh/nsm.io.sock"
time="2021-06-11T16:48:21Z" level=info msg="Connecting to the workload api at:unix:///run/spire/sockets/agent.sock"
INFO: 2021/06/11 16:48:21 [core] parsed scheme: "unix"
INFO: 2021/06/11 16:48:21 [core] ccResolverWrapper: sending update to cc: {[{/run/spire/sockets/agent.sock  0xc00000e040 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:48:21 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:48:21 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:48:21 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:48:21 [core] blockingPicker: the picked transport is not ready, loop back to repick
INFO: 2021/06/11 16:48:21 [core] Subchannel picks a new address "/run/spire/sockets/agent.sock" to connect
INFO: 2021/06/11 16:48:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc0004edad0, {CONNECTING <nil>}
INFO: 2021/06/11 16:48:21 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:48:21 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:48:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc0004edad0, {READY <nil>}
INFO: 2021/06/11 16:48:21 [core] Channel Connectivity change to READY
INFO: 2021/06/11 16:48:21 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:48:21 [core] Subchannel Connectivity change to SHUTDOWN
time="2021-06-11T16:48:21Z" level=info msg="Successfully retrieve bundles:&{{{0 0} 0 0 0 0} map[{test.com}:0xc000490d00]}"
time="2021-06-11T16:48:21Z" level=info msg="defaultTrustDomain:test.com"
time="2021-06-11T16:48:21Z" level=info msg="AUTHORIZING ALL CLIENTS"
time="2021-06-11T16:48:21Z" level=info msg="Fetch tlsConfig for Trust Domain: test.com"
time="2021-06-11T16:48:21Z" level=info msg="Found 1 tlsconfigs."
INFO: 2021/06/11 16:48:21 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:48:21 [core] parsed scheme: ""
INFO: 2021/06/11 16:48:21 [core] scheme "" not registered, fallback to default scheme
INFO: 2021/06/11 16:48:21 [core] ccResolverWrapper: sending update to cc: {[{/var/lib/networkservicemesh/nsm.io.sock  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:48:21 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:48:21 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:48:21 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:48:21 [core] Subchannel picks a new address "/var/lib/networkservicemesh/nsm.io.sock" to connect
INFO: 2021/06/11 16:48:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001fec00, {CONNECTING <nil>}
INFO: 2021/06/11 16:48:21 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:48:21 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:48:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001fec00, {READY <nil>}
INFO: 2021/06/11 16:48:21 [core] Channel Connectivity change to READY
time="2021-06-11T16:48:21Z" level=info msg="Found the right tls certificate:&{<nil> <nil> [] map[] <nil> 0x966460 <nil> 0x9664e0 <nil> <nil> []  NoClientCert <nil> true [] false false [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] <nil> 0 0 [] false 0 <nil> {{0 0} 0 0 0 0} [] []}"
INFO: 2021/06/11 16:48:21 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:48:21 [core] Subchannel Connectivity change to SHUTDOWN
time="2021-06-11T16:48:21Z" level=info msg="Trying to establish connection using tlsConfig:&{<nil> <nil> [] map[] <nil> 0x966460 <nil> 0x9664e0 <nil> <nil> []  NoClientCert <nil> true [] false false [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] <nil> 0 0 [] false 0 <nil> {{0 0} 0 0 0 0} [] []}"
INFO: 2021/06/11 16:48:21 [core] parsed scheme: ""
INFO: 2021/06/11 16:48:21 [core] scheme "" not registered, fallback to default scheme
INFO: 2021/06/11 16:48:21 [core] ccResolverWrapper: sending update to cc: {[{/var/lib/networkservicemesh/nsm.io.sock  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:48:21 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:48:21 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:48:21 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:48:21 [core] Subchannel picks a new address "/var/lib/networkservicemesh/nsm.io.sock" to connect
INFO: 2021/06/11 16:48:21 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:48:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc000302ab0, {CONNECTING <nil>}
INFO: 2021/06/11 16:48:21 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:48:21 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:48:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc000302ab0, {READY <nil>}
INFO: 2021/06/11 16:48:21 [core] Channel Connectivity change to READY
time="2021-06-11T16:48:21Z" level=info msg="Requesting nsmd for client connection..."
time="2021-06-11T16:48:21Z" level=info msg=">><<-------- /nsmdapi.NSMD/EnumConnection()=\"\" span=211dd47ac62b1680:5ed50e5f525eecca:465eff4a96e9c092:1"
time="2021-06-11T16:48:21Z" level=info msg=">><<-------- request={} span=211dd47ac62b1680:5ed50e5f525eecca:465eff4a96e9c092:1"
2021/06/11 16:48:21 Reporting span 211dd47ac62b1680:64372bdb2d80c448:5ed50e5f525eecca:1
time="2021-06-11T16:48:21Z" level=info msg=">><<-------- response={\"workspace\":[\"nsm-12\",\"nsm-20\",\"nsm-25\"]} span=211dd47ac62b1680:5ed50e5f525eecca:465eff4a96e9c092:1"
time="2021-06-11T16:48:21Z" level=info msg=">><<------ reply={\"workspace\":[\"nsm-12\",\"nsm-20\",\"nsm-25\"]} span=211dd47ac62b1680:5ed50e5f525eecca:465eff4a96e9c092:1"
INFO: 2021/06/11 16:48:21 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:48:21 [core] Subchannel Connectivity change to SHUTDOWN
2021/06/11 16:48:21 Reporting span 211dd47ac62b1680:5ed50e5f525eecca:465eff4a96e9c092:1
time="2021-06-11T16:48:21Z" level=info msg=">><<---- reply={\"workspace\":[\"nsm-12\",\"nsm-20\",\"nsm-25\"]} span=211dd47ac62b1680:465eff4a96e9c092:211dd47ac62b1680:1"
INFO: 2021/06/11 16:48:21 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
2021/06/11 16:48:21 Reporting span 211dd47ac62b1680:465eff4a96e9c092:211dd47ac62b1680:1
time="2021-06-11T16:48:21Z" level=info msg="==----> sendDeviceUpdate() span:211dd47ac62b1680:340e0cb2d52a56bf:211dd47ac62b1680:1"
time="2021-06-11T16:48:21Z" level=info msg=">><<---- info={\"devices\":[{\"ID\":\"nsm-1\",\"health\":\"Healthy\"},{\"ID\":\"nsm-2\",\"health\":\"Healthy\"},{\"ID\":\"nsm-3\",\"health\":\"Healthy\"},{\"ID\":\"nsm-4\",\"health\":\"Healthy\"},{\"ID\":\"nsm-5\",\"health\":\"Healthy\"},{\"ID\":\"nsm-6\",\"health\":\"Healthy\"},{\"ID\":\"nsm-7\",\"health\":\"Healthy\"},{\"ID\":\"nsm-8\",\"health\":\"Healthy\"},{\"ID\":\"nsm-9\",\"health\":\"Healthy\"},{\"ID\":\"nsm-10\",\"health\":\"Healthy\"},{\"ID\":\"nsm-11\",\"health\":\"Healthy\"},{\"ID\":\"nsm-12\",\"health\":\"Healthy\"},{\"ID\":\"nsm-13\",\"health\":\"Healthy\"},{\"ID\":\"nsm-14\",\"health\":\"Healthy\"},{\"ID\":\"nsm-15\",\"health\":\"Healthy\"},{\"ID\":\"nsm-16\",\"health\":\"Healthy\"},{\"ID\":\"nsm-17\",\"health\":\"Healthy\"},{\"ID\":\"nsm-18\",\"health\":\"Healthy\"},{\"ID\":\"nsm-19\",\"health\":\"Healthy\"},{\"ID\":\"nsm-20\",\"health\":\"Healthy\"},{\"ID\":\"nsm-21\",\"health\":\"Healthy\"},{\"ID\":\"nsm-22\",\"health\":\"Healthy\"},{\"ID\":\"nsm-23\",\"health\":\"Healthy\"},{\"ID\":\"nsm-24\",\"health\":\"Healthy\"},{\"ID\":\"nsm-25\",\"health\":\"Healthy\"},{\"ID\":\"nsm-26\",\"health\":\"Healthy\"},{\"ID\":\"nsm-27\",\"health\":\"Healthy\"},{\"ID\":\"nsm-28\",\"health\":\"Healthy\"},{\"ID\":\"nsm-29\",\"health\":\"Healthy\"},{\"ID\":\"nsm-30\",\"health\":\"Healthy\"},{\"ID\":\"nsm-31\",\"health\":\"Healthy\"},{\"ID\":\"nsm-32\",\"health\":\"Healthy\"},{\"ID\":\"nsm-33\",\"health\":\"Healthy\"}]} span=211dd47ac62b1680:340e0cb2d52a56bf:211dd47ac62b1680:1"
time="2021-06-11T16:48:21Z" level=info msg="Send device plugins info" operation=sendDeviceUpdate span="211dd47ac62b1680:340e0cb2d52a56bf:211dd47ac62b1680:1"
time="2021-06-11T16:48:21Z" level=info msg="Delaying 30s" operation=ListAndWatch-9 span="211dd47ac62b1680:211dd47ac62b1680:0000000000000000:1"
2021/06/11 16:48:21 Reporting span 211dd47ac62b1680:211dd47ac62b1680:0000000000000000:1
time="2021-06-11T16:48:51Z" level=info msg="==--> ListAndWatch-10() span:77e68d9d57ad5752:77e68d9d57ad5752:0000000000000000:1"
time="2021-06-11T16:48:51Z" level=info msg="==----> recieveWorkspaces() span:77e68d9d57ad5752:71e34b7edaf2a869:77e68d9d57ad5752:1"
time="2021-06-11T16:48:51Z" level=info msg="Request workspaces list" operation=recieveWorkspaces span="77e68d9d57ad5752:71e34b7edaf2a869:77e68d9d57ad5752:1"
time="2021-06-11T16:48:51Z" level=info msg="==------> enumWorkspaces() span:77e68d9d57ad5752:77bebd0da18c55b4:71e34b7edaf2a869:1"
time="2021-06-11T16:48:51Z" level=info msg="Connecting to nsmd on socket: /var/lib/networkservicemesh/nsm.io.sock..."
time="2021-06-11T16:48:51Z" level=info msg="Trying to establish connection to target: /var/lib/networkservicemesh/nsm.io.sock"
time="2021-06-11T16:48:51Z" level=info msg="Connecting to the workload api at:unix:///run/spire/sockets/agent.sock"
INFO: 2021/06/11 16:48:51 [core] parsed scheme: "unix"
INFO: 2021/06/11 16:48:51 [core] ccResolverWrapper: sending update to cc: {[{/run/spire/sockets/agent.sock  0xc0000ac1a8 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:48:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:48:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:48:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:48:51 [core] blockingPicker: the picked transport is not ready, loop back to repick
INFO: 2021/06/11 16:48:51 [core] Subchannel picks a new address "/run/spire/sockets/agent.sock" to connect
INFO: 2021/06/11 16:48:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc000384e50, {CONNECTING <nil>}
INFO: 2021/06/11 16:48:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:48:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:48:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc000384e50, {READY <nil>}
INFO: 2021/06/11 16:48:51 [core] Channel Connectivity change to READY
INFO: 2021/06/11 16:48:51 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:48:51 [core] Subchannel Connectivity change to SHUTDOWN
time="2021-06-11T16:48:51Z" level=info msg="Successfully retrieve bundles:&{{{0 0} 0 0 0 0} map[{test.com}:0xc00063a440]}"
time="2021-06-11T16:48:51Z" level=info msg="defaultTrustDomain:test.com"
time="2021-06-11T16:48:51Z" level=info msg="AUTHORIZING ALL CLIENTS"
time="2021-06-11T16:48:51Z" level=info msg="Fetch tlsConfig for Trust Domain: test.com"
time="2021-06-11T16:48:51Z" level=info msg="Found 1 tlsconfigs."
INFO: 2021/06/11 16:48:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:48:51 [core] parsed scheme: ""
INFO: 2021/06/11 16:48:51 [core] scheme "" not registered, fallback to default scheme
INFO: 2021/06/11 16:48:51 [core] ccResolverWrapper: sending update to cc: {[{/var/lib/networkservicemesh/nsm.io.sock  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:48:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:48:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:48:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:48:51 [core] Subchannel picks a new address "/var/lib/networkservicemesh/nsm.io.sock" to connect
INFO: 2021/06/11 16:48:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001ffb80, {CONNECTING <nil>}
INFO: 2021/06/11 16:48:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:48:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:48:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001ffb80, {READY <nil>}
INFO: 2021/06/11 16:48:51 [core] Channel Connectivity change to READY
time="2021-06-11T16:48:51Z" level=info msg="Found the right tls certificate:&{<nil> <nil> [] map[] <nil> 0x966460 <nil> 0x9664e0 <nil> <nil> []  NoClientCert <nil> true [] false false [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] <nil> 0 0 [] false 0 <nil> {{0 0} 0 0 0 0} [] []}"
INFO: 2021/06/11 16:48:51 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:48:51 [core] Subchannel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:48:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:48:51Z" level=info msg="Trying to establish connection using tlsConfig:&{<nil> <nil> [] map[] <nil> 0x966460 <nil> 0x9664e0 <nil> <nil> []  NoClientCert <nil> true [] false false [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] <nil> 0 0 [] false 0 <nil> {{0 0} 0 0 0 0} [] []}"
INFO: 2021/06/11 16:48:51 [core] parsed scheme: ""
INFO: 2021/06/11 16:48:51 [core] scheme "" not registered, fallback to default scheme
INFO: 2021/06/11 16:48:51 [core] ccResolverWrapper: sending update to cc: {[{/var/lib/networkservicemesh/nsm.io.sock  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:48:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:48:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:48:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:48:51 [core] Subchannel picks a new address "/var/lib/networkservicemesh/nsm.io.sock" to connect
INFO: 2021/06/11 16:48:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc000030530, {CONNECTING <nil>}
INFO: 2021/06/11 16:48:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:48:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:48:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc000030530, {READY <nil>}
INFO: 2021/06/11 16:48:51 [core] Channel Connectivity change to READY
time="2021-06-11T16:48:51Z" level=info msg="Requesting nsmd for client connection..."
time="2021-06-11T16:48:51Z" level=info msg=">><<-------- /nsmdapi.NSMD/EnumConnection()=\"\" span=77e68d9d57ad5752:77bebd0da18c55b4:71e34b7edaf2a869:1"
time="2021-06-11T16:48:51Z" level=info msg=">><<-------- request={} span=77e68d9d57ad5752:77bebd0da18c55b4:71e34b7edaf2a869:1"
2021/06/11 16:48:51 Reporting span 77e68d9d57ad5752:3a8ccd17e3024c26:77bebd0da18c55b4:1
time="2021-06-11T16:48:51Z" level=info msg=">><<-------- response={\"workspace\":[\"nsm-20\",\"nsm-25\",\"nsm-12\"]} span=77e68d9d57ad5752:77bebd0da18c55b4:71e34b7edaf2a869:1"
time="2021-06-11T16:48:51Z" level=info msg=">><<------ reply={\"workspace\":[\"nsm-20\",\"nsm-25\",\"nsm-12\"]} span=77e68d9d57ad5752:77bebd0da18c55b4:71e34b7edaf2a869:1"
INFO: 2021/06/11 16:48:51 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:48:51 [core] Subchannel Connectivity change to SHUTDOWN
2021/06/11 16:48:51 Reporting span 77e68d9d57ad5752:77bebd0da18c55b4:71e34b7edaf2a869:1
time="2021-06-11T16:48:51Z" level=info msg=">><<---- reply={\"workspace\":[\"nsm-20\",\"nsm-25\",\"nsm-12\"]} span=77e68d9d57ad5752:71e34b7edaf2a869:77e68d9d57ad5752:1"
2021/06/11 16:48:51 Reporting span 77e68d9d57ad5752:71e34b7edaf2a869:77e68d9d57ad5752:1
INFO: 2021/06/11 16:48:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:48:51Z" level=info msg="==----> sendDeviceUpdate() span:77e68d9d57ad5752:39c8cb3c110e7dce:77e68d9d57ad5752:1"
time="2021-06-11T16:48:51Z" level=info msg=">><<---- info={\"devices\":[{\"ID\":\"nsm-1\",\"health\":\"Healthy\"},{\"ID\":\"nsm-2\",\"health\":\"Healthy\"},{\"ID\":\"nsm-3\",\"health\":\"Healthy\"},{\"ID\":\"nsm-4\",\"health\":\"Healthy\"},{\"ID\":\"nsm-5\",\"health\":\"Healthy\"},{\"ID\":\"nsm-6\",\"health\":\"Healthy\"},{\"ID\":\"nsm-7\",\"health\":\"Healthy\"},{\"ID\":\"nsm-8\",\"health\":\"Healthy\"},{\"ID\":\"nsm-9\",\"health\":\"Healthy\"},{\"ID\":\"nsm-10\",\"health\":\"Healthy\"},{\"ID\":\"nsm-11\",\"health\":\"Healthy\"},{\"ID\":\"nsm-12\",\"health\":\"Healthy\"},{\"ID\":\"nsm-13\",\"health\":\"Healthy\"},{\"ID\":\"nsm-14\",\"health\":\"Healthy\"},{\"ID\":\"nsm-15\",\"health\":\"Healthy\"},{\"ID\":\"nsm-16\",\"health\":\"Healthy\"},{\"ID\":\"nsm-17\",\"health\":\"Healthy\"},{\"ID\":\"nsm-18\",\"health\":\"Healthy\"},{\"ID\":\"nsm-19\",\"health\":\"Healthy\"},{\"ID\":\"nsm-20\",\"health\":\"Healthy\"},{\"ID\":\"nsm-21\",\"health\":\"Healthy\"},{\"ID\":\"nsm-22\",\"health\":\"Healthy\"},{\"ID\":\"nsm-23\",\"health\":\"Healthy\"},{\"ID\":\"nsm-24\",\"health\":\"Healthy\"},{\"ID\":\"nsm-25\",\"health\":\"Healthy\"},{\"ID\":\"nsm-26\",\"health\":\"Healthy\"},{\"ID\":\"nsm-27\",\"health\":\"Healthy\"},{\"ID\":\"nsm-28\",\"health\":\"Healthy\"},{\"ID\":\"nsm-29\",\"health\":\"Healthy\"},{\"ID\":\"nsm-30\",\"health\":\"Healthy\"},{\"ID\":\"nsm-31\",\"health\":\"Healthy\"},{\"ID\":\"nsm-32\",\"health\":\"Healthy\"},{\"ID\":\"nsm-33\",\"health\":\"Healthy\"}]} span=77e68d9d57ad5752:39c8cb3c110e7dce:77e68d9d57ad5752:1"
time="2021-06-11T16:48:51Z" level=info msg="Send device plugins info" operation=sendDeviceUpdate span="77e68d9d57ad5752:39c8cb3c110e7dce:77e68d9d57ad5752:1"
time="2021-06-11T16:48:51Z" level=info msg="Delaying 30s" operation=ListAndWatch-10 span="77e68d9d57ad5752:77e68d9d57ad5752:0000000000000000:1"
2021/06/11 16:48:51 Reporting span 77e68d9d57ad5752:77e68d9d57ad5752:0000000000000000:1
time="2021-06-11T16:49:21Z" level=info msg="==--> ListAndWatch-11() span:5b4c24b1c58130aa:5b4c24b1c58130aa:0000000000000000:1"
time="2021-06-11T16:49:21Z" level=info msg="==----> recieveWorkspaces() span:5b4c24b1c58130aa:2e0230fb05dc690d:5b4c24b1c58130aa:1"
time="2021-06-11T16:49:21Z" level=info msg="Request workspaces list" operation=recieveWorkspaces span="5b4c24b1c58130aa:2e0230fb05dc690d:5b4c24b1c58130aa:1"
time="2021-06-11T16:49:21Z" level=info msg="==------> enumWorkspaces() span:5b4c24b1c58130aa:7c790f8dd22968d6:2e0230fb05dc690d:1"
time="2021-06-11T16:49:21Z" level=info msg="Connecting to nsmd on socket: /var/lib/networkservicemesh/nsm.io.sock..."
time="2021-06-11T16:49:21Z" level=info msg="Trying to establish connection to target: /var/lib/networkservicemesh/nsm.io.sock"
time="2021-06-11T16:49:21Z" level=info msg="Connecting to the workload api at:unix:///run/spire/sockets/agent.sock"
INFO: 2021/06/11 16:49:21 [core] parsed scheme: "unix"
INFO: 2021/06/11 16:49:21 [core] ccResolverWrapper: sending update to cc: {[{/run/spire/sockets/agent.sock  0xc000608178 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:49:21 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:49:21 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:49:21 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:49:21 [core] blockingPicker: the picked transport is not ready, loop back to repick
INFO: 2021/06/11 16:49:21 [core] Subchannel picks a new address "/run/spire/sockets/agent.sock" to connect
INFO: 2021/06/11 16:49:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc00035f1a0, {CONNECTING <nil>}
INFO: 2021/06/11 16:49:21 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:49:21 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:49:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc00035f1a0, {READY <nil>}
INFO: 2021/06/11 16:49:21 [core] Channel Connectivity change to READY
INFO: 2021/06/11 16:49:21 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:49:21 [core] Subchannel Connectivity change to SHUTDOWN
time="2021-06-11T16:49:21Z" level=info msg="Successfully retrieve bundles:&{{{0 0} 0 0 0 0} map[{test.com}:0xc000410ec0]}"
INFO: 2021/06/11 16:49:21 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:49:21Z" level=info msg="defaultTrustDomain:test.com"
time="2021-06-11T16:49:21Z" level=info msg="AUTHORIZING ALL CLIENTS"
time="2021-06-11T16:49:21Z" level=info msg="Fetch tlsConfig for Trust Domain: test.com"
time="2021-06-11T16:49:21Z" level=info msg="Found 1 tlsconfigs."
INFO: 2021/06/11 16:49:21 [core] parsed scheme: ""
INFO: 2021/06/11 16:49:21 [core] scheme "" not registered, fallback to default scheme
INFO: 2021/06/11 16:49:21 [core] ccResolverWrapper: sending update to cc: {[{/var/lib/networkservicemesh/nsm.io.sock  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:49:21 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:49:21 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:49:21 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:49:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc00060a030, {CONNECTING <nil>}
INFO: 2021/06/11 16:49:21 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:49:21 [core] Subchannel picks a new address "/var/lib/networkservicemesh/nsm.io.sock" to connect
INFO: 2021/06/11 16:49:21 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:49:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc00060a030, {READY <nil>}
INFO: 2021/06/11 16:49:21 [core] Channel Connectivity change to READY
time="2021-06-11T16:49:21Z" level=info msg="Found the right tls certificate:&{<nil> <nil> [] map[] <nil> 0x966460 <nil> 0x9664e0 <nil> <nil> []  NoClientCert <nil> true [] false false [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] <nil> 0 0 [] false 0 <nil> {{0 0} 0 0 0 0} [] []}"
INFO: 2021/06/11 16:49:21 [core] Channel Connectivity change to SHUTDOWN
time="2021-06-11T16:49:21Z" level=info msg="Trying to establish connection using tlsConfig:&{<nil> <nil> [] map[] <nil> 0x966460 <nil> 0x9664e0 <nil> <nil> []  NoClientCert <nil> true [] false false [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] <nil> 0 0 [] false 0 <nil> {{0 0} 0 0 0 0} [] []}"
INFO: 2021/06/11 16:49:21 [core] Subchannel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:49:21 [core] parsed scheme: ""
INFO: 2021/06/11 16:49:21 [core] scheme "" not registered, fallback to default scheme
INFO: 2021/06/11 16:49:21 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:49:21 [core] ccResolverWrapper: sending update to cc: {[{/var/lib/networkservicemesh/nsm.io.sock  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:49:21 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:49:21 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:49:21 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:49:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc00035f640, {CONNECTING <nil>}
INFO: 2021/06/11 16:49:21 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:49:21 [core] Subchannel picks a new address "/var/lib/networkservicemesh/nsm.io.sock" to connect
INFO: 2021/06/11 16:49:21 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:49:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc00035f640, {READY <nil>}
INFO: 2021/06/11 16:49:21 [core] Channel Connectivity change to READY
time="2021-06-11T16:49:21Z" level=info msg="Requesting nsmd for client connection..."
time="2021-06-11T16:49:21Z" level=info msg=">><<-------- /nsmdapi.NSMD/EnumConnection()=\"\" span=5b4c24b1c58130aa:7c790f8dd22968d6:2e0230fb05dc690d:1"
time="2021-06-11T16:49:21Z" level=info msg=">><<-------- request={} span=5b4c24b1c58130aa:7c790f8dd22968d6:2e0230fb05dc690d:1"
2021/06/11 16:49:21 Reporting span 5b4c24b1c58130aa:5f8973cb23e2e9c4:7c790f8dd22968d6:1
time="2021-06-11T16:49:21Z" level=info msg=">><<-------- response={\"workspace\":[\"nsm-12\",\"nsm-20\",\"nsm-25\"]} span=5b4c24b1c58130aa:7c790f8dd22968d6:2e0230fb05dc690d:1"
time="2021-06-11T16:49:21Z" level=info msg=">><<------ reply={\"workspace\":[\"nsm-12\",\"nsm-20\",\"nsm-25\"]} span=5b4c24b1c58130aa:7c790f8dd22968d6:2e0230fb05dc690d:1"
INFO: 2021/06/11 16:49:21 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:49:21 [core] Subchannel Connectivity change to SHUTDOWN
2021/06/11 16:49:21 Reporting span 5b4c24b1c58130aa:7c790f8dd22968d6:2e0230fb05dc690d:1
time="2021-06-11T16:49:21Z" level=info msg=">><<---- reply={\"workspace\":[\"nsm-12\",\"nsm-20\",\"nsm-25\"]} span=5b4c24b1c58130aa:2e0230fb05dc690d:5b4c24b1c58130aa:1"
2021/06/11 16:49:21 Reporting span 5b4c24b1c58130aa:2e0230fb05dc690d:5b4c24b1c58130aa:1
time="2021-06-11T16:49:21Z" level=info msg="==----> sendDeviceUpdate() span:5b4c24b1c58130aa:343b5041c17609e9:5b4c24b1c58130aa:1"
time="2021-06-11T16:49:21Z" level=info msg=">><<---- info={\"devices\":[{\"ID\":\"nsm-1\",\"health\":\"Healthy\"},{\"ID\":\"nsm-2\",\"health\":\"Healthy\"},{\"ID\":\"nsm-3\",\"health\":\"Healthy\"},{\"ID\":\"nsm-4\",\"health\":\"Healthy\"},{\"ID\":\"nsm-5\",\"health\":\"Healthy\"},{\"ID\":\"nsm-6\",\"health\":\"Healthy\"},{\"ID\":\"nsm-7\",\"health\":\"Healthy\"},{\"ID\":\"nsm-8\",\"health\":\"Healthy\"},{\"ID\":\"nsm-9\",\"health\":\"Healthy\"},{\"ID\":\"nsm-10\",\"health\":\"Healthy\"},{\"ID\":\"nsm-11\",\"health\":\"Healthy\"},{\"ID\":\"nsm-12\",\"health\":\"Healthy\"},{\"ID\":\"nsm-13\",\"health\":\"Healthy\"},{\"ID\":\"nsm-14\",\"health\":\"Healthy\"},{\"ID\":\"nsm-15\",\"health\":\"Healthy\"},{\"ID\":\"nsm-16\",\"health\":\"Healthy\"},{\"ID\":\"nsm-17\",\"health\":\"Healthy\"},{\"ID\":\"nsm-18\",\"health\":\"Healthy\"},{\"ID\":\"nsm-19\",\"health\":\"Healthy\"},{\"ID\":\"nsm-20\",\"health\":\"Healthy\"},{\"ID\":\"nsm-21\",\"health\":\"Healthy\"},{\"ID\":\"nsm-22\",\"health\":\"Healthy\"},{\"ID\":\"nsm-23\",\"health\":\"Healthy\"},{\"ID\":\"nsm-24\",\"health\":\"Healthy\"},{\"ID\":\"nsm-25\",\"health\":\"Healthy\"},{\"ID\":\"nsm-26\",\"health\":\"Healthy\"},{\"ID\":\"nsm-27\",\"health\":\"Healthy\"},{\"ID\":\"nsm-28\",\"health\":\"Healthy\"},{\"ID\":\"nsm-29\",\"health\":\"Healthy\"},{\"ID\":\"nsm-30\",\"health\":\"Healthy\"},{\"ID\":\"nsm-31\",\"health\":\"Healthy\"},{\"ID\":\"nsm-32\",\"health\":\"Healthy\"},{\"ID\":\"nsm-33\",\"health\":\"Healthy\"}]} span=5b4c24b1c58130aa:343b5041c17609e9:5b4c24b1c58130aa:1"
time="2021-06-11T16:49:21Z" level=info msg="Send device plugins info" operation=sendDeviceUpdate span="5b4c24b1c58130aa:343b5041c17609e9:5b4c24b1c58130aa:1"
time="2021-06-11T16:49:21Z" level=info msg="Delaying 30s" operation=ListAndWatch-11 span="5b4c24b1c58130aa:5b4c24b1c58130aa:0000000000000000:1"
2021/06/11 16:49:21 Reporting span 5b4c24b1c58130aa:5b4c24b1c58130aa:0000000000000000:1
INFO: 2021/06/11 16:49:21 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:49:51Z" level=info msg="==--> ListAndWatch-12() span:323809d1c8253e87:323809d1c8253e87:0000000000000000:1"
time="2021-06-11T16:49:51Z" level=info msg="==----> recieveWorkspaces() span:323809d1c8253e87:13d249a5db65768c:323809d1c8253e87:1"
time="2021-06-11T16:49:51Z" level=info msg="Request workspaces list" operation=recieveWorkspaces span="323809d1c8253e87:13d249a5db65768c:323809d1c8253e87:1"
time="2021-06-11T16:49:51Z" level=info msg="==------> enumWorkspaces() span:323809d1c8253e87:3d1972ed8fe3136d:13d249a5db65768c:1"
time="2021-06-11T16:49:51Z" level=info msg="Connecting to nsmd on socket: /var/lib/networkservicemesh/nsm.io.sock..."
time="2021-06-11T16:49:51Z" level=info msg="Trying to establish connection to target: /var/lib/networkservicemesh/nsm.io.sock"
time="2021-06-11T16:49:51Z" level=info msg="Connecting to the workload api at:unix:///run/spire/sockets/agent.sock"
INFO: 2021/06/11 16:49:51 [core] parsed scheme: "unix"
INFO: 2021/06/11 16:49:51 [core] ccResolverWrapper: sending update to cc: {[{/run/spire/sockets/agent.sock  0xc000484100 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:49:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:49:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:49:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:49:51 [core] blockingPicker: the picked transport is not ready, loop back to repick
INFO: 2021/06/11 16:49:51 [core] Subchannel picks a new address "/run/spire/sockets/agent.sock" to connect
INFO: 2021/06/11 16:49:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc0005387d0, {CONNECTING <nil>}
INFO: 2021/06/11 16:49:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:49:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:49:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc0005387d0, {READY <nil>}
INFO: 2021/06/11 16:49:51 [core] Channel Connectivity change to READY
INFO: 2021/06/11 16:49:51 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:49:51 [core] Subchannel Connectivity change to SHUTDOWN
time="2021-06-11T16:49:51Z" level=info msg="Successfully retrieve bundles:&{{{0 0} 0 0 0 0} map[{test.com}:0xc0004107c0]}"
INFO: 2021/06/11 16:49:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:49:51Z" level=info msg="defaultTrustDomain:test.com"
time="2021-06-11T16:49:51Z" level=info msg="AUTHORIZING ALL CLIENTS"
time="2021-06-11T16:49:51Z" level=info msg="Fetch tlsConfig for Trust Domain: test.com"
time="2021-06-11T16:49:51Z" level=info msg="Found 1 tlsconfigs."
INFO: 2021/06/11 16:49:51 [core] parsed scheme: ""
INFO: 2021/06/11 16:49:51 [core] scheme "" not registered, fallback to default scheme
INFO: 2021/06/11 16:49:51 [core] ccResolverWrapper: sending update to cc: {[{/var/lib/networkservicemesh/nsm.io.sock  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:49:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:49:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:49:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:49:51 [core] Subchannel picks a new address "/var/lib/networkservicemesh/nsm.io.sock" to connect
INFO: 2021/06/11 16:49:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc00060b2e0, {CONNECTING <nil>}
INFO: 2021/06/11 16:49:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:49:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:49:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc00060b2e0, {READY <nil>}
INFO: 2021/06/11 16:49:51 [core] Channel Connectivity change to READY
time="2021-06-11T16:49:51Z" level=info msg="Found the right tls certificate:&{<nil> <nil> [] map[] <nil> 0x966460 <nil> 0x9664e0 <nil> <nil> []  NoClientCert <nil> true [] false false [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] <nil> 0 0 [] false 0 <nil> {{0 0} 0 0 0 0} [] []}"
INFO: 2021/06/11 16:49:51 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:49:51 [core] Subchannel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:49:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:49:51Z" level=info msg="Trying to establish connection using tlsConfig:&{<nil> <nil> [] map[] <nil> 0x966460 <nil> 0x9664e0 <nil> <nil> []  NoClientCert <nil> true [] false false [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] <nil> 0 0 [] false 0 <nil> {{0 0} 0 0 0 0} [] []}"
INFO: 2021/06/11 16:49:51 [core] parsed scheme: ""
INFO: 2021/06/11 16:49:51 [core] scheme "" not registered, fallback to default scheme
INFO: 2021/06/11 16:49:51 [core] ccResolverWrapper: sending update to cc: {[{/var/lib/networkservicemesh/nsm.io.sock  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:49:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:49:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:49:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:49:51 [core] Subchannel picks a new address "/var/lib/networkservicemesh/nsm.io.sock" to connect
INFO: 2021/06/11 16:49:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc00060beb0, {CONNECTING <nil>}
INFO: 2021/06/11 16:49:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:49:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:49:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc00060beb0, {READY <nil>}
INFO: 2021/06/11 16:49:51 [core] Channel Connectivity change to READY
time="2021-06-11T16:49:51Z" level=info msg="Requesting nsmd for client connection..."
time="2021-06-11T16:49:51Z" level=info msg=">><<-------- /nsmdapi.NSMD/EnumConnection()=\"\" span=323809d1c8253e87:3d1972ed8fe3136d:13d249a5db65768c:1"
time="2021-06-11T16:49:51Z" level=info msg=">><<-------- request={} span=323809d1c8253e87:3d1972ed8fe3136d:13d249a5db65768c:1"
2021/06/11 16:49:51 Reporting span 323809d1c8253e87:5d77a7a88480cb38:3d1972ed8fe3136d:1
time="2021-06-11T16:49:51Z" level=info msg=">><<-------- response={\"workspace\":[\"nsm-12\",\"nsm-20\",\"nsm-25\"]} span=323809d1c8253e87:3d1972ed8fe3136d:13d249a5db65768c:1"
time="2021-06-11T16:49:51Z" level=info msg=">><<------ reply={\"workspace\":[\"nsm-12\",\"nsm-20\",\"nsm-25\"]} span=323809d1c8253e87:3d1972ed8fe3136d:13d249a5db65768c:1"
INFO: 2021/06/11 16:49:51 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:49:51 [core] Subchannel Connectivity change to SHUTDOWN
2021/06/11 16:49:51 Reporting span 323809d1c8253e87:3d1972ed8fe3136d:13d249a5db65768c:1
INFO: 2021/06/11 16:49:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:49:51Z" level=info msg=">><<---- reply={\"workspace\":[\"nsm-12\",\"nsm-20\",\"nsm-25\"]} span=323809d1c8253e87:13d249a5db65768c:323809d1c8253e87:1"
2021/06/11 16:49:51 Reporting span 323809d1c8253e87:13d249a5db65768c:323809d1c8253e87:1
time="2021-06-11T16:49:51Z" level=info msg="==----> sendDeviceUpdate() span:323809d1c8253e87:67fb5c8a6bdce951:323809d1c8253e87:1"
time="2021-06-11T16:49:51Z" level=info msg=">><<---- info={\"devices\":[{\"ID\":\"nsm-1\",\"health\":\"Healthy\"},{\"ID\":\"nsm-2\",\"health\":\"Healthy\"},{\"ID\":\"nsm-3\",\"health\":\"Healthy\"},{\"ID\":\"nsm-4\",\"health\":\"Healthy\"},{\"ID\":\"nsm-5\",\"health\":\"Healthy\"},{\"ID\":\"nsm-6\",\"health\":\"Healthy\"},{\"ID\":\"nsm-7\",\"health\":\"Healthy\"},{\"ID\":\"nsm-8\",\"health\":\"Healthy\"},{\"ID\":\"nsm-9\",\"health\":\"Healthy\"},{\"ID\":\"nsm-10\",\"health\":\"Healthy\"},{\"ID\":\"nsm-11\",\"health\":\"Healthy\"},{\"ID\":\"nsm-12\",\"health\":\"Healthy\"},{\"ID\":\"nsm-13\",\"health\":\"Healthy\"},{\"ID\":\"nsm-14\",\"health\":\"Healthy\"},{\"ID\":\"nsm-15\",\"health\":\"Healthy\"},{\"ID\":\"nsm-16\",\"health\":\"Healthy\"},{\"ID\":\"nsm-17\",\"health\":\"Healthy\"},{\"ID\":\"nsm-18\",\"health\":\"Healthy\"},{\"ID\":\"nsm-19\",\"health\":\"Healthy\"},{\"ID\":\"nsm-20\",\"health\":\"Healthy\"},{\"ID\":\"nsm-21\",\"health\":\"Healthy\"},{\"ID\":\"nsm-22\",\"health\":\"Healthy\"},{\"ID\":\"nsm-23\",\"health\":\"Healthy\"},{\"ID\":\"nsm-24\",\"health\":\"Healthy\"},{\"ID\":\"nsm-25\",\"health\":\"Healthy\"},{\"ID\":\"nsm-26\",\"health\":\"Healthy\"},{\"ID\":\"nsm-27\",\"health\":\"Healthy\"},{\"ID\":\"nsm-28\",\"health\":\"Healthy\"},{\"ID\":\"nsm-29\",\"health\":\"Healthy\"},{\"ID\":\"nsm-30\",\"health\":\"Healthy\"},{\"ID\":\"nsm-31\",\"health\":\"Healthy\"},{\"ID\":\"nsm-32\",\"health\":\"Healthy\"},{\"ID\":\"nsm-33\",\"health\":\"Healthy\"}]} span=323809d1c8253e87:67fb5c8a6bdce951:323809d1c8253e87:1"
time="2021-06-11T16:49:51Z" level=info msg="Send device plugins info" operation=sendDeviceUpdate span="323809d1c8253e87:67fb5c8a6bdce951:323809d1c8253e87:1"
time="2021-06-11T16:49:51Z" level=info msg="Delaying 30s" operation=ListAndWatch-12 span="323809d1c8253e87:323809d1c8253e87:0000000000000000:1"
2021/06/11 16:49:51 Reporting span 323809d1c8253e87:323809d1c8253e87:0000000000000000:1
time="2021-06-11T16:50:21Z" level=info msg="==--> ListAndWatch-13() span:72126ad8cb521ca4:72126ad8cb521ca4:0000000000000000:1"
time="2021-06-11T16:50:21Z" level=info msg="==----> recieveWorkspaces() span:72126ad8cb521ca4:6054a49db4eeb24b:72126ad8cb521ca4:1"
time="2021-06-11T16:50:21Z" level=info msg="Request workspaces list" operation=recieveWorkspaces span="72126ad8cb521ca4:6054a49db4eeb24b:72126ad8cb521ca4:1"
time="2021-06-11T16:50:21Z" level=info msg="==------> enumWorkspaces() span:72126ad8cb521ca4:677b74754c338d14:6054a49db4eeb24b:1"
time="2021-06-11T16:50:21Z" level=info msg="Connecting to nsmd on socket: /var/lib/networkservicemesh/nsm.io.sock..."
time="2021-06-11T16:50:21Z" level=info msg="Trying to establish connection to target: /var/lib/networkservicemesh/nsm.io.sock"
time="2021-06-11T16:50:21Z" level=info msg="Connecting to the workload api at:unix:///run/spire/sockets/agent.sock"
INFO: 2021/06/11 16:50:21 [core] parsed scheme: "unix"
INFO: 2021/06/11 16:50:21 [core] ccResolverWrapper: sending update to cc: {[{/run/spire/sockets/agent.sock  0xc000608178 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:50:21 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:50:21 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:50:21 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:50:21 [core] blockingPicker: the picked transport is not ready, loop back to repick
INFO: 2021/06/11 16:50:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc00035f540, {CONNECTING <nil>}
INFO: 2021/06/11 16:50:21 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:50:21 [core] Subchannel picks a new address "/run/spire/sockets/agent.sock" to connect
INFO: 2021/06/11 16:50:21 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:50:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc00035f540, {READY <nil>}
INFO: 2021/06/11 16:50:21 [core] Channel Connectivity change to READY
INFO: 2021/06/11 16:50:21 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:50:21 [core] Subchannel Connectivity change to SHUTDOWN
time="2021-06-11T16:50:21Z" level=info msg="Successfully retrieve bundles:&{{{0 0} 0 0 0 0} map[{test.com}:0xc000411640]}"
time="2021-06-11T16:50:21Z" level=info msg="defaultTrustDomain:test.com"
time="2021-06-11T16:50:21Z" level=info msg="AUTHORIZING ALL CLIENTS"
time="2021-06-11T16:50:21Z" level=info msg="Fetch tlsConfig for Trust Domain: test.com"
time="2021-06-11T16:50:21Z" level=info msg="Found 1 tlsconfigs."
INFO: 2021/06/11 16:50:21 [core] parsed scheme: ""
INFO: 2021/06/11 16:50:21 [core] scheme "" not registered, fallback to default scheme
INFO: 2021/06/11 16:50:21 [core] ccResolverWrapper: sending update to cc: {[{/var/lib/networkservicemesh/nsm.io.sock  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:50:21 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:50:21 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:50:21 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:50:21 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:50:21 [core] Subchannel picks a new address "/var/lib/networkservicemesh/nsm.io.sock" to connect
INFO: 2021/06/11 16:50:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc0003026e0, {CONNECTING <nil>}
INFO: 2021/06/11 16:50:21 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:50:21 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:50:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc0003026e0, {READY <nil>}
INFO: 2021/06/11 16:50:21 [core] Channel Connectivity change to READY
time="2021-06-11T16:50:21Z" level=info msg="Found the right tls certificate:&{<nil> <nil> [] map[] <nil> 0x966460 <nil> 0x9664e0 <nil> <nil> []  NoClientCert <nil> true [] false false [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] <nil> 0 0 [] false 0 <nil> {{0 0} 0 0 0 0} [] []}"
INFO: 2021/06/11 16:50:21 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:50:21 [core] Subchannel Connectivity change to SHUTDOWN
time="2021-06-11T16:50:21Z" level=info msg="Trying to establish connection using tlsConfig:&{<nil> <nil> [] map[] <nil> 0x966460 <nil> 0x9664e0 <nil> <nil> []  NoClientCert <nil> true [] false false [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] <nil> 0 0 [] false 0 <nil> {{0 0} 0 0 0 0} [] []}"
INFO: 2021/06/11 16:50:21 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:50:21 [core] parsed scheme: ""
INFO: 2021/06/11 16:50:21 [core] scheme "" not registered, fallback to default scheme
INFO: 2021/06/11 16:50:21 [core] ccResolverWrapper: sending update to cc: {[{/var/lib/networkservicemesh/nsm.io.sock  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:50:21 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:50:21 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:50:21 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:50:21 [core] Subchannel picks a new address "/var/lib/networkservicemesh/nsm.io.sock" to connect
INFO: 2021/06/11 16:50:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc0005395a0, {CONNECTING <nil>}
INFO: 2021/06/11 16:50:21 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:50:21 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:50:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc0005395a0, {READY <nil>}
INFO: 2021/06/11 16:50:21 [core] Channel Connectivity change to READY
time="2021-06-11T16:50:21Z" level=info msg="Requesting nsmd for client connection..."
time="2021-06-11T16:50:21Z" level=info msg=">><<-------- /nsmdapi.NSMD/EnumConnection()=\"\" span=72126ad8cb521ca4:677b74754c338d14:6054a49db4eeb24b:1"
time="2021-06-11T16:50:21Z" level=info msg=">><<-------- request={} span=72126ad8cb521ca4:677b74754c338d14:6054a49db4eeb24b:1"
2021/06/11 16:50:21 Reporting span 72126ad8cb521ca4:1bcc3b6b743fa175:677b74754c338d14:1
time="2021-06-11T16:50:21Z" level=info msg=">><<-------- response={\"workspace\":[\"nsm-25\",\"nsm-12\",\"nsm-20\"]} span=72126ad8cb521ca4:677b74754c338d14:6054a49db4eeb24b:1"
time="2021-06-11T16:50:21Z" level=info msg=">><<------ reply={\"workspace\":[\"nsm-25\",\"nsm-12\",\"nsm-20\"]} span=72126ad8cb521ca4:677b74754c338d14:6054a49db4eeb24b:1"
INFO: 2021/06/11 16:50:21 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:50:21 [core] Subchannel Connectivity change to SHUTDOWN
2021/06/11 16:50:21 Reporting span 72126ad8cb521ca4:677b74754c338d14:6054a49db4eeb24b:1
time="2021-06-11T16:50:21Z" level=info msg=">><<---- reply={\"workspace\":[\"nsm-25\",\"nsm-12\",\"nsm-20\"]} span=72126ad8cb521ca4:6054a49db4eeb24b:72126ad8cb521ca4:1"
2021/06/11 16:50:21 Reporting span 72126ad8cb521ca4:6054a49db4eeb24b:72126ad8cb521ca4:1
INFO: 2021/06/11 16:50:21 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:50:21Z" level=info msg="==----> sendDeviceUpdate() span:72126ad8cb521ca4:0358846a752054b0:72126ad8cb521ca4:1"
time="2021-06-11T16:50:21Z" level=info msg=">><<---- info={\"devices\":[{\"ID\":\"nsm-1\",\"health\":\"Healthy\"},{\"ID\":\"nsm-2\",\"health\":\"Healthy\"},{\"ID\":\"nsm-3\",\"health\":\"Healthy\"},{\"ID\":\"nsm-4\",\"health\":\"Healthy\"},{\"ID\":\"nsm-5\",\"health\":\"Healthy\"},{\"ID\":\"nsm-6\",\"health\":\"Healthy\"},{\"ID\":\"nsm-7\",\"health\":\"Healthy\"},{\"ID\":\"nsm-8\",\"health\":\"Healthy\"},{\"ID\":\"nsm-9\",\"health\":\"Healthy\"},{\"ID\":\"nsm-10\",\"health\":\"Healthy\"},{\"ID\":\"nsm-11\",\"health\":\"Healthy\"},{\"ID\":\"nsm-12\",\"health\":\"Healthy\"},{\"ID\":\"nsm-13\",\"health\":\"Healthy\"},{\"ID\":\"nsm-14\",\"health\":\"Healthy\"},{\"ID\":\"nsm-15\",\"health\":\"Healthy\"},{\"ID\":\"nsm-16\",\"health\":\"Healthy\"},{\"ID\":\"nsm-17\",\"health\":\"Healthy\"},{\"ID\":\"nsm-18\",\"health\":\"Healthy\"},{\"ID\":\"nsm-19\",\"health\":\"Healthy\"},{\"ID\":\"nsm-20\",\"health\":\"Healthy\"},{\"ID\":\"nsm-21\",\"health\":\"Healthy\"},{\"ID\":\"nsm-22\",\"health\":\"Healthy\"},{\"ID\":\"nsm-23\",\"health\":\"Healthy\"},{\"ID\":\"nsm-24\",\"health\":\"Healthy\"},{\"ID\":\"nsm-25\",\"health\":\"Healthy\"},{\"ID\":\"nsm-26\",\"health\":\"Healthy\"},{\"ID\":\"nsm-27\",\"health\":\"Healthy\"},{\"ID\":\"nsm-28\",\"health\":\"Healthy\"},{\"ID\":\"nsm-29\",\"health\":\"Healthy\"},{\"ID\":\"nsm-30\",\"health\":\"Healthy\"},{\"ID\":\"nsm-31\",\"health\":\"Healthy\"},{\"ID\":\"nsm-32\",\"health\":\"Healthy\"},{\"ID\":\"nsm-33\",\"health\":\"Healthy\"}]} span=72126ad8cb521ca4:0358846a752054b0:72126ad8cb521ca4:1"
time="2021-06-11T16:50:21Z" level=info msg="Send device plugins info" operation=sendDeviceUpdate span="72126ad8cb521ca4:0358846a752054b0:72126ad8cb521ca4:1"
time="2021-06-11T16:50:21Z" level=info msg="Delaying 30s" operation=ListAndWatch-13 span="72126ad8cb521ca4:72126ad8cb521ca4:0000000000000000:1"
2021/06/11 16:50:21 Reporting span 72126ad8cb521ca4:72126ad8cb521ca4:0000000000000000:1
time="2021-06-11T16:50:51Z" level=info msg="==--> ListAndWatch-14() span:16015fc30f36d1f1:16015fc30f36d1f1:0000000000000000:1"
time="2021-06-11T16:50:51Z" level=info msg="==----> recieveWorkspaces() span:16015fc30f36d1f1:0ad9b20b4867e3b3:16015fc30f36d1f1:1"
time="2021-06-11T16:50:51Z" level=info msg="Request workspaces list" operation=recieveWorkspaces span="16015fc30f36d1f1:0ad9b20b4867e3b3:16015fc30f36d1f1:1"
time="2021-06-11T16:50:51Z" level=info msg="==------> enumWorkspaces() span:16015fc30f36d1f1:1827b3e23f7422ab:0ad9b20b4867e3b3:1"
time="2021-06-11T16:50:51Z" level=info msg="Connecting to nsmd on socket: /var/lib/networkservicemesh/nsm.io.sock..."
time="2021-06-11T16:50:51Z" level=info msg="Trying to establish connection to target: /var/lib/networkservicemesh/nsm.io.sock"
time="2021-06-11T16:50:51Z" level=info msg="Connecting to the workload api at:unix:///run/spire/sockets/agent.sock"
INFO: 2021/06/11 16:50:51 [core] parsed scheme: "unix"
INFO: 2021/06/11 16:50:51 [core] ccResolverWrapper: sending update to cc: {[{/run/spire/sockets/agent.sock  0xc00000e230 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:50:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:50:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:50:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:50:51 [core] blockingPicker: the picked transport is not ready, loop back to repick
INFO: 2021/06/11 16:50:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc000031120, {CONNECTING <nil>}
INFO: 2021/06/11 16:50:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:50:51 [core] Subchannel picks a new address "/run/spire/sockets/agent.sock" to connect
INFO: 2021/06/11 16:50:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:50:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc000031120, {READY <nil>}
INFO: 2021/06/11 16:50:51 [core] Channel Connectivity change to READY
INFO: 2021/06/11 16:50:51 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:50:51 [core] Subchannel Connectivity change to SHUTDOWN
time="2021-06-11T16:50:51Z" level=info msg="Successfully retrieve bundles:&{{{0 0} 0 0 0 0} map[{test.com}:0xc000490c40]}"
time="2021-06-11T16:50:51Z" level=info msg="defaultTrustDomain:test.com"
time="2021-06-11T16:50:51Z" level=info msg="AUTHORIZING ALL CLIENTS"
time="2021-06-11T16:50:51Z" level=info msg="Fetch tlsConfig for Trust Domain: test.com"
time="2021-06-11T16:50:51Z" level=info msg="Found 1 tlsconfigs."
INFO: 2021/06/11 16:50:51 [core] parsed scheme: ""
INFO: 2021/06/11 16:50:51 [core] scheme "" not registered, fallback to default scheme
INFO: 2021/06/11 16:50:51 [core] ccResolverWrapper: sending update to cc: {[{/var/lib/networkservicemesh/nsm.io.sock  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:50:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:50:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:50:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:50:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:50:51 [core] Subchannel picks a new address "/var/lib/networkservicemesh/nsm.io.sock" to connect
INFO: 2021/06/11 16:50:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc000384270, {CONNECTING <nil>}
INFO: 2021/06/11 16:50:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:50:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:50:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc000384270, {READY <nil>}
INFO: 2021/06/11 16:50:51 [core] Channel Connectivity change to READY
time="2021-06-11T16:50:51Z" level=info msg="Found the right tls certificate:&{<nil> <nil> [] map[] <nil> 0x966460 <nil> 0x9664e0 <nil> <nil> []  NoClientCert <nil> true [] false false [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] <nil> 0 0 [] false 0 <nil> {{0 0} 0 0 0 0} [] []}"
INFO: 2021/06/11 16:50:51 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:50:51 [core] Subchannel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:50:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:50:51Z" level=info msg="Trying to establish connection using tlsConfig:&{<nil> <nil> [] map[] <nil> 0x966460 <nil> 0x9664e0 <nil> <nil> []  NoClientCert <nil> true [] false false [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] <nil> 0 0 [] false 0 <nil> {{0 0} 0 0 0 0} [] []}"
INFO: 2021/06/11 16:50:51 [core] parsed scheme: ""
INFO: 2021/06/11 16:50:51 [core] scheme "" not registered, fallback to default scheme
INFO: 2021/06/11 16:50:51 [core] ccResolverWrapper: sending update to cc: {[{/var/lib/networkservicemesh/nsm.io.sock  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:50:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:50:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:50:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:50:51 [core] Subchannel picks a new address "/var/lib/networkservicemesh/nsm.io.sock" to connect
INFO: 2021/06/11 16:50:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc00035fc10, {CONNECTING <nil>}
INFO: 2021/06/11 16:50:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:50:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:50:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc00035fc10, {READY <nil>}
INFO: 2021/06/11 16:50:51 [core] Channel Connectivity change to READY
time="2021-06-11T16:50:51Z" level=info msg="Requesting nsmd for client connection..."
time="2021-06-11T16:50:51Z" level=info msg=">><<-------- /nsmdapi.NSMD/EnumConnection()=\"\" span=16015fc30f36d1f1:1827b3e23f7422ab:0ad9b20b4867e3b3:1"
time="2021-06-11T16:50:51Z" level=info msg=">><<-------- request={} span=16015fc30f36d1f1:1827b3e23f7422ab:0ad9b20b4867e3b3:1"
2021/06/11 16:50:51 Reporting span 16015fc30f36d1f1:5c031bdd90b8d31d:1827b3e23f7422ab:1
time="2021-06-11T16:50:51Z" level=info msg=">><<-------- response={\"workspace\":[\"nsm-12\",\"nsm-20\",\"nsm-25\"]} span=16015fc30f36d1f1:1827b3e23f7422ab:0ad9b20b4867e3b3:1"
time="2021-06-11T16:50:51Z" level=info msg=">><<------ reply={\"workspace\":[\"nsm-12\",\"nsm-20\",\"nsm-25\"]} span=16015fc30f36d1f1:1827b3e23f7422ab:0ad9b20b4867e3b3:1"
INFO: 2021/06/11 16:50:51 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:50:51 [core] Subchannel Connectivity change to SHUTDOWN
2021/06/11 16:50:51 Reporting span 16015fc30f36d1f1:1827b3e23f7422ab:0ad9b20b4867e3b3:1
INFO: 2021/06/11 16:50:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:50:51Z" level=info msg=">><<---- reply={\"workspace\":[\"nsm-12\",\"nsm-20\",\"nsm-25\"]} span=16015fc30f36d1f1:0ad9b20b4867e3b3:16015fc30f36d1f1:1"
2021/06/11 16:50:51 Reporting span 16015fc30f36d1f1:0ad9b20b4867e3b3:16015fc30f36d1f1:1
time="2021-06-11T16:50:51Z" level=info msg="==----> sendDeviceUpdate() span:16015fc30f36d1f1:015836357e83a6bd:16015fc30f36d1f1:1"
time="2021-06-11T16:50:51Z" level=info msg=">><<---- info={\"devices\":[{\"ID\":\"nsm-1\",\"health\":\"Healthy\"},{\"ID\":\"nsm-2\",\"health\":\"Healthy\"},{\"ID\":\"nsm-3\",\"health\":\"Healthy\"},{\"ID\":\"nsm-4\",\"health\":\"Healthy\"},{\"ID\":\"nsm-5\",\"health\":\"Healthy\"},{\"ID\":\"nsm-6\",\"health\":\"Healthy\"},{\"ID\":\"nsm-7\",\"health\":\"Healthy\"},{\"ID\":\"nsm-8\",\"health\":\"Healthy\"},{\"ID\":\"nsm-9\",\"health\":\"Healthy\"},{\"ID\":\"nsm-10\",\"health\":\"Healthy\"},{\"ID\":\"nsm-11\",\"health\":\"Healthy\"},{\"ID\":\"nsm-12\",\"health\":\"Healthy\"},{\"ID\":\"nsm-13\",\"health\":\"Healthy\"},{\"ID\":\"nsm-14\",\"health\":\"Healthy\"},{\"ID\":\"nsm-15\",\"health\":\"Healthy\"},{\"ID\":\"nsm-16\",\"health\":\"Healthy\"},{\"ID\":\"nsm-17\",\"health\":\"Healthy\"},{\"ID\":\"nsm-18\",\"health\":\"Healthy\"},{\"ID\":\"nsm-19\",\"health\":\"Healthy\"},{\"ID\":\"nsm-20\",\"health\":\"Healthy\"},{\"ID\":\"nsm-21\",\"health\":\"Healthy\"},{\"ID\":\"nsm-22\",\"health\":\"Healthy\"},{\"ID\":\"nsm-23\",\"health\":\"Healthy\"},{\"ID\":\"nsm-24\",\"health\":\"Healthy\"},{\"ID\":\"nsm-25\",\"health\":\"Healthy\"},{\"ID\":\"nsm-26\",\"health\":\"Healthy\"},{\"ID\":\"nsm-27\",\"health\":\"Healthy\"},{\"ID\":\"nsm-28\",\"health\":\"Healthy\"},{\"ID\":\"nsm-29\",\"health\":\"Healthy\"},{\"ID\":\"nsm-30\",\"health\":\"Healthy\"},{\"ID\":\"nsm-31\",\"health\":\"Healthy\"},{\"ID\":\"nsm-32\",\"health\":\"Healthy\"},{\"ID\":\"nsm-33\",\"health\":\"Healthy\"}]} span=16015fc30f36d1f1:015836357e83a6bd:16015fc30f36d1f1:1"
time="2021-06-11T16:50:51Z" level=info msg="Send device plugins info" operation=sendDeviceUpdate span="16015fc30f36d1f1:015836357e83a6bd:16015fc30f36d1f1:1"
time="2021-06-11T16:50:51Z" level=info msg="Delaying 30s" operation=ListAndWatch-14 span="16015fc30f36d1f1:16015fc30f36d1f1:0000000000000000:1"
2021/06/11 16:50:51 Reporting span 16015fc30f36d1f1:16015fc30f36d1f1:0000000000000000:1
time="2021-06-11T16:51:21Z" level=info msg="==--> ListAndWatch-15() span:4ed87dea6fc8360c:4ed87dea6fc8360c:0000000000000000:1"
time="2021-06-11T16:51:21Z" level=info msg="==----> recieveWorkspaces() span:4ed87dea6fc8360c:6a4a6d52c1e8b7df:4ed87dea6fc8360c:1"
time="2021-06-11T16:51:21Z" level=info msg="Request workspaces list" operation=recieveWorkspaces span="4ed87dea6fc8360c:6a4a6d52c1e8b7df:4ed87dea6fc8360c:1"
time="2021-06-11T16:51:21Z" level=info msg="==------> enumWorkspaces() span:4ed87dea6fc8360c:0adabe98b0930dc8:6a4a6d52c1e8b7df:1"
time="2021-06-11T16:51:21Z" level=info msg="Connecting to nsmd on socket: /var/lib/networkservicemesh/nsm.io.sock..."
time="2021-06-11T16:51:21Z" level=info msg="Trying to establish connection to target: /var/lib/networkservicemesh/nsm.io.sock"
time="2021-06-11T16:51:21Z" level=info msg="Connecting to the workload api at:unix:///run/spire/sockets/agent.sock"
INFO: 2021/06/11 16:51:21 [core] parsed scheme: "unix"
INFO: 2021/06/11 16:51:21 [core] ccResolverWrapper: sending update to cc: {[{/run/spire/sockets/agent.sock  0xc0004840d0 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:51:21 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:51:21 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:51:21 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:51:21 [core] blockingPicker: the picked transport is not ready, loop back to repick
INFO: 2021/06/11 16:51:21 [core] Subchannel picks a new address "/run/spire/sockets/agent.sock" to connect
INFO: 2021/06/11 16:51:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc00060afc0, {CONNECTING <nil>}
INFO: 2021/06/11 16:51:21 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:51:21 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:51:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc00060afc0, {READY <nil>}
INFO: 2021/06/11 16:51:21 [core] Channel Connectivity change to READY
INFO: 2021/06/11 16:51:21 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:51:21 [core] Subchannel Connectivity change to SHUTDOWN
time="2021-06-11T16:51:21Z" level=info msg="Successfully retrieve bundles:&{{{0 0} 0 0 0 0} map[{test.com}:0xc000410d40]}"
time="2021-06-11T16:51:21Z" level=info msg="defaultTrustDomain:test.com"
time="2021-06-11T16:51:21Z" level=info msg="AUTHORIZING ALL CLIENTS"
time="2021-06-11T16:51:21Z" level=info msg="Fetch tlsConfig for Trust Domain: test.com"
time="2021-06-11T16:51:21Z" level=info msg="Found 1 tlsconfigs."
INFO: 2021/06/11 16:51:21 [core] parsed scheme: ""
INFO: 2021/06/11 16:51:21 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:51:21 [core] scheme "" not registered, fallback to default scheme
INFO: 2021/06/11 16:51:21 [core] ccResolverWrapper: sending update to cc: {[{/var/lib/networkservicemesh/nsm.io.sock  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:51:21 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:51:21 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:51:21 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:51:21 [core] Subchannel picks a new address "/var/lib/networkservicemesh/nsm.io.sock" to connect
INFO: 2021/06/11 16:51:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc00060b9b0, {CONNECTING <nil>}
INFO: 2021/06/11 16:51:21 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:51:21 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:51:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc00060b9b0, {READY <nil>}
INFO: 2021/06/11 16:51:21 [core] Channel Connectivity change to READY
time="2021-06-11T16:51:21Z" level=info msg="Found the right tls certificate:&{<nil> <nil> [] map[] <nil> 0x966460 <nil> 0x9664e0 <nil> <nil> []  NoClientCert <nil> true [] false false [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] <nil> 0 0 [] false 0 <nil> {{0 0} 0 0 0 0} [] []}"
INFO: 2021/06/11 16:51:21 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:51:21 [core] Subchannel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:51:21 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:51:21Z" level=info msg="Trying to establish connection using tlsConfig:&{<nil> <nil> [] map[] <nil> 0x966460 <nil> 0x9664e0 <nil> <nil> []  NoClientCert <nil> true [] false false [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] <nil> 0 0 [] false 0 <nil> {{0 0} 0 0 0 0} [] []}"
INFO: 2021/06/11 16:51:21 [core] parsed scheme: ""
INFO: 2021/06/11 16:51:21 [core] scheme "" not registered, fallback to default scheme
INFO: 2021/06/11 16:51:21 [core] ccResolverWrapper: sending update to cc: {[{/var/lib/networkservicemesh/nsm.io.sock  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:51:21 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:51:21 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:51:21 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:51:21 [core] Subchannel picks a new address "/var/lib/networkservicemesh/nsm.io.sock" to connect
INFO: 2021/06/11 16:51:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc000031ac0, {CONNECTING <nil>}
INFO: 2021/06/11 16:51:21 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:51:21 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:51:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc000031ac0, {READY <nil>}
INFO: 2021/06/11 16:51:21 [core] Channel Connectivity change to READY
time="2021-06-11T16:51:21Z" level=info msg="Requesting nsmd for client connection..."
time="2021-06-11T16:51:21Z" level=info msg=">><<-------- /nsmdapi.NSMD/EnumConnection()=\"\" span=4ed87dea6fc8360c:0adabe98b0930dc8:6a4a6d52c1e8b7df:1"
time="2021-06-11T16:51:21Z" level=info msg=">><<-------- request={} span=4ed87dea6fc8360c:0adabe98b0930dc8:6a4a6d52c1e8b7df:1"
2021/06/11 16:51:21 Reporting span 4ed87dea6fc8360c:5ead9ca60b39bde4:0adabe98b0930dc8:1
time="2021-06-11T16:51:21Z" level=info msg=">><<-------- response={\"workspace\":[\"nsm-12\",\"nsm-20\",\"nsm-25\"]} span=4ed87dea6fc8360c:0adabe98b0930dc8:6a4a6d52c1e8b7df:1"
time="2021-06-11T16:51:21Z" level=info msg=">><<------ reply={\"workspace\":[\"nsm-12\",\"nsm-20\",\"nsm-25\"]} span=4ed87dea6fc8360c:0adabe98b0930dc8:6a4a6d52c1e8b7df:1"
INFO: 2021/06/11 16:51:21 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:51:21 [core] Subchannel Connectivity change to SHUTDOWN
2021/06/11 16:51:21 Reporting span 4ed87dea6fc8360c:0adabe98b0930dc8:6a4a6d52c1e8b7df:1
time="2021-06-11T16:51:21Z" level=info msg=">><<---- reply={\"workspace\":[\"nsm-12\",\"nsm-20\",\"nsm-25\"]} span=4ed87dea6fc8360c:6a4a6d52c1e8b7df:4ed87dea6fc8360c:1"
INFO: 2021/06/11 16:51:21 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
2021/06/11 16:51:21 Reporting span 4ed87dea6fc8360c:6a4a6d52c1e8b7df:4ed87dea6fc8360c:1
time="2021-06-11T16:51:21Z" level=info msg="==----> sendDeviceUpdate() span:4ed87dea6fc8360c:2f05c9d84739d918:4ed87dea6fc8360c:1"
time="2021-06-11T16:51:21Z" level=info msg=">><<---- info={\"devices\":[{\"ID\":\"nsm-1\",\"health\":\"Healthy\"},{\"ID\":\"nsm-2\",\"health\":\"Healthy\"},{\"ID\":\"nsm-3\",\"health\":\"Healthy\"},{\"ID\":\"nsm-4\",\"health\":\"Healthy\"},{\"ID\":\"nsm-5\",\"health\":\"Healthy\"},{\"ID\":\"nsm-6\",\"health\":\"Healthy\"},{\"ID\":\"nsm-7\",\"health\":\"Healthy\"},{\"ID\":\"nsm-8\",\"health\":\"Healthy\"},{\"ID\":\"nsm-9\",\"health\":\"Healthy\"},{\"ID\":\"nsm-10\",\"health\":\"Healthy\"},{\"ID\":\"nsm-11\",\"health\":\"Healthy\"},{\"ID\":\"nsm-12\",\"health\":\"Healthy\"},{\"ID\":\"nsm-13\",\"health\":\"Healthy\"},{\"ID\":\"nsm-14\",\"health\":\"Healthy\"},{\"ID\":\"nsm-15\",\"health\":\"Healthy\"},{\"ID\":\"nsm-16\",\"health\":\"Healthy\"},{\"ID\":\"nsm-17\",\"health\":\"Healthy\"},{\"ID\":\"nsm-18\",\"health\":\"Healthy\"},{\"ID\":\"nsm-19\",\"health\":\"Healthy\"},{\"ID\":\"nsm-20\",\"health\":\"Healthy\"},{\"ID\":\"nsm-21\",\"health\":\"Healthy\"},{\"ID\":\"nsm-22\",\"health\":\"Healthy\"},{\"ID\":\"nsm-23\",\"health\":\"Healthy\"},{\"ID\":\"nsm-24\",\"health\":\"Healthy\"},{\"ID\":\"nsm-25\",\"health\":\"Healthy\"},{\"ID\":\"nsm-26\",\"health\":\"Healthy\"},{\"ID\":\"nsm-27\",\"health\":\"Healthy\"},{\"ID\":\"nsm-28\",\"health\":\"Healthy\"},{\"ID\":\"nsm-29\",\"health\":\"Healthy\"},{\"ID\":\"nsm-30\",\"health\":\"Healthy\"},{\"ID\":\"nsm-31\",\"health\":\"Healthy\"},{\"ID\":\"nsm-32\",\"health\":\"Healthy\"},{\"ID\":\"nsm-33\",\"health\":\"Healthy\"}]} span=4ed87dea6fc8360c:2f05c9d84739d918:4ed87dea6fc8360c:1"
time="2021-06-11T16:51:21Z" level=info msg="Send device plugins info" operation=sendDeviceUpdate span="4ed87dea6fc8360c:2f05c9d84739d918:4ed87dea6fc8360c:1"
time="2021-06-11T16:51:21Z" level=info msg="Delaying 30s" operation=ListAndWatch-15 span="4ed87dea6fc8360c:4ed87dea6fc8360c:0000000000000000:1"
2021/06/11 16:51:21 Reporting span 4ed87dea6fc8360c:4ed87dea6fc8360c:0000000000000000:1
time="2021-06-11T16:51:51Z" level=info msg="==--> ListAndWatch-16() span:4720a8f66ebe6fa8:4720a8f66ebe6fa8:0000000000000000:1"
time="2021-06-11T16:51:51Z" level=info msg="==----> recieveWorkspaces() span:4720a8f66ebe6fa8:5508a12209db71dc:4720a8f66ebe6fa8:1"
time="2021-06-11T16:51:51Z" level=info msg="Request workspaces list" operation=recieveWorkspaces span="4720a8f66ebe6fa8:5508a12209db71dc:4720a8f66ebe6fa8:1"
time="2021-06-11T16:51:51Z" level=info msg="==------> enumWorkspaces() span:4720a8f66ebe6fa8:6ecf1422147940eb:5508a12209db71dc:1"
time="2021-06-11T16:51:51Z" level=info msg="Connecting to nsmd on socket: /var/lib/networkservicemesh/nsm.io.sock..."
time="2021-06-11T16:51:51Z" level=info msg="Trying to establish connection to target: /var/lib/networkservicemesh/nsm.io.sock"
time="2021-06-11T16:51:51Z" level=info msg="Connecting to the workload api at:unix:///run/spire/sockets/agent.sock"
INFO: 2021/06/11 16:51:51 [core] parsed scheme: "unix"
INFO: 2021/06/11 16:51:51 [core] ccResolverWrapper: sending update to cc: {[{/run/spire/sockets/agent.sock  0xc000608198 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:51:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:51:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:51:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:51:51 [core] Subchannel picks a new address "/run/spire/sockets/agent.sock" to connect
INFO: 2021/06/11 16:51:51 [core] blockingPicker: the picked transport is not ready, loop back to repick
INFO: 2021/06/11 16:51:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc00035ef20, {CONNECTING <nil>}
INFO: 2021/06/11 16:51:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:51:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:51:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc00035ef20, {READY <nil>}
INFO: 2021/06/11 16:51:51 [core] Channel Connectivity change to READY
INFO: 2021/06/11 16:51:51 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:51:51 [core] Subchannel Connectivity change to SHUTDOWN
time="2021-06-11T16:51:51Z" level=info msg="Successfully retrieve bundles:&{{{0 0} 0 0 0 0} map[{test.com}:0xc00063b300]}"
time="2021-06-11T16:51:51Z" level=info msg="defaultTrustDomain:test.com"
time="2021-06-11T16:51:51Z" level=info msg="AUTHORIZING ALL CLIENTS"
time="2021-06-11T16:51:51Z" level=info msg="Fetch tlsConfig for Trust Domain: test.com"
time="2021-06-11T16:51:51Z" level=info msg="Found 1 tlsconfigs."
INFO: 2021/06/11 16:51:51 [core] parsed scheme: ""
INFO: 2021/06/11 16:51:51 [core] scheme "" not registered, fallback to default scheme
INFO: 2021/06/11 16:51:51 [core] ccResolverWrapper: sending update to cc: {[{/var/lib/networkservicemesh/nsm.io.sock  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:51:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:51:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:51:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:51:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:51:51 [core] Subchannel picks a new address "/var/lib/networkservicemesh/nsm.io.sock" to connect
INFO: 2021/06/11 16:51:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc000539120, {CONNECTING <nil>}
INFO: 2021/06/11 16:51:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:51:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:51:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc000539120, {READY <nil>}
INFO: 2021/06/11 16:51:51 [core] Channel Connectivity change to READY
time="2021-06-11T16:51:51Z" level=info msg="Found the right tls certificate:&{<nil> <nil> [] map[] <nil> 0x966460 <nil> 0x9664e0 <nil> <nil> []  NoClientCert <nil> true [] false false [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] <nil> 0 0 [] false 0 <nil> {{0 0} 0 0 0 0} [] []}"
INFO: 2021/06/11 16:51:51 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:51:51 [core] Subchannel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:51:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:51:51Z" level=info msg="Trying to establish connection using tlsConfig:&{<nil> <nil> [] map[] <nil> 0x966460 <nil> 0x9664e0 <nil> <nil> []  NoClientCert <nil> true [] false false [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] <nil> 0 0 [] false 0 <nil> {{0 0} 0 0 0 0} [] []}"
INFO: 2021/06/11 16:51:51 [core] parsed scheme: ""
INFO: 2021/06/11 16:51:51 [core] scheme "" not registered, fallback to default scheme
INFO: 2021/06/11 16:51:51 [core] ccResolverWrapper: sending update to cc: {[{/var/lib/networkservicemesh/nsm.io.sock  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:51:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:51:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:51:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:51:51 [core] Subchannel picks a new address "/var/lib/networkservicemesh/nsm.io.sock" to connect
INFO: 2021/06/11 16:51:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc000539670, {CONNECTING <nil>}
INFO: 2021/06/11 16:51:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:51:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:51:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc000539670, {READY <nil>}
INFO: 2021/06/11 16:51:51 [core] Channel Connectivity change to READY
time="2021-06-11T16:51:51Z" level=info msg="Requesting nsmd for client connection..."
time="2021-06-11T16:51:51Z" level=info msg=">><<-------- /nsmdapi.NSMD/EnumConnection()=\"\" span=4720a8f66ebe6fa8:6ecf1422147940eb:5508a12209db71dc:1"
time="2021-06-11T16:51:51Z" level=info msg=">><<-------- request={} span=4720a8f66ebe6fa8:6ecf1422147940eb:5508a12209db71dc:1"
2021/06/11 16:51:51 Reporting span 4720a8f66ebe6fa8:5b660d357a8569d8:6ecf1422147940eb:1
time="2021-06-11T16:51:51Z" level=info msg=">><<-------- response={\"workspace\":[\"nsm-20\",\"nsm-25\",\"nsm-12\"]} span=4720a8f66ebe6fa8:6ecf1422147940eb:5508a12209db71dc:1"
time="2021-06-11T16:51:51Z" level=info msg=">><<------ reply={\"workspace\":[\"nsm-20\",\"nsm-25\",\"nsm-12\"]} span=4720a8f66ebe6fa8:6ecf1422147940eb:5508a12209db71dc:1"
INFO: 2021/06/11 16:51:51 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:51:51 [core] Subchannel Connectivity change to SHUTDOWN
2021/06/11 16:51:51 Reporting span 4720a8f66ebe6fa8:6ecf1422147940eb:5508a12209db71dc:1
time="2021-06-11T16:51:51Z" level=info msg=">><<---- reply={\"workspace\":[\"nsm-20\",\"nsm-25\",\"nsm-12\"]} span=4720a8f66ebe6fa8:5508a12209db71dc:4720a8f66ebe6fa8:1"
2021/06/11 16:51:51 Reporting span 4720a8f66ebe6fa8:5508a12209db71dc:4720a8f66ebe6fa8:1
time="2021-06-11T16:51:51Z" level=info msg="==----> sendDeviceUpdate() span:4720a8f66ebe6fa8:74dfb198fe6c49b2:4720a8f66ebe6fa8:1"
time="2021-06-11T16:51:51Z" level=info msg=">><<---- info={\"devices\":[{\"ID\":\"nsm-1\",\"health\":\"Healthy\"},{\"ID\":\"nsm-2\",\"health\":\"Healthy\"},{\"ID\":\"nsm-3\",\"health\":\"Healthy\"},{\"ID\":\"nsm-4\",\"health\":\"Healthy\"},{\"ID\":\"nsm-5\",\"health\":\"Healthy\"},{\"ID\":\"nsm-6\",\"health\":\"Healthy\"},{\"ID\":\"nsm-7\",\"health\":\"Healthy\"},{\"ID\":\"nsm-8\",\"health\":\"Healthy\"},{\"ID\":\"nsm-9\",\"health\":\"Healthy\"},{\"ID\":\"nsm-10\",\"health\":\"Healthy\"},{\"ID\":\"nsm-11\",\"health\":\"Healthy\"},{\"ID\":\"nsm-12\",\"health\":\"Healthy\"},{\"ID\":\"nsm-13\",\"health\":\"Healthy\"},{\"ID\":\"nsm-14\",\"health\":\"Healthy\"},{\"ID\":\"nsm-15\",\"health\":\"Healthy\"},{\"ID\":\"nsm-16\",\"health\":\"Healthy\"},{\"ID\":\"nsm-17\",\"health\":\"Healthy\"},{\"ID\":\"nsm-18\",\"health\":\"Healthy\"},{\"ID\":\"nsm-19\",\"health\":\"Healthy\"},{\"ID\":\"nsm-20\",\"health\":\"Healthy\"},{\"ID\":\"nsm-21\",\"health\":\"Healthy\"},{\"ID\":\"nsm-22\",\"health\":\"Healthy\"},{\"ID\":\"nsm-23\",\"health\":\"Healthy\"},{\"ID\":\"nsm-24\",\"health\":\"Healthy\"},{\"ID\":\"nsm-25\",\"health\":\"Healthy\"},{\"ID\":\"nsm-26\",\"health\":\"Healthy\"},{\"ID\":\"nsm-27\",\"health\":\"Healthy\"},{\"ID\":\"nsm-28\",\"health\":\"Healthy\"},{\"ID\":\"nsm-29\",\"health\":\"Healthy\"},{\"ID\":\"nsm-30\",\"health\":\"Healthy\"},{\"ID\":\"nsm-31\",\"health\":\"Healthy\"},{\"ID\":\"nsm-32\",\"health\":\"Healthy\"},{\"ID\":\"nsm-33\",\"health\":\"Healthy\"}]} span=4720a8f66ebe6fa8:74dfb198fe6c49b2:4720a8f66ebe6fa8:1"
time="2021-06-11T16:51:51Z" level=info msg="Send device plugins info" operation=sendDeviceUpdate span="4720a8f66ebe6fa8:74dfb198fe6c49b2:4720a8f66ebe6fa8:1"
time="2021-06-11T16:51:51Z" level=info msg="Delaying 30s" operation=ListAndWatch-16 span="4720a8f66ebe6fa8:4720a8f66ebe6fa8:0000000000000000:1"
INFO: 2021/06/11 16:51:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
2021/06/11 16:51:51 Reporting span 4720a8f66ebe6fa8:4720a8f66ebe6fa8:0000000000000000:1
time="2021-06-11T16:52:21Z" level=info msg="==--> ListAndWatch-17() span:16fad8d70956fc80:16fad8d70956fc80:0000000000000000:1"
time="2021-06-11T16:52:21Z" level=info msg="==----> recieveWorkspaces() span:16fad8d70956fc80:22718376656a3a63:16fad8d70956fc80:1"
time="2021-06-11T16:52:21Z" level=info msg="Request workspaces list" operation=recieveWorkspaces span="16fad8d70956fc80:22718376656a3a63:16fad8d70956fc80:1"
time="2021-06-11T16:52:21Z" level=info msg="==------> enumWorkspaces() span:16fad8d70956fc80:4ecd1de7077269c1:22718376656a3a63:1"
time="2021-06-11T16:52:21Z" level=info msg="Connecting to nsmd on socket: /var/lib/networkservicemesh/nsm.io.sock..."
time="2021-06-11T16:52:21Z" level=info msg="Trying to establish connection to target: /var/lib/networkservicemesh/nsm.io.sock"
time="2021-06-11T16:52:21Z" level=info msg="Connecting to the workload api at:unix:///run/spire/sockets/agent.sock"
INFO: 2021/06/11 16:52:21 [core] parsed scheme: "unix"
INFO: 2021/06/11 16:52:21 [core] ccResolverWrapper: sending update to cc: {[{/run/spire/sockets/agent.sock  0xc0000ac778 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:52:21 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:52:21 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:52:21 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:52:21 [core] blockingPicker: the picked transport is not ready, loop back to repick
INFO: 2021/06/11 16:52:21 [core] Subchannel picks a new address "/run/spire/sockets/agent.sock" to connect
INFO: 2021/06/11 16:52:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001ffa60, {CONNECTING <nil>}
INFO: 2021/06/11 16:52:21 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:52:21 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:52:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001ffa60, {READY <nil>}
INFO: 2021/06/11 16:52:21 [core] Channel Connectivity change to READY
INFO: 2021/06/11 16:52:21 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:52:21 [core] Subchannel Connectivity change to SHUTDOWN
time="2021-06-11T16:52:21Z" level=info msg="Successfully retrieve bundles:&{{{0 0} 0 0 0 0} map[{test.com}:0xc000490700]}"
time="2021-06-11T16:52:21Z" level=info msg="defaultTrustDomain:test.com"
time="2021-06-11T16:52:21Z" level=info msg="AUTHORIZING ALL CLIENTS"
time="2021-06-11T16:52:21Z" level=info msg="Fetch tlsConfig for Trust Domain: test.com"
time="2021-06-11T16:52:21Z" level=info msg="Found 1 tlsconfigs."
INFO: 2021/06/11 16:52:21 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:52:21 [core] parsed scheme: ""
INFO: 2021/06/11 16:52:21 [core] scheme "" not registered, fallback to default scheme
INFO: 2021/06/11 16:52:21 [core] ccResolverWrapper: sending update to cc: {[{/var/lib/networkservicemesh/nsm.io.sock  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:52:21 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:52:21 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:52:21 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:52:21 [core] Subchannel picks a new address "/var/lib/networkservicemesh/nsm.io.sock" to connect
INFO: 2021/06/11 16:52:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001fe5e0, {CONNECTING <nil>}
INFO: 2021/06/11 16:52:21 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:52:21 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:52:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001fe5e0, {READY <nil>}
INFO: 2021/06/11 16:52:21 [core] Channel Connectivity change to READY
time="2021-06-11T16:52:21Z" level=info msg="Found the right tls certificate:&{<nil> <nil> [] map[] <nil> 0x966460 <nil> 0x9664e0 <nil> <nil> []  NoClientCert <nil> true [] false false [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] <nil> 0 0 [] false 0 <nil> {{0 0} 0 0 0 0} [] []}"
INFO: 2021/06/11 16:52:21 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:52:21 [core] Subchannel Connectivity change to SHUTDOWN
time="2021-06-11T16:52:21Z" level=info msg="Trying to establish connection using tlsConfig:&{<nil> <nil> [] map[] <nil> 0x966460 <nil> 0x9664e0 <nil> <nil> []  NoClientCert <nil> true [] false false [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] <nil> 0 0 [] false 0 <nil> {{0 0} 0 0 0 0} [] []}"
INFO: 2021/06/11 16:52:21 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:52:21 [core] parsed scheme: ""
INFO: 2021/06/11 16:52:21 [core] scheme "" not registered, fallback to default scheme
INFO: 2021/06/11 16:52:21 [core] ccResolverWrapper: sending update to cc: {[{/var/lib/networkservicemesh/nsm.io.sock  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:52:21 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:52:21 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:52:21 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:52:21 [core] Subchannel picks a new address "/var/lib/networkservicemesh/nsm.io.sock" to connect
INFO: 2021/06/11 16:52:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc000302300, {CONNECTING <nil>}
INFO: 2021/06/11 16:52:21 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:52:21 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:52:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc000302300, {READY <nil>}
INFO: 2021/06/11 16:52:21 [core] Channel Connectivity change to READY
time="2021-06-11T16:52:21Z" level=info msg="Requesting nsmd for client connection..."
time="2021-06-11T16:52:21Z" level=info msg=">><<-------- /nsmdapi.NSMD/EnumConnection()=\"\" span=16fad8d70956fc80:4ecd1de7077269c1:22718376656a3a63:1"
time="2021-06-11T16:52:21Z" level=info msg=">><<-------- request={} span=16fad8d70956fc80:4ecd1de7077269c1:22718376656a3a63:1"
2021/06/11 16:52:21 Reporting span 16fad8d70956fc80:755aa9df01598ee9:4ecd1de7077269c1:1
time="2021-06-11T16:52:21Z" level=info msg=">><<-------- response={\"workspace\":[\"nsm-12\",\"nsm-20\",\"nsm-25\"]} span=16fad8d70956fc80:4ecd1de7077269c1:22718376656a3a63:1"
time="2021-06-11T16:52:21Z" level=info msg=">><<------ reply={\"workspace\":[\"nsm-12\",\"nsm-20\",\"nsm-25\"]} span=16fad8d70956fc80:4ecd1de7077269c1:22718376656a3a63:1"
INFO: 2021/06/11 16:52:21 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:52:21 [core] Subchannel Connectivity change to SHUTDOWN
2021/06/11 16:52:21 Reporting span 16fad8d70956fc80:4ecd1de7077269c1:22718376656a3a63:1
time="2021-06-11T16:52:21Z" level=info msg=">><<---- reply={\"workspace\":[\"nsm-12\",\"nsm-20\",\"nsm-25\"]} span=16fad8d70956fc80:22718376656a3a63:16fad8d70956fc80:1"
2021/06/11 16:52:21 Reporting span 16fad8d70956fc80:22718376656a3a63:16fad8d70956fc80:1
time="2021-06-11T16:52:21Z" level=info msg="==----> sendDeviceUpdate() span:16fad8d70956fc80:20b17be5033eab63:16fad8d70956fc80:1"
INFO: 2021/06/11 16:52:21 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:52:21Z" level=info msg=">><<---- info={\"devices\":[{\"ID\":\"nsm-1\",\"health\":\"Healthy\"},{\"ID\":\"nsm-2\",\"health\":\"Healthy\"},{\"ID\":\"nsm-3\",\"health\":\"Healthy\"},{\"ID\":\"nsm-4\",\"health\":\"Healthy\"},{\"ID\":\"nsm-5\",\"health\":\"Healthy\"},{\"ID\":\"nsm-6\",\"health\":\"Healthy\"},{\"ID\":\"nsm-7\",\"health\":\"Healthy\"},{\"ID\":\"nsm-8\",\"health\":\"Healthy\"},{\"ID\":\"nsm-9\",\"health\":\"Healthy\"},{\"ID\":\"nsm-10\",\"health\":\"Healthy\"},{\"ID\":\"nsm-11\",\"health\":\"Healthy\"},{\"ID\":\"nsm-12\",\"health\":\"Healthy\"},{\"ID\":\"nsm-13\",\"health\":\"Healthy\"},{\"ID\":\"nsm-14\",\"health\":\"Healthy\"},{\"ID\":\"nsm-15\",\"health\":\"Healthy\"},{\"ID\":\"nsm-16\",\"health\":\"Healthy\"},{\"ID\":\"nsm-17\",\"health\":\"Healthy\"},{\"ID\":\"nsm-18\",\"health\":\"Healthy\"},{\"ID\":\"nsm-19\",\"health\":\"Healthy\"},{\"ID\":\"nsm-20\",\"health\":\"Healthy\"},{\"ID\":\"nsm-21\",\"health\":\"Healthy\"},{\"ID\":\"nsm-22\",\"health\":\"Healthy\"},{\"ID\":\"nsm-23\",\"health\":\"Healthy\"},{\"ID\":\"nsm-24\",\"health\":\"Healthy\"},{\"ID\":\"nsm-25\",\"health\":\"Healthy\"},{\"ID\":\"nsm-26\",\"health\":\"Healthy\"},{\"ID\":\"nsm-27\",\"health\":\"Healthy\"},{\"ID\":\"nsm-28\",\"health\":\"Healthy\"},{\"ID\":\"nsm-29\",\"health\":\"Healthy\"},{\"ID\":\"nsm-30\",\"health\":\"Healthy\"},{\"ID\":\"nsm-31\",\"health\":\"Healthy\"},{\"ID\":\"nsm-32\",\"health\":\"Healthy\"},{\"ID\":\"nsm-33\",\"health\":\"Healthy\"}]} span=16fad8d70956fc80:20b17be5033eab63:16fad8d70956fc80:1"
time="2021-06-11T16:52:21Z" level=info msg="Send device plugins info" operation=sendDeviceUpdate span="16fad8d70956fc80:20b17be5033eab63:16fad8d70956fc80:1"
time="2021-06-11T16:52:21Z" level=info msg="Delaying 30s" operation=ListAndWatch-17 span="16fad8d70956fc80:16fad8d70956fc80:0000000000000000:1"
2021/06/11 16:52:21 Reporting span 16fad8d70956fc80:16fad8d70956fc80:0000000000000000:1
time="2021-06-11T16:52:51Z" level=info msg="==--> ListAndWatch-18() span:6ced701fbf21b960:6ced701fbf21b960:0000000000000000:1"
time="2021-06-11T16:52:51Z" level=info msg="==----> recieveWorkspaces() span:6ced701fbf21b960:7a8a2b89c7293360:6ced701fbf21b960:1"
time="2021-06-11T16:52:51Z" level=info msg="Request workspaces list" operation=recieveWorkspaces span="6ced701fbf21b960:7a8a2b89c7293360:6ced701fbf21b960:1"
time="2021-06-11T16:52:51Z" level=info msg="==------> enumWorkspaces() span:6ced701fbf21b960:62f271057d36a51f:7a8a2b89c7293360:1"
time="2021-06-11T16:52:51Z" level=info msg="Connecting to nsmd on socket: /var/lib/networkservicemesh/nsm.io.sock..."
time="2021-06-11T16:52:51Z" level=info msg="Trying to establish connection to target: /var/lib/networkservicemesh/nsm.io.sock"
time="2021-06-11T16:52:51Z" level=info msg="Connecting to the workload api at:unix:///run/spire/sockets/agent.sock"
INFO: 2021/06/11 16:52:51 [core] parsed scheme: "unix"
INFO: 2021/06/11 16:52:51 [core] ccResolverWrapper: sending update to cc: {[{/run/spire/sockets/agent.sock  0xc0000ac770 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:52:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:52:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:52:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:52:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc00060a6a0, {CONNECTING <nil>}
INFO: 2021/06/11 16:52:51 [core] blockingPicker: the picked transport is not ready, loop back to repick
INFO: 2021/06/11 16:52:51 [core] Subchannel picks a new address "/run/spire/sockets/agent.sock" to connect
INFO: 2021/06/11 16:52:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:52:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:52:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc00060a6a0, {READY <nil>}
INFO: 2021/06/11 16:52:51 [core] Channel Connectivity change to READY
INFO: 2021/06/11 16:52:51 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:52:51 [core] Subchannel Connectivity change to SHUTDOWN
time="2021-06-11T16:52:51Z" level=info msg="Successfully retrieve bundles:&{{{0 0} 0 0 0 0} map[{test.com}:0xc000410900]}"
time="2021-06-11T16:52:51Z" level=info msg="defaultTrustDomain:test.com"
time="2021-06-11T16:52:51Z" level=info msg="AUTHORIZING ALL CLIENTS"
time="2021-06-11T16:52:51Z" level=info msg="Fetch tlsConfig for Trust Domain: test.com"
time="2021-06-11T16:52:51Z" level=info msg="Found 1 tlsconfigs."
INFO: 2021/06/11 16:52:51 [core] parsed scheme: ""
INFO: 2021/06/11 16:52:51 [core] scheme "" not registered, fallback to default scheme
INFO: 2021/06/11 16:52:51 [core] ccResolverWrapper: sending update to cc: {[{/var/lib/networkservicemesh/nsm.io.sock  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:52:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:52:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:52:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:52:51 [core] Subchannel picks a new address "/var/lib/networkservicemesh/nsm.io.sock" to connect
INFO: 2021/06/11 16:52:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc0003037d0, {CONNECTING <nil>}
INFO: 2021/06/11 16:52:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:52:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:52:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:52:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc0003037d0, {READY <nil>}
INFO: 2021/06/11 16:52:51 [core] Channel Connectivity change to READY
time="2021-06-11T16:52:51Z" level=info msg="Found the right tls certificate:&{<nil> <nil> [] map[] <nil> 0x966460 <nil> 0x9664e0 <nil> <nil> []  NoClientCert <nil> true [] false false [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] <nil> 0 0 [] false 0 <nil> {{0 0} 0 0 0 0} [] []}"
INFO: 2021/06/11 16:52:51 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:52:51 [core] Subchannel Connectivity change to SHUTDOWN
time="2021-06-11T16:52:51Z" level=info msg="Trying to establish connection using tlsConfig:&{<nil> <nil> [] map[] <nil> 0x966460 <nil> 0x9664e0 <nil> <nil> []  NoClientCert <nil> true [] false false [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] <nil> 0 0 [] false 0 <nil> {{0 0} 0 0 0 0} [] []}"
INFO: 2021/06/11 16:52:51 [core] parsed scheme: ""
INFO: 2021/06/11 16:52:51 [core] scheme "" not registered, fallback to default scheme
INFO: 2021/06/11 16:52:51 [core] ccResolverWrapper: sending update to cc: {[{/var/lib/networkservicemesh/nsm.io.sock  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:52:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:52:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:52:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:52:51 [core] Subchannel picks a new address "/var/lib/networkservicemesh/nsm.io.sock" to connect
INFO: 2021/06/11 16:52:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc000303da0, {CONNECTING <nil>}
INFO: 2021/06/11 16:52:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:52:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:52:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:52:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc000303da0, {READY <nil>}
INFO: 2021/06/11 16:52:51 [core] Channel Connectivity change to READY
time="2021-06-11T16:52:51Z" level=info msg="Requesting nsmd for client connection..."
time="2021-06-11T16:52:51Z" level=info msg=">><<-------- /nsmdapi.NSMD/EnumConnection()=\"\" span=6ced701fbf21b960:62f271057d36a51f:7a8a2b89c7293360:1"
time="2021-06-11T16:52:51Z" level=info msg=">><<-------- request={} span=6ced701fbf21b960:62f271057d36a51f:7a8a2b89c7293360:1"
2021/06/11 16:52:51 Reporting span 6ced701fbf21b960:2678826514f0c9c3:62f271057d36a51f:1
time="2021-06-11T16:52:51Z" level=info msg=">><<-------- response={\"workspace\":[\"nsm-12\",\"nsm-20\",\"nsm-25\"]} span=6ced701fbf21b960:62f271057d36a51f:7a8a2b89c7293360:1"
time="2021-06-11T16:52:51Z" level=info msg=">><<------ reply={\"workspace\":[\"nsm-12\",\"nsm-20\",\"nsm-25\"]} span=6ced701fbf21b960:62f271057d36a51f:7a8a2b89c7293360:1"
INFO: 2021/06/11 16:52:51 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:52:51 [core] Subchannel Connectivity change to SHUTDOWN
2021/06/11 16:52:51 Reporting span 6ced701fbf21b960:62f271057d36a51f:7a8a2b89c7293360:1
time="2021-06-11T16:52:51Z" level=info msg=">><<---- reply={\"workspace\":[\"nsm-12\",\"nsm-20\",\"nsm-25\"]} span=6ced701fbf21b960:7a8a2b89c7293360:6ced701fbf21b960:1"
INFO: 2021/06/11 16:52:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
2021/06/11 16:52:51 Reporting span 6ced701fbf21b960:7a8a2b89c7293360:6ced701fbf21b960:1
time="2021-06-11T16:52:51Z" level=info msg="==----> sendDeviceUpdate() span:6ced701fbf21b960:645b0a5f48153238:6ced701fbf21b960:1"
time="2021-06-11T16:52:51Z" level=info msg=">><<---- info={\"devices\":[{\"ID\":\"nsm-1\",\"health\":\"Healthy\"},{\"ID\":\"nsm-2\",\"health\":\"Healthy\"},{\"ID\":\"nsm-3\",\"health\":\"Healthy\"},{\"ID\":\"nsm-4\",\"health\":\"Healthy\"},{\"ID\":\"nsm-5\",\"health\":\"Healthy\"},{\"ID\":\"nsm-6\",\"health\":\"Healthy\"},{\"ID\":\"nsm-7\",\"health\":\"Healthy\"},{\"ID\":\"nsm-8\",\"health\":\"Healthy\"},{\"ID\":\"nsm-9\",\"health\":\"Healthy\"},{\"ID\":\"nsm-10\",\"health\":\"Healthy\"},{\"ID\":\"nsm-11\",\"health\":\"Healthy\"},{\"ID\":\"nsm-12\",\"health\":\"Healthy\"},{\"ID\":\"nsm-13\",\"health\":\"Healthy\"},{\"ID\":\"nsm-14\",\"health\":\"Healthy\"},{\"ID\":\"nsm-15\",\"health\":\"Healthy\"},{\"ID\":\"nsm-16\",\"health\":\"Healthy\"},{\"ID\":\"nsm-17\",\"health\":\"Healthy\"},{\"ID\":\"nsm-18\",\"health\":\"Healthy\"},{\"ID\":\"nsm-19\",\"health\":\"Healthy\"},{\"ID\":\"nsm-20\",\"health\":\"Healthy\"},{\"ID\":\"nsm-21\",\"health\":\"Healthy\"},{\"ID\":\"nsm-22\",\"health\":\"Healthy\"},{\"ID\":\"nsm-23\",\"health\":\"Healthy\"},{\"ID\":\"nsm-24\",\"health\":\"Healthy\"},{\"ID\":\"nsm-25\",\"health\":\"Healthy\"},{\"ID\":\"nsm-26\",\"health\":\"Healthy\"},{\"ID\":\"nsm-27\",\"health\":\"Healthy\"},{\"ID\":\"nsm-28\",\"health\":\"Healthy\"},{\"ID\":\"nsm-29\",\"health\":\"Healthy\"},{\"ID\":\"nsm-30\",\"health\":\"Healthy\"},{\"ID\":\"nsm-31\",\"health\":\"Healthy\"},{\"ID\":\"nsm-32\",\"health\":\"Healthy\"},{\"ID\":\"nsm-33\",\"health\":\"Healthy\"}]} span=6ced701fbf21b960:645b0a5f48153238:6ced701fbf21b960:1"
time="2021-06-11T16:52:51Z" level=info msg="Send device plugins info" operation=sendDeviceUpdate span="6ced701fbf21b960:645b0a5f48153238:6ced701fbf21b960:1"
time="2021-06-11T16:52:51Z" level=info msg="Delaying 30s" operation=ListAndWatch-18 span="6ced701fbf21b960:6ced701fbf21b960:0000000000000000:1"
2021/06/11 16:52:51 Reporting span 6ced701fbf21b960:6ced701fbf21b960:0000000000000000:1
time="2021-06-11T16:53:21Z" level=info msg="==--> ListAndWatch-19() span:52f681ff11c9486d:52f681ff11c9486d:0000000000000000:1"
time="2021-06-11T16:53:21Z" level=info msg="==----> recieveWorkspaces() span:52f681ff11c9486d:7b34ce2b607037a9:52f681ff11c9486d:1"
time="2021-06-11T16:53:21Z" level=info msg="Request workspaces list" operation=recieveWorkspaces span="52f681ff11c9486d:7b34ce2b607037a9:52f681ff11c9486d:1"
time="2021-06-11T16:53:21Z" level=info msg="==------> enumWorkspaces() span:52f681ff11c9486d:07797e3305021948:7b34ce2b607037a9:1"
time="2021-06-11T16:53:21Z" level=info msg="Connecting to nsmd on socket: /var/lib/networkservicemesh/nsm.io.sock..."
time="2021-06-11T16:53:21Z" level=info msg="Trying to establish connection to target: /var/lib/networkservicemesh/nsm.io.sock"
time="2021-06-11T16:53:21Z" level=info msg="Connecting to the workload api at:unix:///run/spire/sockets/agent.sock"
INFO: 2021/06/11 16:53:21 [core] parsed scheme: "unix"
INFO: 2021/06/11 16:53:21 [core] ccResolverWrapper: sending update to cc: {[{/run/spire/sockets/agent.sock  0xc00000e2e0 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:53:21 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:53:21 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:53:21 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:53:21 [core] blockingPicker: the picked transport is not ready, loop back to repick
INFO: 2021/06/11 16:53:21 [core] Subchannel picks a new address "/run/spire/sockets/agent.sock" to connect
INFO: 2021/06/11 16:53:21 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:53:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc000031c60, {CONNECTING <nil>}
INFO: 2021/06/11 16:53:21 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:53:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc000031c60, {READY <nil>}
INFO: 2021/06/11 16:53:21 [core] Channel Connectivity change to READY
INFO: 2021/06/11 16:53:21 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:53:21 [core] Subchannel Connectivity change to SHUTDOWN
time="2021-06-11T16:53:21Z" level=info msg="Successfully retrieve bundles:&{{{0 0} 0 0 0 0} map[{test.com}:0xc00063a980]}"
time="2021-06-11T16:53:21Z" level=info msg="defaultTrustDomain:test.com"
time="2021-06-11T16:53:21Z" level=info msg="AUTHORIZING ALL CLIENTS"
time="2021-06-11T16:53:21Z" level=info msg="Fetch tlsConfig for Trust Domain: test.com"
time="2021-06-11T16:53:21Z" level=info msg="Found 1 tlsconfigs."
INFO: 2021/06/11 16:53:21 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:53:21 [core] parsed scheme: ""
INFO: 2021/06/11 16:53:21 [core] scheme "" not registered, fallback to default scheme
INFO: 2021/06/11 16:53:21 [core] ccResolverWrapper: sending update to cc: {[{/var/lib/networkservicemesh/nsm.io.sock  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:53:21 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:53:21 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:53:21 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:53:21 [core] Subchannel picks a new address "/var/lib/networkservicemesh/nsm.io.sock" to connect
INFO: 2021/06/11 16:53:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc000539200, {CONNECTING <nil>}
INFO: 2021/06/11 16:53:21 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:53:21 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:53:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc000539200, {READY <nil>}
INFO: 2021/06/11 16:53:21 [core] Channel Connectivity change to READY
time="2021-06-11T16:53:21Z" level=info msg="Found the right tls certificate:&{<nil> <nil> [] map[] <nil> 0x966460 <nil> 0x9664e0 <nil> <nil> []  NoClientCert <nil> true [] false false [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] <nil> 0 0 [] false 0 <nil> {{0 0} 0 0 0 0} [] []}"
INFO: 2021/06/11 16:53:21 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:53:21 [core] Subchannel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:53:21 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:53:21Z" level=info msg="Trying to establish connection using tlsConfig:&{<nil> <nil> [] map[] <nil> 0x966460 <nil> 0x9664e0 <nil> <nil> []  NoClientCert <nil> true [] false false [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] <nil> 0 0 [] false 0 <nil> {{0 0} 0 0 0 0} [] []}"
INFO: 2021/06/11 16:53:21 [core] parsed scheme: ""
INFO: 2021/06/11 16:53:21 [core] scheme "" not registered, fallback to default scheme
INFO: 2021/06/11 16:53:21 [core] ccResolverWrapper: sending update to cc: {[{/var/lib/networkservicemesh/nsm.io.sock  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:53:21 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:53:21 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:53:21 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:53:21 [core] Subchannel picks a new address "/var/lib/networkservicemesh/nsm.io.sock" to connect
INFO: 2021/06/11 16:53:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc00060b4c0, {CONNECTING <nil>}
INFO: 2021/06/11 16:53:21 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:53:21 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:53:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc00060b4c0, {READY <nil>}
INFO: 2021/06/11 16:53:21 [core] Channel Connectivity change to READY
time="2021-06-11T16:53:21Z" level=info msg="Requesting nsmd for client connection..."
time="2021-06-11T16:53:21Z" level=info msg=">><<-------- /nsmdapi.NSMD/EnumConnection()=\"\" span=52f681ff11c9486d:07797e3305021948:7b34ce2b607037a9:1"
time="2021-06-11T16:53:21Z" level=info msg=">><<-------- request={} span=52f681ff11c9486d:07797e3305021948:7b34ce2b607037a9:1"
2021/06/11 16:53:21 Reporting span 52f681ff11c9486d:47adb5be256f1d0e:07797e3305021948:1
time="2021-06-11T16:53:21Z" level=info msg=">><<-------- response={\"workspace\":[\"nsm-12\",\"nsm-20\",\"nsm-25\"]} span=52f681ff11c9486d:07797e3305021948:7b34ce2b607037a9:1"
time="2021-06-11T16:53:21Z" level=info msg=">><<------ reply={\"workspace\":[\"nsm-12\",\"nsm-20\",\"nsm-25\"]} span=52f681ff11c9486d:07797e3305021948:7b34ce2b607037a9:1"
INFO: 2021/06/11 16:53:21 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:53:21 [core] Subchannel Connectivity change to SHUTDOWN
2021/06/11 16:53:21 Reporting span 52f681ff11c9486d:07797e3305021948:7b34ce2b607037a9:1
INFO: 2021/06/11 16:53:21 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:53:21Z" level=info msg=">><<---- reply={\"workspace\":[\"nsm-12\",\"nsm-20\",\"nsm-25\"]} span=52f681ff11c9486d:7b34ce2b607037a9:52f681ff11c9486d:1"
2021/06/11 16:53:21 Reporting span 52f681ff11c9486d:7b34ce2b607037a9:52f681ff11c9486d:1
time="2021-06-11T16:53:21Z" level=info msg="==----> sendDeviceUpdate() span:52f681ff11c9486d:759a159624b482a7:52f681ff11c9486d:1"
time="2021-06-11T16:53:21Z" level=info msg=">><<---- info={\"devices\":[{\"ID\":\"nsm-1\",\"health\":\"Healthy\"},{\"ID\":\"nsm-2\",\"health\":\"Healthy\"},{\"ID\":\"nsm-3\",\"health\":\"Healthy\"},{\"ID\":\"nsm-4\",\"health\":\"Healthy\"},{\"ID\":\"nsm-5\",\"health\":\"Healthy\"},{\"ID\":\"nsm-6\",\"health\":\"Healthy\"},{\"ID\":\"nsm-7\",\"health\":\"Healthy\"},{\"ID\":\"nsm-8\",\"health\":\"Healthy\"},{\"ID\":\"nsm-9\",\"health\":\"Healthy\"},{\"ID\":\"nsm-10\",\"health\":\"Healthy\"},{\"ID\":\"nsm-11\",\"health\":\"Healthy\"},{\"ID\":\"nsm-12\",\"health\":\"Healthy\"},{\"ID\":\"nsm-13\",\"health\":\"Healthy\"},{\"ID\":\"nsm-14\",\"health\":\"Healthy\"},{\"ID\":\"nsm-15\",\"health\":\"Healthy\"},{\"ID\":\"nsm-16\",\"health\":\"Healthy\"},{\"ID\":\"nsm-17\",\"health\":\"Healthy\"},{\"ID\":\"nsm-18\",\"health\":\"Healthy\"},{\"ID\":\"nsm-19\",\"health\":\"Healthy\"},{\"ID\":\"nsm-20\",\"health\":\"Healthy\"},{\"ID\":\"nsm-21\",\"health\":\"Healthy\"},{\"ID\":\"nsm-22\",\"health\":\"Healthy\"},{\"ID\":\"nsm-23\",\"health\":\"Healthy\"},{\"ID\":\"nsm-24\",\"health\":\"Healthy\"},{\"ID\":\"nsm-25\",\"health\":\"Healthy\"},{\"ID\":\"nsm-26\",\"health\":\"Healthy\"},{\"ID\":\"nsm-27\",\"health\":\"Healthy\"},{\"ID\":\"nsm-28\",\"health\":\"Healthy\"},{\"ID\":\"nsm-29\",\"health\":\"Healthy\"},{\"ID\":\"nsm-30\",\"health\":\"Healthy\"},{\"ID\":\"nsm-31\",\"health\":\"Healthy\"},{\"ID\":\"nsm-32\",\"health\":\"Healthy\"},{\"ID\":\"nsm-33\",\"health\":\"Healthy\"}]} span=52f681ff11c9486d:759a159624b482a7:52f681ff11c9486d:1"
time="2021-06-11T16:53:21Z" level=info msg="Send device plugins info" operation=sendDeviceUpdate span="52f681ff11c9486d:759a159624b482a7:52f681ff11c9486d:1"
time="2021-06-11T16:53:21Z" level=info msg="Delaying 30s" operation=ListAndWatch-19 span="52f681ff11c9486d:52f681ff11c9486d:0000000000000000:1"
2021/06/11 16:53:21 Reporting span 52f681ff11c9486d:52f681ff11c9486d:0000000000000000:1
time="2021-06-11T16:53:51Z" level=info msg="==--> ListAndWatch-20() span:0cf152d669ee0d16:0cf152d669ee0d16:0000000000000000:1"
time="2021-06-11T16:53:51Z" level=info msg="==----> recieveWorkspaces() span:0cf152d669ee0d16:3fecad6012732891:0cf152d669ee0d16:1"
time="2021-06-11T16:53:51Z" level=info msg="Request workspaces list" operation=recieveWorkspaces span="0cf152d669ee0d16:3fecad6012732891:0cf152d669ee0d16:1"
time="2021-06-11T16:53:51Z" level=info msg="==------> enumWorkspaces() span:0cf152d669ee0d16:354a99495ca1277e:3fecad6012732891:1"
time="2021-06-11T16:53:51Z" level=info msg="Connecting to nsmd on socket: /var/lib/networkservicemesh/nsm.io.sock..."
time="2021-06-11T16:53:51Z" level=info msg="Trying to establish connection to target: /var/lib/networkservicemesh/nsm.io.sock"
time="2021-06-11T16:53:51Z" level=info msg="Connecting to the workload api at:unix:///run/spire/sockets/agent.sock"
INFO: 2021/06/11 16:53:51 [core] parsed scheme: "unix"
INFO: 2021/06/11 16:53:51 [core] ccResolverWrapper: sending update to cc: {[{/run/spire/sockets/agent.sock  0xc0000ac110 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:53:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:53:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:53:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:53:51 [core] blockingPicker: the picked transport is not ready, loop back to repick
INFO: 2021/06/11 16:53:51 [core] Subchannel picks a new address "/run/spire/sockets/agent.sock" to connect
INFO: 2021/06/11 16:53:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc00060b0d0, {CONNECTING <nil>}
INFO: 2021/06/11 16:53:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:53:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:53:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc00060b0d0, {READY <nil>}
INFO: 2021/06/11 16:53:51 [core] Channel Connectivity change to READY
INFO: 2021/06/11 16:53:51 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:53:51 [core] Subchannel Connectivity change to SHUTDOWN
time="2021-06-11T16:53:51Z" level=info msg="Successfully retrieve bundles:&{{{0 0} 0 0 0 0} map[{test.com}:0xc0000b02c0]}"
time="2021-06-11T16:53:51Z" level=info msg="defaultTrustDomain:test.com"
time="2021-06-11T16:53:51Z" level=info msg="AUTHORIZING ALL CLIENTS"
time="2021-06-11T16:53:51Z" level=info msg="Fetch tlsConfig for Trust Domain: test.com"
time="2021-06-11T16:53:51Z" level=info msg="Found 1 tlsconfigs."
INFO: 2021/06/11 16:53:51 [core] parsed scheme: ""
INFO: 2021/06/11 16:53:51 [core] scheme "" not registered, fallback to default scheme
INFO: 2021/06/11 16:53:51 [core] ccResolverWrapper: sending update to cc: {[{/var/lib/networkservicemesh/nsm.io.sock  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:53:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:53:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:53:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:53:51 [core] Subchannel picks a new address "/var/lib/networkservicemesh/nsm.io.sock" to connect
INFO: 2021/06/11 16:53:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc000030b20, {CONNECTING <nil>}
INFO: 2021/06/11 16:53:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:53:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:53:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:53:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc000030b20, {READY <nil>}
INFO: 2021/06/11 16:53:51 [core] Channel Connectivity change to READY
time="2021-06-11T16:53:51Z" level=info msg="Found the right tls certificate:&{<nil> <nil> [] map[] <nil> 0x966460 <nil> 0x9664e0 <nil> <nil> []  NoClientCert <nil> true [] false false [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] <nil> 0 0 [] false 0 <nil> {{0 0} 0 0 0 0} [] []}"
INFO: 2021/06/11 16:53:51 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:53:51 [core] Subchannel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:53:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:53:51Z" level=info msg="Trying to establish connection using tlsConfig:&{<nil> <nil> [] map[] <nil> 0x966460 <nil> 0x9664e0 <nil> <nil> []  NoClientCert <nil> true [] false false [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] <nil> 0 0 [] false 0 <nil> {{0 0} 0 0 0 0} [] []}"
INFO: 2021/06/11 16:53:51 [core] parsed scheme: ""
INFO: 2021/06/11 16:53:51 [core] scheme "" not registered, fallback to default scheme
INFO: 2021/06/11 16:53:51 [core] ccResolverWrapper: sending update to cc: {[{/var/lib/networkservicemesh/nsm.io.sock  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:53:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:53:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:53:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:53:51 [core] Subchannel picks a new address "/var/lib/networkservicemesh/nsm.io.sock" to connect
INFO: 2021/06/11 16:53:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc000031d10, {CONNECTING <nil>}
INFO: 2021/06/11 16:53:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:53:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:53:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc000031d10, {READY <nil>}
INFO: 2021/06/11 16:53:51 [core] Channel Connectivity change to READY
time="2021-06-11T16:53:51Z" level=info msg="Requesting nsmd for client connection..."
time="2021-06-11T16:53:51Z" level=info msg=">><<-------- /nsmdapi.NSMD/EnumConnection()=\"\" span=0cf152d669ee0d16:354a99495ca1277e:3fecad6012732891:1"
time="2021-06-11T16:53:51Z" level=info msg=">><<-------- request={} span=0cf152d669ee0d16:354a99495ca1277e:3fecad6012732891:1"
2021/06/11 16:53:51 Reporting span 0cf152d669ee0d16:178ccf3a7c147158:354a99495ca1277e:1
time="2021-06-11T16:53:51Z" level=info msg=">><<-------- response={\"workspace\":[\"nsm-25\",\"nsm-12\",\"nsm-20\"]} span=0cf152d669ee0d16:354a99495ca1277e:3fecad6012732891:1"
time="2021-06-11T16:53:51Z" level=info msg=">><<------ reply={\"workspace\":[\"nsm-25\",\"nsm-12\",\"nsm-20\"]} span=0cf152d669ee0d16:354a99495ca1277e:3fecad6012732891:1"
INFO: 2021/06/11 16:53:51 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:53:51 [core] Subchannel Connectivity change to SHUTDOWN
2021/06/11 16:53:51 Reporting span 0cf152d669ee0d16:354a99495ca1277e:3fecad6012732891:1
time="2021-06-11T16:53:51Z" level=info msg=">><<---- reply={\"workspace\":[\"nsm-25\",\"nsm-12\",\"nsm-20\"]} span=0cf152d669ee0d16:3fecad6012732891:0cf152d669ee0d16:1"
2021/06/11 16:53:51 Reporting span 0cf152d669ee0d16:3fecad6012732891:0cf152d669ee0d16:1
INFO: 2021/06/11 16:53:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:53:51Z" level=info msg="==----> sendDeviceUpdate() span:0cf152d669ee0d16:37ee6172b2897088:0cf152d669ee0d16:1"
time="2021-06-11T16:53:51Z" level=info msg=">><<---- info={\"devices\":[{\"ID\":\"nsm-1\",\"health\":\"Healthy\"},{\"ID\":\"nsm-2\",\"health\":\"Healthy\"},{\"ID\":\"nsm-3\",\"health\":\"Healthy\"},{\"ID\":\"nsm-4\",\"health\":\"Healthy\"},{\"ID\":\"nsm-5\",\"health\":\"Healthy\"},{\"ID\":\"nsm-6\",\"health\":\"Healthy\"},{\"ID\":\"nsm-7\",\"health\":\"Healthy\"},{\"ID\":\"nsm-8\",\"health\":\"Healthy\"},{\"ID\":\"nsm-9\",\"health\":\"Healthy\"},{\"ID\":\"nsm-10\",\"health\":\"Healthy\"},{\"ID\":\"nsm-11\",\"health\":\"Healthy\"},{\"ID\":\"nsm-12\",\"health\":\"Healthy\"},{\"ID\":\"nsm-13\",\"health\":\"Healthy\"},{\"ID\":\"nsm-14\",\"health\":\"Healthy\"},{\"ID\":\"nsm-15\",\"health\":\"Healthy\"},{\"ID\":\"nsm-16\",\"health\":\"Healthy\"},{\"ID\":\"nsm-17\",\"health\":\"Healthy\"},{\"ID\":\"nsm-18\",\"health\":\"Healthy\"},{\"ID\":\"nsm-19\",\"health\":\"Healthy\"},{\"ID\":\"nsm-20\",\"health\":\"Healthy\"},{\"ID\":\"nsm-21\",\"health\":\"Healthy\"},{\"ID\":\"nsm-22\",\"health\":\"Healthy\"},{\"ID\":\"nsm-23\",\"health\":\"Healthy\"},{\"ID\":\"nsm-24\",\"health\":\"Healthy\"},{\"ID\":\"nsm-25\",\"health\":\"Healthy\"},{\"ID\":\"nsm-26\",\"health\":\"Healthy\"},{\"ID\":\"nsm-27\",\"health\":\"Healthy\"},{\"ID\":\"nsm-28\",\"health\":\"Healthy\"},{\"ID\":\"nsm-29\",\"health\":\"Healthy\"},{\"ID\":\"nsm-30\",\"health\":\"Healthy\"},{\"ID\":\"nsm-31\",\"health\":\"Healthy\"},{\"ID\":\"nsm-32\",\"health\":\"Healthy\"},{\"ID\":\"nsm-33\",\"health\":\"Healthy\"}]} span=0cf152d669ee0d16:37ee6172b2897088:0cf152d669ee0d16:1"
time="2021-06-11T16:53:51Z" level=info msg="Send device plugins info" operation=sendDeviceUpdate span="0cf152d669ee0d16:37ee6172b2897088:0cf152d669ee0d16:1"
time="2021-06-11T16:53:51Z" level=info msg="Delaying 30s" operation=ListAndWatch-20 span="0cf152d669ee0d16:0cf152d669ee0d16:0000000000000000:1"
2021/06/11 16:53:51 Reporting span 0cf152d669ee0d16:0cf152d669ee0d16:0000000000000000:1
time="2021-06-11T16:54:21Z" level=info msg="==--> ListAndWatch-21() span:1b743faee114f047:1b743faee114f047:0000000000000000:1"
time="2021-06-11T16:54:21Z" level=info msg="==----> recieveWorkspaces() span:1b743faee114f047:486ae8249fc5c8d6:1b743faee114f047:1"
time="2021-06-11T16:54:21Z" level=info msg="Request workspaces list" operation=recieveWorkspaces span="1b743faee114f047:486ae8249fc5c8d6:1b743faee114f047:1"
time="2021-06-11T16:54:21Z" level=info msg="==------> enumWorkspaces() span:1b743faee114f047:113a99abfcd58636:486ae8249fc5c8d6:1"
time="2021-06-11T16:54:21Z" level=info msg="Connecting to nsmd on socket: /var/lib/networkservicemesh/nsm.io.sock..."
time="2021-06-11T16:54:21Z" level=info msg="Trying to establish connection to target: /var/lib/networkservicemesh/nsm.io.sock"
time="2021-06-11T16:54:21Z" level=info msg="Connecting to the workload api at:unix:///run/spire/sockets/agent.sock"
INFO: 2021/06/11 16:54:21 [core] parsed scheme: "unix"
INFO: 2021/06/11 16:54:21 [core] ccResolverWrapper: sending update to cc: {[{/run/spire/sockets/agent.sock  0xc0000ac708 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:54:21 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:54:21 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:54:21 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:54:21 [core] blockingPicker: the picked transport is not ready, loop back to repick
INFO: 2021/06/11 16:54:21 [core] Subchannel picks a new address "/run/spire/sockets/agent.sock" to connect
INFO: 2021/06/11 16:54:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc00060baf0, {CONNECTING <nil>}
INFO: 2021/06/11 16:54:21 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:54:21 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:54:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc00060baf0, {READY <nil>}
INFO: 2021/06/11 16:54:21 [core] Channel Connectivity change to READY
INFO: 2021/06/11 16:54:21 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:54:21 [core] Subchannel Connectivity change to SHUTDOWN
time="2021-06-11T16:54:21Z" level=info msg="Successfully retrieve bundles:&{{{0 0} 0 0 0 0} map[{test.com}:0xc000410740]}"
time="2021-06-11T16:54:21Z" level=info msg="defaultTrustDomain:test.com"
time="2021-06-11T16:54:21Z" level=info msg="AUTHORIZING ALL CLIENTS"
time="2021-06-11T16:54:21Z" level=info msg="Fetch tlsConfig for Trust Domain: test.com"
time="2021-06-11T16:54:21Z" level=info msg="Found 1 tlsconfigs."
INFO: 2021/06/11 16:54:21 [core] parsed scheme: ""
INFO: 2021/06/11 16:54:21 [core] scheme "" not registered, fallback to default scheme
INFO: 2021/06/11 16:54:21 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:54:21 [core] ccResolverWrapper: sending update to cc: {[{/var/lib/networkservicemesh/nsm.io.sock  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:54:21 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:54:21 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:54:21 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:54:21 [core] Subchannel picks a new address "/var/lib/networkservicemesh/nsm.io.sock" to connect
INFO: 2021/06/11 16:54:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc0005398e0, {CONNECTING <nil>}
INFO: 2021/06/11 16:54:21 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:54:21 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:54:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc0005398e0, {READY <nil>}
INFO: 2021/06/11 16:54:21 [core] Channel Connectivity change to READY
time="2021-06-11T16:54:21Z" level=info msg="Found the right tls certificate:&{<nil> <nil> [] map[] <nil> 0x966460 <nil> 0x9664e0 <nil> <nil> []  NoClientCert <nil> true [] false false [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] <nil> 0 0 [] false 0 <nil> {{0 0} 0 0 0 0} [] []}"
INFO: 2021/06/11 16:54:21 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:54:21 [core] Subchannel Connectivity change to SHUTDOWN
time="2021-06-11T16:54:21Z" level=info msg="Trying to establish connection using tlsConfig:&{<nil> <nil> [] map[] <nil> 0x966460 <nil> 0x9664e0 <nil> <nil> []  NoClientCert <nil> true [] false false [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] <nil> 0 0 [] false 0 <nil> {{0 0} 0 0 0 0} [] []}"
INFO: 2021/06/11 16:54:21 [core] parsed scheme: ""
INFO: 2021/06/11 16:54:21 [core] scheme "" not registered, fallback to default scheme
INFO: 2021/06/11 16:54:21 [core] ccResolverWrapper: sending update to cc: {[{/var/lib/networkservicemesh/nsm.io.sock  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:54:21 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:54:21 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:54:21 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:54:21 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:54:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc0003846c0, {CONNECTING <nil>}
INFO: 2021/06/11 16:54:21 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:54:21 [core] Subchannel picks a new address "/var/lib/networkservicemesh/nsm.io.sock" to connect
INFO: 2021/06/11 16:54:21 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:54:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc0003846c0, {READY <nil>}
INFO: 2021/06/11 16:54:21 [core] Channel Connectivity change to READY
time="2021-06-11T16:54:21Z" level=info msg="Requesting nsmd for client connection..."
time="2021-06-11T16:54:21Z" level=info msg=">><<-------- /nsmdapi.NSMD/EnumConnection()=\"\" span=1b743faee114f047:113a99abfcd58636:486ae8249fc5c8d6:1"
time="2021-06-11T16:54:21Z" level=info msg=">><<-------- request={} span=1b743faee114f047:113a99abfcd58636:486ae8249fc5c8d6:1"
2021/06/11 16:54:21 Reporting span 1b743faee114f047:367ae49efe6a74df:113a99abfcd58636:1
time="2021-06-11T16:54:21Z" level=info msg=">><<-------- response={\"workspace\":[\"nsm-12\",\"nsm-20\",\"nsm-25\"]} span=1b743faee114f047:113a99abfcd58636:486ae8249fc5c8d6:1"
time="2021-06-11T16:54:21Z" level=info msg=">><<------ reply={\"workspace\":[\"nsm-12\",\"nsm-20\",\"nsm-25\"]} span=1b743faee114f047:113a99abfcd58636:486ae8249fc5c8d6:1"
INFO: 2021/06/11 16:54:21 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:54:21 [core] Subchannel Connectivity change to SHUTDOWN
2021/06/11 16:54:21 Reporting span 1b743faee114f047:113a99abfcd58636:486ae8249fc5c8d6:1
time="2021-06-11T16:54:21Z" level=info msg=">><<---- reply={\"workspace\":[\"nsm-12\",\"nsm-20\",\"nsm-25\"]} span=1b743faee114f047:486ae8249fc5c8d6:1b743faee114f047:1"
2021/06/11 16:54:21 Reporting span 1b743faee114f047:486ae8249fc5c8d6:1b743faee114f047:1
time="2021-06-11T16:54:21Z" level=info msg="==----> sendDeviceUpdate() span:1b743faee114f047:32fa340f1468d927:1b743faee114f047:1"
INFO: 2021/06/11 16:54:21 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:54:21Z" level=info msg=">><<---- info={\"devices\":[{\"ID\":\"nsm-1\",\"health\":\"Healthy\"},{\"ID\":\"nsm-2\",\"health\":\"Healthy\"},{\"ID\":\"nsm-3\",\"health\":\"Healthy\"},{\"ID\":\"nsm-4\",\"health\":\"Healthy\"},{\"ID\":\"nsm-5\",\"health\":\"Healthy\"},{\"ID\":\"nsm-6\",\"health\":\"Healthy\"},{\"ID\":\"nsm-7\",\"health\":\"Healthy\"},{\"ID\":\"nsm-8\",\"health\":\"Healthy\"},{\"ID\":\"nsm-9\",\"health\":\"Healthy\"},{\"ID\":\"nsm-10\",\"health\":\"Healthy\"},{\"ID\":\"nsm-11\",\"health\":\"Healthy\"},{\"ID\":\"nsm-12\",\"health\":\"Healthy\"},{\"ID\":\"nsm-13\",\"health\":\"Healthy\"},{\"ID\":\"nsm-14\",\"health\":\"Healthy\"},{\"ID\":\"nsm-15\",\"health\":\"Healthy\"},{\"ID\":\"nsm-16\",\"health\":\"Healthy\"},{\"ID\":\"nsm-17\",\"health\":\"Healthy\"},{\"ID\":\"nsm-18\",\"health\":\"Healthy\"},{\"ID\":\"nsm-19\",\"health\":\"Healthy\"},{\"ID\":\"nsm-20\",\"health\":\"Healthy\"},{\"ID\":\"nsm-21\",\"health\":\"Healthy\"},{\"ID\":\"nsm-22\",\"health\":\"Healthy\"},{\"ID\":\"nsm-23\",\"health\":\"Healthy\"},{\"ID\":\"nsm-24\",\"health\":\"Healthy\"},{\"ID\":\"nsm-25\",\"health\":\"Healthy\"},{\"ID\":\"nsm-26\",\"health\":\"Healthy\"},{\"ID\":\"nsm-27\",\"health\":\"Healthy\"},{\"ID\":\"nsm-28\",\"health\":\"Healthy\"},{\"ID\":\"nsm-29\",\"health\":\"Healthy\"},{\"ID\":\"nsm-30\",\"health\":\"Healthy\"},{\"ID\":\"nsm-31\",\"health\":\"Healthy\"},{\"ID\":\"nsm-32\",\"health\":\"Healthy\"},{\"ID\":\"nsm-33\",\"health\":\"Healthy\"}]} span=1b743faee114f047:32fa340f1468d927:1b743faee114f047:1"
time="2021-06-11T16:54:21Z" level=info msg="Send device plugins info" operation=sendDeviceUpdate span="1b743faee114f047:32fa340f1468d927:1b743faee114f047:1"
time="2021-06-11T16:54:21Z" level=info msg="Delaying 30s" operation=ListAndWatch-21 span="1b743faee114f047:1b743faee114f047:0000000000000000:1"
2021/06/11 16:54:21 Reporting span 1b743faee114f047:1b743faee114f047:0000000000000000:1
time="2021-06-11T16:54:51Z" level=info msg="==--> ListAndWatch-22() span:2fa3b4a650c359ef:2fa3b4a650c359ef:0000000000000000:1"
time="2021-06-11T16:54:51Z" level=info msg="==----> recieveWorkspaces() span:2fa3b4a650c359ef:52daab8ace12b088:2fa3b4a650c359ef:1"
time="2021-06-11T16:54:51Z" level=info msg="Request workspaces list" operation=recieveWorkspaces span="2fa3b4a650c359ef:52daab8ace12b088:2fa3b4a650c359ef:1"
time="2021-06-11T16:54:51Z" level=info msg="==------> enumWorkspaces() span:2fa3b4a650c359ef:457199901d9bd47b:52daab8ace12b088:1"
time="2021-06-11T16:54:51Z" level=info msg="Connecting to nsmd on socket: /var/lib/networkservicemesh/nsm.io.sock..."
time="2021-06-11T16:54:51Z" level=info msg="Trying to establish connection to target: /var/lib/networkservicemesh/nsm.io.sock"
time="2021-06-11T16:54:51Z" level=info msg="Connecting to the workload api at:unix:///run/spire/sockets/agent.sock"
INFO: 2021/06/11 16:54:51 [core] parsed scheme: "unix"
INFO: 2021/06/11 16:54:51 [core] ccResolverWrapper: sending update to cc: {[{/run/spire/sockets/agent.sock  0xc000484120 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:54:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:54:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:54:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:54:51 [core] blockingPicker: the picked transport is not ready, loop back to repick
INFO: 2021/06/11 16:54:51 [core] Subchannel picks a new address "/run/spire/sockets/agent.sock" to connect
INFO: 2021/06/11 16:54:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc00035ea90, {CONNECTING <nil>}
INFO: 2021/06/11 16:54:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:54:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:54:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc00035ea90, {READY <nil>}
INFO: 2021/06/11 16:54:51 [core] Channel Connectivity change to READY
INFO: 2021/06/11 16:54:51 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:54:51 [core] Subchannel Connectivity change to SHUTDOWN
time="2021-06-11T16:54:51Z" level=info msg="Successfully retrieve bundles:&{{{0 0} 0 0 0 0} map[{test.com}:0xc00063ab00]}"
time="2021-06-11T16:54:51Z" level=info msg="defaultTrustDomain:test.com"
time="2021-06-11T16:54:51Z" level=info msg="AUTHORIZING ALL CLIENTS"
time="2021-06-11T16:54:51Z" level=info msg="Fetch tlsConfig for Trust Domain: test.com"
time="2021-06-11T16:54:51Z" level=info msg="Found 1 tlsconfigs."
INFO: 2021/06/11 16:54:51 [core] parsed scheme: ""
INFO: 2021/06/11 16:54:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:54:51 [core] scheme "" not registered, fallback to default scheme
INFO: 2021/06/11 16:54:51 [core] ccResolverWrapper: sending update to cc: {[{/var/lib/networkservicemesh/nsm.io.sock  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:54:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:54:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:54:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:54:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc00035f550, {CONNECTING <nil>}
INFO: 2021/06/11 16:54:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:54:51 [core] Subchannel picks a new address "/var/lib/networkservicemesh/nsm.io.sock" to connect
INFO: 2021/06/11 16:54:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:54:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc00035f550, {READY <nil>}
INFO: 2021/06/11 16:54:51 [core] Channel Connectivity change to READY
time="2021-06-11T16:54:51Z" level=info msg="Found the right tls certificate:&{<nil> <nil> [] map[] <nil> 0x966460 <nil> 0x9664e0 <nil> <nil> []  NoClientCert <nil> true [] false false [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] <nil> 0 0 [] false 0 <nil> {{0 0} 0 0 0 0} [] []}"
INFO: 2021/06/11 16:54:51 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:54:51 [core] Subchannel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:54:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:54:51Z" level=info msg="Trying to establish connection using tlsConfig:&{<nil> <nil> [] map[] <nil> 0x966460 <nil> 0x9664e0 <nil> <nil> []  NoClientCert <nil> true [] false false [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] <nil> 0 0 [] false 0 <nil> {{0 0} 0 0 0 0} [] []}"
INFO: 2021/06/11 16:54:51 [core] parsed scheme: ""
INFO: 2021/06/11 16:54:51 [core] scheme "" not registered, fallback to default scheme
INFO: 2021/06/11 16:54:51 [core] ccResolverWrapper: sending update to cc: {[{/var/lib/networkservicemesh/nsm.io.sock  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:54:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:54:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:54:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:54:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc0004ed690, {CONNECTING <nil>}
INFO: 2021/06/11 16:54:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:54:51 [core] Subchannel picks a new address "/var/lib/networkservicemesh/nsm.io.sock" to connect
INFO: 2021/06/11 16:54:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:54:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc0004ed690, {READY <nil>}
INFO: 2021/06/11 16:54:51 [core] Channel Connectivity change to READY
time="2021-06-11T16:54:51Z" level=info msg="Requesting nsmd for client connection..."
time="2021-06-11T16:54:51Z" level=info msg=">><<-------- /nsmdapi.NSMD/EnumConnection()=\"\" span=2fa3b4a650c359ef:457199901d9bd47b:52daab8ace12b088:1"
time="2021-06-11T16:54:51Z" level=info msg=">><<-------- request={} span=2fa3b4a650c359ef:457199901d9bd47b:52daab8ace12b088:1"
2021/06/11 16:54:51 Reporting span 2fa3b4a650c359ef:2d5494e29b9a3f11:457199901d9bd47b:1
time="2021-06-11T16:54:51Z" level=info msg=">><<-------- response={\"workspace\":[\"nsm-12\",\"nsm-20\",\"nsm-25\"]} span=2fa3b4a650c359ef:457199901d9bd47b:52daab8ace12b088:1"
time="2021-06-11T16:54:51Z" level=info msg=">><<------ reply={\"workspace\":[\"nsm-12\",\"nsm-20\",\"nsm-25\"]} span=2fa3b4a650c359ef:457199901d9bd47b:52daab8ace12b088:1"
INFO: 2021/06/11 16:54:51 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:54:51 [core] Subchannel Connectivity change to SHUTDOWN
2021/06/11 16:54:51 Reporting span 2fa3b4a650c359ef:457199901d9bd47b:52daab8ace12b088:1
time="2021-06-11T16:54:51Z" level=info msg=">><<---- reply={\"workspace\":[\"nsm-12\",\"nsm-20\",\"nsm-25\"]} span=2fa3b4a650c359ef:52daab8ace12b088:2fa3b4a650c359ef:1"
2021/06/11 16:54:51 Reporting span 2fa3b4a650c359ef:52daab8ace12b088:2fa3b4a650c359ef:1
time="2021-06-11T16:54:51Z" level=info msg="==----> sendDeviceUpdate() span:2fa3b4a650c359ef:79843f305d28c8de:2fa3b4a650c359ef:1"
time="2021-06-11T16:54:51Z" level=info msg=">><<---- info={\"devices\":[{\"ID\":\"nsm-1\",\"health\":\"Healthy\"},{\"ID\":\"nsm-2\",\"health\":\"Healthy\"},{\"ID\":\"nsm-3\",\"health\":\"Healthy\"},{\"ID\":\"nsm-4\",\"health\":\"Healthy\"},{\"ID\":\"nsm-5\",\"health\":\"Healthy\"},{\"ID\":\"nsm-6\",\"health\":\"Healthy\"},{\"ID\":\"nsm-7\",\"health\":\"Healthy\"},{\"ID\":\"nsm-8\",\"health\":\"Healthy\"},{\"ID\":\"nsm-9\",\"health\":\"Healthy\"},{\"ID\":\"nsm-10\",\"health\":\"Healthy\"},{\"ID\":\"nsm-11\",\"health\":\"Healthy\"},{\"ID\":\"nsm-12\",\"health\":\"Healthy\"},{\"ID\":\"nsm-13\",\"health\":\"Healthy\"},{\"ID\":\"nsm-14\",\"health\":\"Healthy\"},{\"ID\":\"nsm-15\",\"health\":\"Healthy\"},{\"ID\":\"nsm-16\",\"health\":\"Healthy\"},{\"ID\":\"nsm-17\",\"health\":\"Healthy\"},{\"ID\":\"nsm-18\",\"health\":\"Healthy\"},{\"ID\":\"nsm-19\",\"health\":\"Healthy\"},{\"ID\":\"nsm-20\",\"health\":\"Healthy\"},{\"ID\":\"nsm-21\",\"health\":\"Healthy\"},{\"ID\":\"nsm-22\",\"health\":\"Healthy\"},{\"ID\":\"nsm-23\",\"health\":\"Healthy\"},{\"ID\":\"nsm-24\",\"health\":\"Healthy\"},{\"ID\":\"nsm-25\",\"health\":\"Healthy\"},{\"ID\":\"nsm-26\",\"health\":\"Healthy\"},{\"ID\":\"nsm-27\",\"health\":\"Healthy\"},{\"ID\":\"nsm-28\",\"health\":\"Healthy\"},{\"ID\":\"nsm-29\",\"health\":\"Healthy\"},{\"ID\":\"nsm-30\",\"health\":\"Healthy\"},{\"ID\":\"nsm-31\",\"health\":\"Healthy\"},{\"ID\":\"nsm-32\",\"health\":\"Healthy\"},{\"ID\":\"nsm-33\",\"health\":\"Healthy\"}]} span=2fa3b4a650c359ef:79843f305d28c8de:2fa3b4a650c359ef:1"
time="2021-06-11T16:54:51Z" level=info msg="Send device plugins info" operation=sendDeviceUpdate span="2fa3b4a650c359ef:79843f305d28c8de:2fa3b4a650c359ef:1"
INFO: 2021/06/11 16:54:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:54:51Z" level=info msg="Delaying 30s" operation=ListAndWatch-22 span="2fa3b4a650c359ef:2fa3b4a650c359ef:0000000000000000:1"
2021/06/11 16:54:51 Reporting span 2fa3b4a650c359ef:2fa3b4a650c359ef:0000000000000000:1
time="2021-06-11T16:55:21Z" level=info msg="==--> ListAndWatch-23() span:0367361d6409255a:0367361d6409255a:0000000000000000:1"
time="2021-06-11T16:55:21Z" level=info msg="==----> recieveWorkspaces() span:0367361d6409255a:04294052336f9b90:0367361d6409255a:1"
time="2021-06-11T16:55:21Z" level=info msg="Request workspaces list" operation=recieveWorkspaces span="0367361d6409255a:04294052336f9b90:0367361d6409255a:1"
time="2021-06-11T16:55:21Z" level=info msg="==------> enumWorkspaces() span:0367361d6409255a:25b4a04862c6f617:04294052336f9b90:1"
time="2021-06-11T16:55:21Z" level=info msg="Connecting to nsmd on socket: /var/lib/networkservicemesh/nsm.io.sock..."
time="2021-06-11T16:55:21Z" level=info msg="Trying to establish connection to target: /var/lib/networkservicemesh/nsm.io.sock"
time="2021-06-11T16:55:21Z" level=info msg="Connecting to the workload api at:unix:///run/spire/sockets/agent.sock"
INFO: 2021/06/11 16:55:21 [core] parsed scheme: "unix"
INFO: 2021/06/11 16:55:21 [core] ccResolverWrapper: sending update to cc: {[{/run/spire/sockets/agent.sock  0xc00000e218 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:55:21 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:55:21 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:55:21 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:55:21 [core] blockingPicker: the picked transport is not ready, loop back to repick
INFO: 2021/06/11 16:55:21 [core] Subchannel picks a new address "/run/spire/sockets/agent.sock" to connect
INFO: 2021/06/11 16:55:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc000538940, {CONNECTING <nil>}
INFO: 2021/06/11 16:55:21 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:55:21 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:55:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc000538940, {READY <nil>}
INFO: 2021/06/11 16:55:21 [core] Channel Connectivity change to READY
INFO: 2021/06/11 16:55:21 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:55:21 [core] Subchannel Connectivity change to SHUTDOWN
time="2021-06-11T16:55:21Z" level=info msg="Successfully retrieve bundles:&{{{0 0} 0 0 0 0} map[{test.com}:0xc00063a200]}"
time="2021-06-11T16:55:21Z" level=info msg="defaultTrustDomain:test.com"
time="2021-06-11T16:55:21Z" level=info msg="AUTHORIZING ALL CLIENTS"
time="2021-06-11T16:55:21Z" level=info msg="Fetch tlsConfig for Trust Domain: test.com"
time="2021-06-11T16:55:21Z" level=info msg="Found 1 tlsconfigs."
INFO: 2021/06/11 16:55:21 [core] parsed scheme: ""
INFO: 2021/06/11 16:55:21 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:55:21 [core] scheme "" not registered, fallback to default scheme
INFO: 2021/06/11 16:55:21 [core] ccResolverWrapper: sending update to cc: {[{/var/lib/networkservicemesh/nsm.io.sock  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:55:21 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:55:21 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:55:21 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:55:21 [core] Subchannel picks a new address "/var/lib/networkservicemesh/nsm.io.sock" to connect
INFO: 2021/06/11 16:55:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc000384cc0, {CONNECTING <nil>}
INFO: 2021/06/11 16:55:21 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:55:21 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:55:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc000384cc0, {READY <nil>}
INFO: 2021/06/11 16:55:21 [core] Channel Connectivity change to READY
time="2021-06-11T16:55:21Z" level=info msg="Found the right tls certificate:&{<nil> <nil> [] map[] <nil> 0x966460 <nil> 0x9664e0 <nil> <nil> []  NoClientCert <nil> true [] false false [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] <nil> 0 0 [] false 0 <nil> {{0 0} 0 0 0 0} [] []}"
INFO: 2021/06/11 16:55:21 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:55:21 [core] Subchannel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:55:21 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:55:21Z" level=info msg="Trying to establish connection using tlsConfig:&{<nil> <nil> [] map[] <nil> 0x966460 <nil> 0x9664e0 <nil> <nil> []  NoClientCert <nil> true [] false false [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] <nil> 0 0 [] false 0 <nil> {{0 0} 0 0 0 0} [] []}"
INFO: 2021/06/11 16:55:21 [core] parsed scheme: ""
INFO: 2021/06/11 16:55:21 [core] scheme "" not registered, fallback to default scheme
INFO: 2021/06/11 16:55:21 [core] ccResolverWrapper: sending update to cc: {[{/var/lib/networkservicemesh/nsm.io.sock  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:55:21 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:55:21 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:55:21 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:55:21 [core] Subchannel picks a new address "/var/lib/networkservicemesh/nsm.io.sock" to connect
INFO: 2021/06/11 16:55:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc0003032a0, {CONNECTING <nil>}
INFO: 2021/06/11 16:55:21 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:55:21 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:55:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc0003032a0, {READY <nil>}
INFO: 2021/06/11 16:55:21 [core] Channel Connectivity change to READY
time="2021-06-11T16:55:21Z" level=info msg="Requesting nsmd for client connection..."
time="2021-06-11T16:55:21Z" level=info msg=">><<-------- /nsmdapi.NSMD/EnumConnection()=\"\" span=0367361d6409255a:25b4a04862c6f617:04294052336f9b90:1"
time="2021-06-11T16:55:21Z" level=info msg=">><<-------- request={} span=0367361d6409255a:25b4a04862c6f617:04294052336f9b90:1"
2021/06/11 16:55:21 Reporting span 0367361d6409255a:6b69e0cd067aa365:25b4a04862c6f617:1
time="2021-06-11T16:55:21Z" level=info msg=">><<-------- response={\"workspace\":[\"nsm-20\",\"nsm-25\",\"nsm-12\"]} span=0367361d6409255a:25b4a04862c6f617:04294052336f9b90:1"
time="2021-06-11T16:55:21Z" level=info msg=">><<------ reply={\"workspace\":[\"nsm-20\",\"nsm-25\",\"nsm-12\"]} span=0367361d6409255a:25b4a04862c6f617:04294052336f9b90:1"
INFO: 2021/06/11 16:55:21 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:55:21 [core] Subchannel Connectivity change to SHUTDOWN
2021/06/11 16:55:21 Reporting span 0367361d6409255a:25b4a04862c6f617:04294052336f9b90:1
time="2021-06-11T16:55:21Z" level=info msg=">><<---- reply={\"workspace\":[\"nsm-20\",\"nsm-25\",\"nsm-12\"]} span=0367361d6409255a:04294052336f9b90:0367361d6409255a:1"
2021/06/11 16:55:21 Reporting span 0367361d6409255a:04294052336f9b90:0367361d6409255a:1
INFO: 2021/06/11 16:55:21 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:55:21Z" level=info msg="==----> sendDeviceUpdate() span:0367361d6409255a:7d1f25ca04244e4a:0367361d6409255a:1"
time="2021-06-11T16:55:21Z" level=info msg=">><<---- info={\"devices\":[{\"ID\":\"nsm-1\",\"health\":\"Healthy\"},{\"ID\":\"nsm-2\",\"health\":\"Healthy\"},{\"ID\":\"nsm-3\",\"health\":\"Healthy\"},{\"ID\":\"nsm-4\",\"health\":\"Healthy\"},{\"ID\":\"nsm-5\",\"health\":\"Healthy\"},{\"ID\":\"nsm-6\",\"health\":\"Healthy\"},{\"ID\":\"nsm-7\",\"health\":\"Healthy\"},{\"ID\":\"nsm-8\",\"health\":\"Healthy\"},{\"ID\":\"nsm-9\",\"health\":\"Healthy\"},{\"ID\":\"nsm-10\",\"health\":\"Healthy\"},{\"ID\":\"nsm-11\",\"health\":\"Healthy\"},{\"ID\":\"nsm-12\",\"health\":\"Healthy\"},{\"ID\":\"nsm-13\",\"health\":\"Healthy\"},{\"ID\":\"nsm-14\",\"health\":\"Healthy\"},{\"ID\":\"nsm-15\",\"health\":\"Healthy\"},{\"ID\":\"nsm-16\",\"health\":\"Healthy\"},{\"ID\":\"nsm-17\",\"health\":\"Healthy\"},{\"ID\":\"nsm-18\",\"health\":\"Healthy\"},{\"ID\":\"nsm-19\",\"health\":\"Healthy\"},{\"ID\":\"nsm-20\",\"health\":\"Healthy\"},{\"ID\":\"nsm-21\",\"health\":\"Healthy\"},{\"ID\":\"nsm-22\",\"health\":\"Healthy\"},{\"ID\":\"nsm-23\",\"health\":\"Healthy\"},{\"ID\":\"nsm-24\",\"health\":\"Healthy\"},{\"ID\":\"nsm-25\",\"health\":\"Healthy\"},{\"ID\":\"nsm-26\",\"health\":\"Healthy\"},{\"ID\":\"nsm-27\",\"health\":\"Healthy\"},{\"ID\":\"nsm-28\",\"health\":\"Healthy\"},{\"ID\":\"nsm-29\",\"health\":\"Healthy\"},{\"ID\":\"nsm-30\",\"health\":\"Healthy\"},{\"ID\":\"nsm-31\",\"health\":\"Healthy\"},{\"ID\":\"nsm-32\",\"health\":\"Healthy\"},{\"ID\":\"nsm-33\",\"health\":\"Healthy\"}]} span=0367361d6409255a:7d1f25ca04244e4a:0367361d6409255a:1"
time="2021-06-11T16:55:21Z" level=info msg="Send device plugins info" operation=sendDeviceUpdate span="0367361d6409255a:7d1f25ca04244e4a:0367361d6409255a:1"
time="2021-06-11T16:55:21Z" level=info msg="Delaying 30s" operation=ListAndWatch-23 span="0367361d6409255a:0367361d6409255a:0000000000000000:1"
2021/06/11 16:55:21 Reporting span 0367361d6409255a:0367361d6409255a:0000000000000000:1
time="2021-06-11T16:55:51Z" level=info msg="==--> ListAndWatch-24() span:6ba407845a7f0bc5:6ba407845a7f0bc5:0000000000000000:1"
time="2021-06-11T16:55:51Z" level=info msg="==----> recieveWorkspaces() span:6ba407845a7f0bc5:3a920c897523d7a6:6ba407845a7f0bc5:1"
time="2021-06-11T16:55:51Z" level=info msg="Request workspaces list" operation=recieveWorkspaces span="6ba407845a7f0bc5:3a920c897523d7a6:6ba407845a7f0bc5:1"
time="2021-06-11T16:55:51Z" level=info msg="==------> enumWorkspaces() span:6ba407845a7f0bc5:3fd6a01aaa6af319:3a920c897523d7a6:1"
time="2021-06-11T16:55:51Z" level=info msg="Connecting to nsmd on socket: /var/lib/networkservicemesh/nsm.io.sock..."
time="2021-06-11T16:55:51Z" level=info msg="Trying to establish connection to target: /var/lib/networkservicemesh/nsm.io.sock"
time="2021-06-11T16:55:51Z" level=info msg="Connecting to the workload api at:unix:///run/spire/sockets/agent.sock"
INFO: 2021/06/11 16:55:51 [core] parsed scheme: "unix"
INFO: 2021/06/11 16:55:51 [core] ccResolverWrapper: sending update to cc: {[{/run/spire/sockets/agent.sock  0xc0000ac780 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:55:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:55:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:55:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:55:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001feeb0, {CONNECTING <nil>}
INFO: 2021/06/11 16:55:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:55:51 [core] Subchannel picks a new address "/run/spire/sockets/agent.sock" to connect
INFO: 2021/06/11 16:55:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:55:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001feeb0, {READY <nil>}
INFO: 2021/06/11 16:55:51 [core] Channel Connectivity change to READY
INFO: 2021/06/11 16:55:51 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:55:51 [core] Subchannel Connectivity change to SHUTDOWN
time="2021-06-11T16:55:51Z" level=info msg="Successfully retrieve bundles:&{{{0 0} 0 0 0 0} map[{test.com}:0xc000397340]}"
time="2021-06-11T16:55:51Z" level=info msg="defaultTrustDomain:test.com"
time="2021-06-11T16:55:51Z" level=info msg="AUTHORIZING ALL CLIENTS"
INFO: 2021/06/11 16:55:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:55:51Z" level=info msg="Fetch tlsConfig for Trust Domain: test.com"
time="2021-06-11T16:55:51Z" level=info msg="Found 1 tlsconfigs."
INFO: 2021/06/11 16:55:51 [core] parsed scheme: ""
INFO: 2021/06/11 16:55:51 [core] scheme "" not registered, fallback to default scheme
INFO: 2021/06/11 16:55:51 [core] ccResolverWrapper: sending update to cc: {[{/var/lib/networkservicemesh/nsm.io.sock  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:55:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:55:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:55:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:55:51 [core] Subchannel picks a new address "/var/lib/networkservicemesh/nsm.io.sock" to connect
INFO: 2021/06/11 16:55:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc00035e7a0, {CONNECTING <nil>}
INFO: 2021/06/11 16:55:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:55:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:55:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc00035e7a0, {READY <nil>}
INFO: 2021/06/11 16:55:51 [core] Channel Connectivity change to READY
time="2021-06-11T16:55:51Z" level=info msg="Found the right tls certificate:&{<nil> <nil> [] map[] <nil> 0x966460 <nil> 0x9664e0 <nil> <nil> []  NoClientCert <nil> true [] false false [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] <nil> 0 0 [] false 0 <nil> {{0 0} 0 0 0 0} [] []}"
INFO: 2021/06/11 16:55:51 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:55:51 [core] Subchannel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:55:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:55:51Z" level=info msg="Trying to establish connection using tlsConfig:&{<nil> <nil> [] map[] <nil> 0x966460 <nil> 0x9664e0 <nil> <nil> []  NoClientCert <nil> true [] false false [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] <nil> 0 0 [] false 0 <nil> {{0 0} 0 0 0 0} [] []}"
INFO: 2021/06/11 16:55:51 [core] parsed scheme: ""
INFO: 2021/06/11 16:55:51 [core] scheme "" not registered, fallback to default scheme
INFO: 2021/06/11 16:55:51 [core] ccResolverWrapper: sending update to cc: {[{/var/lib/networkservicemesh/nsm.io.sock  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:55:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:55:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:55:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:55:51 [core] Subchannel picks a new address "/var/lib/networkservicemesh/nsm.io.sock" to connect
INFO: 2021/06/11 16:55:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001ff580, {CONNECTING <nil>}
INFO: 2021/06/11 16:55:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:55:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:55:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc0001ff580, {READY <nil>}
INFO: 2021/06/11 16:55:51 [core] Channel Connectivity change to READY
time="2021-06-11T16:55:51Z" level=info msg="Requesting nsmd for client connection..."
time="2021-06-11T16:55:51Z" level=info msg=">><<-------- /nsmdapi.NSMD/EnumConnection()=\"\" span=6ba407845a7f0bc5:3fd6a01aaa6af319:3a920c897523d7a6:1"
time="2021-06-11T16:55:51Z" level=info msg=">><<-------- request={} span=6ba407845a7f0bc5:3fd6a01aaa6af319:3a920c897523d7a6:1"
2021/06/11 16:55:51 Reporting span 6ba407845a7f0bc5:3a6315b4e075b630:3fd6a01aaa6af319:1
time="2021-06-11T16:55:51Z" level=info msg=">><<-------- response={\"workspace\":[\"nsm-25\",\"nsm-12\",\"nsm-20\"]} span=6ba407845a7f0bc5:3fd6a01aaa6af319:3a920c897523d7a6:1"
time="2021-06-11T16:55:51Z" level=info msg=">><<------ reply={\"workspace\":[\"nsm-25\",\"nsm-12\",\"nsm-20\"]} span=6ba407845a7f0bc5:3fd6a01aaa6af319:3a920c897523d7a6:1"
INFO: 2021/06/11 16:55:51 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:55:51 [core] Subchannel Connectivity change to SHUTDOWN
2021/06/11 16:55:51 Reporting span 6ba407845a7f0bc5:3fd6a01aaa6af319:3a920c897523d7a6:1
INFO: 2021/06/11 16:55:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:55:51Z" level=info msg=">><<---- reply={\"workspace\":[\"nsm-25\",\"nsm-12\",\"nsm-20\"]} span=6ba407845a7f0bc5:3a920c897523d7a6:6ba407845a7f0bc5:1"
2021/06/11 16:55:51 Reporting span 6ba407845a7f0bc5:3a920c897523d7a6:6ba407845a7f0bc5:1
time="2021-06-11T16:55:51Z" level=info msg="==----> sendDeviceUpdate() span:6ba407845a7f0bc5:0313ed5f5e573d5e:6ba407845a7f0bc5:1"
time="2021-06-11T16:55:51Z" level=info msg=">><<---- info={\"devices\":[{\"ID\":\"nsm-1\",\"health\":\"Healthy\"},{\"ID\":\"nsm-2\",\"health\":\"Healthy\"},{\"ID\":\"nsm-3\",\"health\":\"Healthy\"},{\"ID\":\"nsm-4\",\"health\":\"Healthy\"},{\"ID\":\"nsm-5\",\"health\":\"Healthy\"},{\"ID\":\"nsm-6\",\"health\":\"Healthy\"},{\"ID\":\"nsm-7\",\"health\":\"Healthy\"},{\"ID\":\"nsm-8\",\"health\":\"Healthy\"},{\"ID\":\"nsm-9\",\"health\":\"Healthy\"},{\"ID\":\"nsm-10\",\"health\":\"Healthy\"},{\"ID\":\"nsm-11\",\"health\":\"Healthy\"},{\"ID\":\"nsm-12\",\"health\":\"Healthy\"},{\"ID\":\"nsm-13\",\"health\":\"Healthy\"},{\"ID\":\"nsm-14\",\"health\":\"Healthy\"},{\"ID\":\"nsm-15\",\"health\":\"Healthy\"},{\"ID\":\"nsm-16\",\"health\":\"Healthy\"},{\"ID\":\"nsm-17\",\"health\":\"Healthy\"},{\"ID\":\"nsm-18\",\"health\":\"Healthy\"},{\"ID\":\"nsm-19\",\"health\":\"Healthy\"},{\"ID\":\"nsm-20\",\"health\":\"Healthy\"},{\"ID\":\"nsm-21\",\"health\":\"Healthy\"},{\"ID\":\"nsm-22\",\"health\":\"Healthy\"},{\"ID\":\"nsm-23\",\"health\":\"Healthy\"},{\"ID\":\"nsm-24\",\"health\":\"Healthy\"},{\"ID\":\"nsm-25\",\"health\":\"Healthy\"},{\"ID\":\"nsm-26\",\"health\":\"Healthy\"},{\"ID\":\"nsm-27\",\"health\":\"Healthy\"},{\"ID\":\"nsm-28\",\"health\":\"Healthy\"},{\"ID\":\"nsm-29\",\"health\":\"Healthy\"},{\"ID\":\"nsm-30\",\"health\":\"Healthy\"},{\"ID\":\"nsm-31\",\"health\":\"Healthy\"},{\"ID\":\"nsm-32\",\"health\":\"Healthy\"},{\"ID\":\"nsm-33\",\"health\":\"Healthy\"}]} span=6ba407845a7f0bc5:0313ed5f5e573d5e:6ba407845a7f0bc5:1"
time="2021-06-11T16:55:51Z" level=info msg="Send device plugins info" operation=sendDeviceUpdate span="6ba407845a7f0bc5:0313ed5f5e573d5e:6ba407845a7f0bc5:1"
time="2021-06-11T16:55:51Z" level=info msg="Delaying 30s" operation=ListAndWatch-24 span="6ba407845a7f0bc5:6ba407845a7f0bc5:0000000000000000:1"
2021/06/11 16:55:51 Reporting span 6ba407845a7f0bc5:6ba407845a7f0bc5:0000000000000000:1
time="2021-06-11T16:56:21Z" level=info msg="==--> ListAndWatch-25() span:595135795f1b150c:595135795f1b150c:0000000000000000:1"
time="2021-06-11T16:56:21Z" level=info msg="==----> recieveWorkspaces() span:595135795f1b150c:1d800d98044ff054:595135795f1b150c:1"
time="2021-06-11T16:56:21Z" level=info msg="Request workspaces list" operation=recieveWorkspaces span="595135795f1b150c:1d800d98044ff054:595135795f1b150c:1"
time="2021-06-11T16:56:21Z" level=info msg="==------> enumWorkspaces() span:595135795f1b150c:6371e6cd7fc39391:1d800d98044ff054:1"
time="2021-06-11T16:56:21Z" level=info msg="Connecting to nsmd on socket: /var/lib/networkservicemesh/nsm.io.sock..."
time="2021-06-11T16:56:21Z" level=info msg="Trying to establish connection to target: /var/lib/networkservicemesh/nsm.io.sock"
time="2021-06-11T16:56:21Z" level=info msg="Connecting to the workload api at:unix:///run/spire/sockets/agent.sock"
INFO: 2021/06/11 16:56:21 [core] parsed scheme: "unix"
INFO: 2021/06/11 16:56:21 [core] ccResolverWrapper: sending update to cc: {[{/run/spire/sockets/agent.sock  0xc0000ac110 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:56:21 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:56:21 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:56:21 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:56:21 [core] blockingPicker: the picked transport is not ready, loop back to repick
INFO: 2021/06/11 16:56:21 [core] Subchannel picks a new address "/run/spire/sockets/agent.sock" to connect
INFO: 2021/06/11 16:56:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc00060a910, {CONNECTING <nil>}
INFO: 2021/06/11 16:56:21 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:56:21 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:56:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc00060a910, {READY <nil>}
INFO: 2021/06/11 16:56:21 [core] Channel Connectivity change to READY
INFO: 2021/06/11 16:56:21 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:56:21 [core] Subchannel Connectivity change to SHUTDOWN
time="2021-06-11T16:56:21Z" level=info msg="Successfully retrieve bundles:&{{{0 0} 0 0 0 0} map[{test.com}:0xc000410200]}"
time="2021-06-11T16:56:21Z" level=info msg="defaultTrustDomain:test.com"
time="2021-06-11T16:56:21Z" level=info msg="AUTHORIZING ALL CLIENTS"
time="2021-06-11T16:56:21Z" level=info msg="Fetch tlsConfig for Trust Domain: test.com"
time="2021-06-11T16:56:21Z" level=info msg="Found 1 tlsconfigs."
INFO: 2021/06/11 16:56:21 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:56:21 [core] parsed scheme: ""
INFO: 2021/06/11 16:56:21 [core] scheme "" not registered, fallback to default scheme
INFO: 2021/06/11 16:56:21 [core] ccResolverWrapper: sending update to cc: {[{/var/lib/networkservicemesh/nsm.io.sock  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:56:21 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:56:21 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:56:21 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:56:21 [core] Subchannel picks a new address "/var/lib/networkservicemesh/nsm.io.sock" to connect
INFO: 2021/06/11 16:56:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc000538a90, {CONNECTING <nil>}
INFO: 2021/06/11 16:56:21 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:56:21 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:56:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc000538a90, {READY <nil>}
INFO: 2021/06/11 16:56:21 [core] Channel Connectivity change to READY
time="2021-06-11T16:56:21Z" level=info msg="Found the right tls certificate:&{<nil> <nil> [] map[] <nil> 0x966460 <nil> 0x9664e0 <nil> <nil> []  NoClientCert <nil> true [] false false [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] <nil> 0 0 [] false 0 <nil> {{0 0} 0 0 0 0} [] []}"
INFO: 2021/06/11 16:56:21 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:56:21 [core] Subchannel Connectivity change to SHUTDOWN
time="2021-06-11T16:56:21Z" level=info msg="Trying to establish connection using tlsConfig:&{<nil> <nil> [] map[] <nil> 0x966460 <nil> 0x9664e0 <nil> <nil> []  NoClientCert <nil> true [] false false [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] <nil> 0 0 [] false 0 <nil> {{0 0} 0 0 0 0} [] []}"
INFO: 2021/06/11 16:56:21 [core] parsed scheme: ""
INFO: 2021/06/11 16:56:21 [core] scheme "" not registered, fallback to default scheme
INFO: 2021/06/11 16:56:21 [core] ccResolverWrapper: sending update to cc: {[{/var/lib/networkservicemesh/nsm.io.sock  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:56:21 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:56:21 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:56:21 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:56:21 [core] Subchannel picks a new address "/var/lib/networkservicemesh/nsm.io.sock" to connect
INFO: 2021/06/11 16:56:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc00060af30, {CONNECTING <nil>}
INFO: 2021/06/11 16:56:21 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:56:21 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:56:21 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:56:21 [core] pickfirstBalancer: UpdateSubConnState: 0xc00060af30, {READY <nil>}
INFO: 2021/06/11 16:56:21 [core] Channel Connectivity change to READY
time="2021-06-11T16:56:21Z" level=info msg="Requesting nsmd for client connection..."
time="2021-06-11T16:56:21Z" level=info msg=">><<-------- /nsmdapi.NSMD/EnumConnection()=\"\" span=595135795f1b150c:6371e6cd7fc39391:1d800d98044ff054:1"
time="2021-06-11T16:56:21Z" level=info msg=">><<-------- request={} span=595135795f1b150c:6371e6cd7fc39391:1d800d98044ff054:1"
2021/06/11 16:56:21 Reporting span 595135795f1b150c:369ca9c168164a3a:6371e6cd7fc39391:1
time="2021-06-11T16:56:21Z" level=info msg=">><<-------- response={\"workspace\":[\"nsm-12\",\"nsm-20\",\"nsm-25\"]} span=595135795f1b150c:6371e6cd7fc39391:1d800d98044ff054:1"
time="2021-06-11T16:56:21Z" level=info msg=">><<------ reply={\"workspace\":[\"nsm-12\",\"nsm-20\",\"nsm-25\"]} span=595135795f1b150c:6371e6cd7fc39391:1d800d98044ff054:1"
INFO: 2021/06/11 16:56:21 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:56:21 [core] Subchannel Connectivity change to SHUTDOWN
2021/06/11 16:56:21 Reporting span 595135795f1b150c:6371e6cd7fc39391:1d800d98044ff054:1
time="2021-06-11T16:56:21Z" level=info msg=">><<---- reply={\"workspace\":[\"nsm-12\",\"nsm-20\",\"nsm-25\"]} span=595135795f1b150c:1d800d98044ff054:595135795f1b150c:1"
2021/06/11 16:56:21 Reporting span 595135795f1b150c:1d800d98044ff054:595135795f1b150c:1
time="2021-06-11T16:56:21Z" level=info msg="==----> sendDeviceUpdate() span:595135795f1b150c:68aa757887feba31:595135795f1b150c:1"
time="2021-06-11T16:56:21Z" level=info msg=">><<---- info={\"devices\":[{\"ID\":\"nsm-1\",\"health\":\"Healthy\"},{\"ID\":\"nsm-2\",\"health\":\"Healthy\"},{\"ID\":\"nsm-3\",\"health\":\"Healthy\"},{\"ID\":\"nsm-4\",\"health\":\"Healthy\"},{\"ID\":\"nsm-5\",\"health\":\"Healthy\"},{\"ID\":\"nsm-6\",\"health\":\"Healthy\"},{\"ID\":\"nsm-7\",\"health\":\"Healthy\"},{\"ID\":\"nsm-8\",\"health\":\"Healthy\"},{\"ID\":\"nsm-9\",\"health\":\"Healthy\"},{\"ID\":\"nsm-10\",\"health\":\"Healthy\"},{\"ID\":\"nsm-11\",\"health\":\"Healthy\"},{\"ID\":\"nsm-12\",\"health\":\"Healthy\"},{\"ID\":\"nsm-13\",\"health\":\"Healthy\"},{\"ID\":\"nsm-14\",\"health\":\"Healthy\"},{\"ID\":\"nsm-15\",\"health\":\"Healthy\"},{\"ID\":\"nsm-16\",\"health\":\"Healthy\"},{\"ID\":\"nsm-17\",\"health\":\"Healthy\"},{\"ID\":\"nsm-18\",\"health\":\"Healthy\"},{\"ID\":\"nsm-19\",\"health\":\"Healthy\"},{\"ID\":\"nsm-20\",\"health\":\"Healthy\"},{\"ID\":\"nsm-21\",\"health\":\"Healthy\"},{\"ID\":\"nsm-22\",\"health\":\"Healthy\"},{\"ID\":\"nsm-23\",\"health\":\"Healthy\"},{\"ID\":\"nsm-24\",\"health\":\"Healthy\"},{\"ID\":\"nsm-25\",\"health\":\"Healthy\"},{\"ID\":\"nsm-26\",\"health\":\"Healthy\"},{\"ID\":\"nsm-27\",\"health\":\"Healthy\"},{\"ID\":\"nsm-28\",\"health\":\"Healthy\"},{\"ID\":\"nsm-29\",\"health\":\"Healthy\"},{\"ID\":\"nsm-30\",\"health\":\"Healthy\"},{\"ID\":\"nsm-31\",\"health\":\"Healthy\"},{\"ID\":\"nsm-32\",\"health\":\"Healthy\"},{\"ID\":\"nsm-33\",\"health\":\"Healthy\"}]} span=595135795f1b150c:68aa757887feba31:595135795f1b150c:1"
time="2021-06-11T16:56:21Z" level=info msg="Send device plugins info" operation=sendDeviceUpdate span="595135795f1b150c:68aa757887feba31:595135795f1b150c:1"
time="2021-06-11T16:56:21Z" level=info msg="Delaying 30s" operation=ListAndWatch-25 span="595135795f1b150c:595135795f1b150c:0000000000000000:1"
2021/06/11 16:56:21 Reporting span 595135795f1b150c:595135795f1b150c:0000000000000000:1
INFO: 2021/06/11 16:56:21 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:56:51Z" level=info msg="==--> ListAndWatch-26() span:223999ce214d481a:223999ce214d481a:0000000000000000:1"
time="2021-06-11T16:56:51Z" level=info msg="==----> recieveWorkspaces() span:223999ce214d481a:7b96323b99a96447:223999ce214d481a:1"
time="2021-06-11T16:56:51Z" level=info msg="Request workspaces list" operation=recieveWorkspaces span="223999ce214d481a:7b96323b99a96447:223999ce214d481a:1"
time="2021-06-11T16:56:51Z" level=info msg="==------> enumWorkspaces() span:223999ce214d481a:2f4428fefdc42bde:7b96323b99a96447:1"
time="2021-06-11T16:56:51Z" level=info msg="Connecting to nsmd on socket: /var/lib/networkservicemesh/nsm.io.sock..."
time="2021-06-11T16:56:51Z" level=info msg="Trying to establish connection to target: /var/lib/networkservicemesh/nsm.io.sock"
time="2021-06-11T16:56:51Z" level=info msg="Connecting to the workload api at:unix:///run/spire/sockets/agent.sock"
INFO: 2021/06/11 16:56:51 [core] parsed scheme: "unix"
INFO: 2021/06/11 16:56:51 [core] ccResolverWrapper: sending update to cc: {[{/run/spire/sockets/agent.sock  0xc00000e1d0 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:56:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:56:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:56:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:56:51 [core] blockingPicker: the picked transport is not ready, loop back to repick
INFO: 2021/06/11 16:56:51 [core] Subchannel picks a new address "/run/spire/sockets/agent.sock" to connect
INFO: 2021/06/11 16:56:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc00035ea10, {CONNECTING <nil>}
INFO: 2021/06/11 16:56:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:56:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:56:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc00035ea10, {READY <nil>}
INFO: 2021/06/11 16:56:51 [core] Channel Connectivity change to READY
INFO: 2021/06/11 16:56:51 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:56:51 [core] Subchannel Connectivity change to SHUTDOWN
time="2021-06-11T16:56:51Z" level=info msg="Successfully retrieve bundles:&{{{0 0} 0 0 0 0} map[{test.com}:0xc00037a0c0]}"
time="2021-06-11T16:56:51Z" level=info msg="defaultTrustDomain:test.com"
time="2021-06-11T16:56:51Z" level=info msg="AUTHORIZING ALL CLIENTS"
time="2021-06-11T16:56:51Z" level=info msg="Fetch tlsConfig for Trust Domain: test.com"
time="2021-06-11T16:56:51Z" level=info msg="Found 1 tlsconfigs."
INFO: 2021/06/11 16:56:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:56:51 [core] parsed scheme: ""
INFO: 2021/06/11 16:56:51 [core] scheme "" not registered, fallback to default scheme
INFO: 2021/06/11 16:56:51 [core] ccResolverWrapper: sending update to cc: {[{/var/lib/networkservicemesh/nsm.io.sock  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:56:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:56:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:56:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:56:51 [core] Subchannel picks a new address "/var/lib/networkservicemesh/nsm.io.sock" to connect
INFO: 2021/06/11 16:56:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc000030d40, {CONNECTING <nil>}
INFO: 2021/06/11 16:56:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:56:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:56:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc000030d40, {READY <nil>}
INFO: 2021/06/11 16:56:51 [core] Channel Connectivity change to READY
time="2021-06-11T16:56:51Z" level=info msg="Found the right tls certificate:&{<nil> <nil> [] map[] <nil> 0x966460 <nil> 0x9664e0 <nil> <nil> []  NoClientCert <nil> true [] false false [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] <nil> 0 0 [] false 0 <nil> {{0 0} 0 0 0 0} [] []}"
INFO: 2021/06/11 16:56:51 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:56:51 [core] Subchannel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:56:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:56:51Z" level=info msg="Trying to establish connection using tlsConfig:&{<nil> <nil> [] map[] <nil> 0x966460 <nil> 0x9664e0 <nil> <nil> []  NoClientCert <nil> true [] false false [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] <nil> 0 0 [] false 0 <nil> {{0 0} 0 0 0 0} [] []}"
INFO: 2021/06/11 16:56:51 [core] parsed scheme: ""
INFO: 2021/06/11 16:56:51 [core] scheme "" not registered, fallback to default scheme
INFO: 2021/06/11 16:56:51 [core] ccResolverWrapper: sending update to cc: {[{/var/lib/networkservicemesh/nsm.io.sock  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:56:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:56:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:56:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:56:51 [core] Subchannel picks a new address "/var/lib/networkservicemesh/nsm.io.sock" to connect
INFO: 2021/06/11 16:56:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc000384190, {CONNECTING <nil>}
INFO: 2021/06/11 16:56:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:56:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:56:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc000384190, {READY <nil>}
INFO: 2021/06/11 16:56:51 [core] Channel Connectivity change to READY
time="2021-06-11T16:56:51Z" level=info msg="Requesting nsmd for client connection..."
time="2021-06-11T16:56:51Z" level=info msg=">><<-------- /nsmdapi.NSMD/EnumConnection()=\"\" span=223999ce214d481a:2f4428fefdc42bde:7b96323b99a96447:1"
time="2021-06-11T16:56:51Z" level=info msg=">><<-------- request={} span=223999ce214d481a:2f4428fefdc42bde:7b96323b99a96447:1"
2021/06/11 16:56:51 Reporting span 223999ce214d481a:7e2ee9ff8f8658be:2f4428fefdc42bde:1
time="2021-06-11T16:56:51Z" level=info msg=">><<-------- response={\"workspace\":[\"nsm-20\",\"nsm-25\",\"nsm-12\"]} span=223999ce214d481a:2f4428fefdc42bde:7b96323b99a96447:1"
time="2021-06-11T16:56:51Z" level=info msg=">><<------ reply={\"workspace\":[\"nsm-20\",\"nsm-25\",\"nsm-12\"]} span=223999ce214d481a:2f4428fefdc42bde:7b96323b99a96447:1"
INFO: 2021/06/11 16:56:51 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:56:51 [core] Subchannel Connectivity change to SHUTDOWN
2021/06/11 16:56:51 Reporting span 223999ce214d481a:2f4428fefdc42bde:7b96323b99a96447:1
time="2021-06-11T16:56:51Z" level=info msg=">><<---- reply={\"workspace\":[\"nsm-20\",\"nsm-25\",\"nsm-12\"]} span=223999ce214d481a:7b96323b99a96447:223999ce214d481a:1"
2021/06/11 16:56:51 Reporting span 223999ce214d481a:7b96323b99a96447:223999ce214d481a:1
time="2021-06-11T16:56:51Z" level=info msg="==----> sendDeviceUpdate() span:223999ce214d481a:4fa224dbbb4deb8c:223999ce214d481a:1"
INFO: 2021/06/11 16:56:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:56:51Z" level=info msg=">><<---- info={\"devices\":[{\"ID\":\"nsm-1\",\"health\":\"Healthy\"},{\"ID\":\"nsm-2\",\"health\":\"Healthy\"},{\"ID\":\"nsm-3\",\"health\":\"Healthy\"},{\"ID\":\"nsm-4\",\"health\":\"Healthy\"},{\"ID\":\"nsm-5\",\"health\":\"Healthy\"},{\"ID\":\"nsm-6\",\"health\":\"Healthy\"},{\"ID\":\"nsm-7\",\"health\":\"Healthy\"},{\"ID\":\"nsm-8\",\"health\":\"Healthy\"},{\"ID\":\"nsm-9\",\"health\":\"Healthy\"},{\"ID\":\"nsm-10\",\"health\":\"Healthy\"},{\"ID\":\"nsm-11\",\"health\":\"Healthy\"},{\"ID\":\"nsm-12\",\"health\":\"Healthy\"},{\"ID\":\"nsm-13\",\"health\":\"Healthy\"},{\"ID\":\"nsm-14\",\"health\":\"Healthy\"},{\"ID\":\"nsm-15\",\"health\":\"Healthy\"},{\"ID\":\"nsm-16\",\"health\":\"Healthy\"},{\"ID\":\"nsm-17\",\"health\":\"Healthy\"},{\"ID\":\"nsm-18\",\"health\":\"Healthy\"},{\"ID\":\"nsm-19\",\"health\":\"Healthy\"},{\"ID\":\"nsm-20\",\"health\":\"Healthy\"},{\"ID\":\"nsm-21\",\"health\":\"Healthy\"},{\"ID\":\"nsm-22\",\"health\":\"Healthy\"},{\"ID\":\"nsm-23\",\"health\":\"Healthy\"},{\"ID\":\"nsm-24\",\"health\":\"Healthy\"},{\"ID\":\"nsm-25\",\"health\":\"Healthy\"},{\"ID\":\"nsm-26\",\"health\":\"Healthy\"},{\"ID\":\"nsm-27\",\"health\":\"Healthy\"},{\"ID\":\"nsm-28\",\"health\":\"Healthy\"},{\"ID\":\"nsm-29\",\"health\":\"Healthy\"},{\"ID\":\"nsm-30\",\"health\":\"Healthy\"},{\"ID\":\"nsm-31\",\"health\":\"Healthy\"},{\"ID\":\"nsm-32\",\"health\":\"Healthy\"},{\"ID\":\"nsm-33\",\"health\":\"Healthy\"}]} span=223999ce214d481a:4fa224dbbb4deb8c:223999ce214d481a:1"
time="2021-06-11T16:56:51Z" level=info msg="Send device plugins info" operation=sendDeviceUpdate span="223999ce214d481a:4fa224dbbb4deb8c:223999ce214d481a:1"
time="2021-06-11T16:56:51Z" level=info msg="Delaying 30s" operation=ListAndWatch-26 span="223999ce214d481a:223999ce214d481a:0000000000000000:1"
2021/06/11 16:56:51 Reporting span 223999ce214d481a:223999ce214d481a:0000000000000000:1
==== END logs for container nsmdp of pod nsm-system/nsmgr-cloudtest-kind-8a1853245b-worker ====
==== START logs for container nsmd of pod nsm-system/nsmgr-cloudtest-kind-8a1853245b-worker ====
time="2021-06-11T16:43:50Z" level=info msg="Starting nsmd..."
time="2021-06-11T16:43:50Z" level=info msg="Version: v1.0.1-rc.2-6-g1beae399"
time="2021-06-11T16:43:50Z" level=info msg="All env variables:"
time="2021-06-11T16:43:50Z" level=info msg="KUBERNETES_SERVICE_PORT=443"
time="2021-06-11T16:43:50Z" level=info msg="KUBERNETES_PORT=tcp://10.96.0.1:443"
time="2021-06-11T16:43:50Z" level=info msg="GRPC_GO_LOG_VERBOSITY_LEVEL=99"
time="2021-06-11T16:43:50Z" level=info msg="HOSTNAME=nsmgr-cloudtest-kind-8a1853245b-worker"
time="2021-06-11T16:43:50Z" level=info msg="GRPC_GO_LOG_SEVERITY_LEVEL=info"
time="2021-06-11T16:43:50Z" level=info msg="SHLVL=1"
time="2021-06-11T16:43:50Z" level=info msg="HOME=/root"
time="2021-06-11T16:43:50Z" level=info msg="KUBERNETES_PORT_443_TCP_ADDR=10.96.0.1"
time="2021-06-11T16:43:50Z" level=info msg="PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"
time="2021-06-11T16:43:50Z" level=info msg="KUBERNETES_PORT_443_TCP_PORT=443"
time="2021-06-11T16:43:50Z" level=info msg="KUBERNETES_PORT_443_TCP_PROTO=tcp"
time="2021-06-11T16:43:50Z" level=info msg="ENTRY=nsmd"
time="2021-06-11T16:43:50Z" level=info msg="KUBERNETES_SERVICE_PORT_HTTPS=443"
time="2021-06-11T16:43:50Z" level=info msg="KUBERNETES_PORT_443_TCP=tcp://10.96.0.1:443"
time="2021-06-11T16:43:50Z" level=info msg="NSMD_LOCAL_REGISTRY_DELETE=false"
time="2021-06-11T16:43:50Z" level=info msg="KUBERNETES_SERVICE_HOST=10.96.0.1"
time="2021-06-11T16:43:50Z" level=info msg="PWD=/"
time="2021-06-11T16:43:50Z" level=info msg="Creating logger from config: &{nsmd@nsmgr-cloudtest-kind-8a1853245b-worker false false [] 0xc000184de0 0xc000339260 <nil> <nil> <nil>}"
2021/06/11 16:43:50 debug logging disabled
2021/06/11 16:43:50 Initializing logging reporter
2021/06/11 16:43:50 debug logging disabled
time="2021-06-11T16:43:50Z" level=info msg="==--> nsmd.server() span:7d8a699e87e9f7a2:7d8a699e87e9f7a2:0000000000000000:1"
time="2021-06-11T16:43:50Z" level=info msg=">><<-- tracing.init-complete=12.3046ms span=7d8a699e87e9f7a2:7d8a699e87e9f7a2:0000000000000000:1"
time="2021-06-11T16:43:50Z" level=info msg="==----> nsm-server-start() span:7d8a699e87e9f7a2:74febb20c4d2deb8:7d8a699e87e9f7a2:1"
time="2021-06-11T16:43:50Z" level=info msg="Starting NSM server" operation=nsm-server-start span="7d8a699e87e9f7a2:74febb20c4d2deb8:7d8a699e87e9f7a2:1"
time="2021-06-11T16:43:50Z" level=info msg="==------> NewServer() span:7d8a699e87e9f7a2:0928920681b9c9fd:74febb20c4d2deb8:1"
time="2021-06-11T16:43:50Z" level=info msg="Establish connection with the spire provider at address:unix:///run/spire/sockets/agent.sock"
INFO: 2021/06/11 16:43:50 [core] parsed scheme: "unix"
INFO: 2021/06/11 16:43:50 [core] ccResolverWrapper: sending update to cc: {[{/run/spire/sockets/agent.sock  0xc00000e050 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:43:50 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:43:50 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:43:50 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:50 [core] blockingPicker: the picked transport is not ready, loop back to repick
INFO: 2021/06/11 16:43:50 [core] pickfirstBalancer: UpdateSubConnState: 0xc000030800, {CONNECTING <nil>}
INFO: 2021/06/11 16:43:50 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:50 [core] Subchannel picks a new address "/run/spire/sockets/agent.sock" to connect
INFO: 2021/06/11 16:43:50 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:43:50 [core] pickfirstBalancer: UpdateSubConnState: 0xc000030800, {READY <nil>}
INFO: 2021/06/11 16:43:50 [core] Channel Connectivity change to READY
time="2021-06-11T16:43:51Z" level=info msg="Got x509:&{0xc000112120 <nil> {{0 0} 0 0 0 0} 0xc0001014a0 0xc00049ad20 {{0 0} 0 0 0 0} false} <nil>"
time="2021-06-11T16:43:51Z" level=info msg="GRPC.NewServer with open tracing enabled" operation=NewServer span="7d8a699e87e9f7a2:0928920681b9c9fd:74febb20c4d2deb8:1"
time="2021-06-11T16:43:51Z" level=info msg="==--------> GetCertificate() span:7d8a699e87e9f7a2:4bf65ea5052224fa:0928920681b9c9fd:1"
INFO: 2021/06/11 16:43:51 [core] parsed scheme: "unix"
INFO: 2021/06/11 16:43:51 [core] ccResolverWrapper: sending update to cc: {[{/run/spire/sockets/agent.sock  0xc00000e140 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:43:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:43:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:51 [core] blockingPicker: the picked transport is not ready, loop back to repick
time="2021-06-11T16:43:51Z" level=info msg="Issued identity:spiffe://test.com/nsmgr"
INFO: 2021/06/11 16:43:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc000031ce0, {CONNECTING <nil>}
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:51 [core] Subchannel picks a new address "/run/spire/sockets/agent.sock" to connect
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:43:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc000031ce0, {READY <nil>}
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to READY
INFO: 2021/06/11 16:43:51 [core] parsed scheme: "unix"
INFO: 2021/06/11 16:43:51 [core] ccResolverWrapper: sending update to cc: {[{/run/spire/sockets/agent.sock  0xc0004140a0 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:43:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:43:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:51 [core] blockingPicker: the picked transport is not ready, loop back to repick
INFO: 2021/06/11 16:43:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc00044dc50, {CONNECTING <nil>}
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:51 [core] Subchannel picks a new address "/run/spire/sockets/agent.sock" to connect
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:43:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc00044dc50, {READY <nil>}
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to READY
time="2021-06-11T16:43:51Z" level=info msg="SPIRE -- GetX509SVID:&{spiffe://test.com/nsmgr [0xc00046e000] 0xc000404a50}"
time="2021-06-11T16:43:51Z" level=info msg="Default trust domain:test.com"
time="2021-06-11T16:43:51Z" level=info msg="defaultTrustDomain:test.com"
time="2021-06-11T16:43:51Z" level=info msg="AUTHORIZING ALL CLIENTS"
time="2021-06-11T16:43:51Z" level=info msg="Server will be started in secure mode using tlsConfig:&{<nil> <nil> [] map[] 0x97a4c0 <nil> <nil> 0x97a5c0 <nil> <nil> []  RequireAnyClientCert <nil> false [] false false [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] <nil> 0 0 [] false 0 <nil> {{0 0} 0 0 0 0} [] []}"
2021/06/11 16:43:51 Reporting span 7d8a699e87e9f7a2:4bf65ea5052224fa:0928920681b9c9fd:1
2021/06/11 16:43:51 Reporting span 7d8a699e87e9f7a2:0928920681b9c9fd:74febb20c4d2deb8:1
time="2021-06-11T16:43:51Z" level=info msg="Starting NSM gRPC server listening on socket: /var/lib/networkservicemesh/nsm.io.sock"
time="2021-06-11T16:43:51Z" level=info msg="==------> set-local-nsm() span:7d8a699e87e9f7a2:79315ea5f6ac6623:74febb20c4d2deb8:1"
time="2021-06-11T16:43:51Z" level=info msg="Requesting NsmRegistryClient..." span="7d8a699e87e9f7a2:79315ea5f6ac6623:74febb20c4d2deb8:1"
time="2021-06-11T16:43:51Z" level=info msg="==----------> initRegistryClient() span:7d8a699e87e9f7a2:18c99d6a421c4bcc:79315ea5f6ac6623:1"
time="2021-06-11T16:43:51Z" level=info msg="Waiting for liveness probe: tcp:127.0.0.1:5000"
time="2021-06-11T16:43:51Z" level=info msg="Liveness probe was successful: tcp:127.0.0.1:5000"
time="2021-06-11T16:43:51Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="7d8a699e87e9f7a2:18c99d6a421c4bcc:79315ea5f6ac6623:1"
time="2021-06-11T16:43:51Z" level=info msg="Trying to establish connection to target: 127.0.0.1:5000"
time="2021-06-11T16:43:51Z" level=info msg="Connecting to the workload api at:unix:///run/spire/sockets/agent.sock"
INFO: 2021/06/11 16:43:51 [core] parsed scheme: "unix"
INFO: 2021/06/11 16:43:51 [core] ccResolverWrapper: sending update to cc: {[{/run/spire/sockets/agent.sock  0xc000414178 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:43:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:43:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:51 [core] blockingPicker: the picked transport is not ready, loop back to repick
INFO: 2021/06/11 16:43:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc000520cf0, {CONNECTING <nil>}
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:51 [core] Subchannel picks a new address "/run/spire/sockets/agent.sock" to connect
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:43:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc000520cf0, {READY <nil>}
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to READY
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to SHUTDOWN
time="2021-06-11T16:43:51Z" level=info msg="Successfully retrieve bundles:&{{{0 0} 0 0 0 0} map[{test.com}:0xc00010b780]}"
INFO: 2021/06/11 16:43:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:43:51Z" level=info msg="defaultTrustDomain:test.com"
time="2021-06-11T16:43:51Z" level=info msg="AUTHORIZING ALL CLIENTS"
time="2021-06-11T16:43:51Z" level=info msg="Fetch tlsConfig for Trust Domain: test.com"
time="2021-06-11T16:43:51Z" level=info msg="Found 1 tlsconfigs."
INFO: 2021/06/11 16:43:51 [core] parsed scheme: ""
INFO: 2021/06/11 16:43:51 [core] scheme "" not registered, fallback to default scheme
INFO: 2021/06/11 16:43:51 [core] ccResolverWrapper: sending update to cc: {[{127.0.0.1:5000  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:43:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:43:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:51 [core] Subchannel picks a new address "127.0.0.1:5000" to connect
INFO: 2021/06/11 16:43:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc0004d4950, {CONNECTING <nil>}
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:43:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc0004d4950, {READY <nil>}
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to READY
time="2021-06-11T16:43:51Z" level=info msg="Found the right tls certificate:&{<nil> <nil> [] map[] <nil> 0x97a540 <nil> 0x97a5c0 <nil> <nil> []  NoClientCert <nil> true [] false false [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] <nil> 0 0 [] false 0 <nil> {{0 0} 0 0 0 0} [] []}"
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to SHUTDOWN
time="2021-06-11T16:43:51Z" level=info msg="Trying to establish connection using tlsConfig:&{<nil> <nil> [] map[] <nil> 0x97a540 <nil> 0x97a5c0 <nil> <nil> []  NoClientCert <nil> true [] false false [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] <nil> 0 0 [] false 0 <nil> {{0 0} 0 0 0 0} [] []}"
INFO: 2021/06/11 16:43:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:43:51 [core] parsed scheme: ""
INFO: 2021/06/11 16:43:51 [core] scheme "" not registered, fallback to default scheme
INFO: 2021/06/11 16:43:51 [core] ccResolverWrapper: sending update to cc: {[{127.0.0.1:5000  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:43:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:43:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:51 [core] Subchannel picks a new address "127.0.0.1:5000" to connect
INFO: 2021/06/11 16:43:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc000374340, {CONNECTING <nil>}
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:43:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc000374340, {READY <nil>}
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to READY
time="2021-06-11T16:43:51Z" level=info msg="Successfully connected to 127.0.0.1:5000" operation=initRegistryClient span="7d8a699e87e9f7a2:18c99d6a421c4bcc:79315ea5f6ac6623:1"
2021/06/11 16:43:51 Reporting span 7d8a699e87e9f7a2:18c99d6a421c4bcc:79315ea5f6ac6623:1
time="2021-06-11T16:43:51Z" level=info msg=">><<------ url=10.244.2.21:5001 span=7d8a699e87e9f7a2:79315ea5f6ac6623:74febb20c4d2deb8:1"
time="2021-06-11T16:43:51Z" level=info msg=">><<-------- /registry.NsmRegistry/RegisterNSM()=\"\" span=7d8a699e87e9f7a2:79315ea5f6ac6623:74febb20c4d2deb8:1"
time="2021-06-11T16:43:51Z" level=info msg=">><<-------- request={\"url\":\"10.244.2.21:5001\"} span=7d8a699e87e9f7a2:79315ea5f6ac6623:74febb20c4d2deb8:1"
2021/06/11 16:43:51 Reporting span 7d8a699e87e9f7a2:637c1f767c2dcfa7:79315ea5f6ac6623:1
time="2021-06-11T16:43:51Z" level=info msg=">><<-------- response={\"name\":\"cloudtest-kind-8a1853245b-worker\",\"url\":\"10.244.2.21:5001\",\"state\":\"RUNNING\"} span=7d8a699e87e9f7a2:79315ea5f6ac6623:74febb20c4d2deb8:1"
time="2021-06-11T16:43:51Z" level=info msg=">><<-------- /registry.NsmRegistry/GetEndpoints()=\"\" span=7d8a699e87e9f7a2:79315ea5f6ac6623:74febb20c4d2deb8:1"
time="2021-06-11T16:43:51Z" level=info msg=">><<-------- request={} span=7d8a699e87e9f7a2:79315ea5f6ac6623:74febb20c4d2deb8:1"
2021/06/11 16:43:51 Reporting span 7d8a699e87e9f7a2:53fbc35e74f41032:79315ea5f6ac6623:1
time="2021-06-11T16:43:51Z" level=info msg=">><<-------- response={\"network_service_endpoints\":[{\"name\":\"icmp-responderm4v59\",\"payload\":\"IP\",\"network_service_name\":\"icmp-responder\",\"network_service_manager_name\":\"cloudtest-kind-8a1853245b-worker\",\"labels\":{\"app\":\"icmp\",\"networkservicename\":\"icmp-responder\"},\"state\":\"RUNNING\"}]} span=7d8a699e87e9f7a2:79315ea5f6ac6623:74febb20c4d2deb8:1"
time="2021-06-11T16:43:51Z" level=info msg="Setting local NSM name:\"cloudtest-kind-8a1853245b-worker\" url:\"10.244.2.21:5001\" state:\"RUNNING\" "
2021/06/11 16:43:51 Reporting span 7d8a699e87e9f7a2:79315ea5f6ac6623:74febb20c4d2deb8:1
time="2021-06-11T16:43:51Z" level=info msg=">><<---- registered-endpoints={\"network_service_endpoints\":[{\"name\":\"icmp-responderm4v59\",\"payload\":\"IP\",\"network_service_name\":\"icmp-responder\",\"network_service_manager_name\":\"cloudtest-kind-8a1853245b-worker\",\"labels\":{\"app\":\"icmp\",\"networkservicename\":\"icmp-responder\"},\"state\":\"RUNNING\"}]} span=7d8a699e87e9f7a2:74febb20c4d2deb8:7d8a699e87e9f7a2:1"
time="2021-06-11T16:43:51Z" level=info msg="Connecting to nsmd on socket: /var/lib/networkservicemesh/nsm.io.sock..."
time="2021-06-11T16:43:51Z" level=info msg="Trying to establish connection to target: /var/lib/networkservicemesh/nsm.io.sock"
time="2021-06-11T16:43:51Z" level=info msg="Connecting to the workload api at:unix:///run/spire/sockets/agent.sock"
INFO: 2021/06/11 16:43:51 [core] parsed scheme: "unix"
INFO: 2021/06/11 16:43:51 [core] ccResolverWrapper: sending update to cc: {[{/run/spire/sockets/agent.sock  0xc0004141b8 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:43:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:43:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:51 [core] blockingPicker: the picked transport is not ready, loop back to repick
INFO: 2021/06/11 16:43:51 [core] Subchannel picks a new address "/run/spire/sockets/agent.sock" to connect
INFO: 2021/06/11 16:43:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc000097560, {CONNECTING <nil>}
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:43:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc000097560, {READY <nil>}
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to READY
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to SHUTDOWN
time="2021-06-11T16:43:51Z" level=info msg="Successfully retrieve bundles:&{{{0 0} 0 0 0 0} map[{test.com}:0xc0001893c0]}"
time="2021-06-11T16:43:51Z" level=info msg="defaultTrustDomain:test.com"
INFO: 2021/06/11 16:43:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:43:51Z" level=info msg="AUTHORIZING ALL CLIENTS"
time="2021-06-11T16:43:51Z" level=info msg="Fetch tlsConfig for Trust Domain: test.com"
time="2021-06-11T16:43:51Z" level=info msg="Found 1 tlsconfigs."
INFO: 2021/06/11 16:43:51 [core] parsed scheme: ""
INFO: 2021/06/11 16:43:51 [core] scheme "" not registered, fallback to default scheme
INFO: 2021/06/11 16:43:51 [core] ccResolverWrapper: sending update to cc: {[{/var/lib/networkservicemesh/nsm.io.sock  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:43:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:43:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:51 [core] Subchannel picks a new address "/var/lib/networkservicemesh/nsm.io.sock" to connect
INFO: 2021/06/11 16:43:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc0004d5a50, {CONNECTING <nil>}
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:43:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc0004d5a50, {READY <nil>}
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to READY
time="2021-06-11T16:43:51Z" level=info msg="Found the right tls certificate:&{<nil> <nil> [] map[] <nil> 0x97a540 <nil> 0x97a5c0 <nil> <nil> []  NoClientCert <nil> true [] false false [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] <nil> 0 0 [] false 0 <nil> {{0 0} 0 0 0 0} [] []}"
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:43:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:43:51Z" level=info msg="Trying to establish connection using tlsConfig:&{<nil> <nil> [] map[] <nil> 0x97a540 <nil> 0x97a5c0 <nil> <nil> []  NoClientCert <nil> true [] false false [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] <nil> 0 0 [] false 0 <nil> {{0 0} 0 0 0 0} [] []}"
INFO: 2021/06/11 16:43:51 [core] parsed scheme: ""
INFO: 2021/06/11 16:43:51 [core] scheme "" not registered, fallback to default scheme
INFO: 2021/06/11 16:43:51 [core] ccResolverWrapper: sending update to cc: {[{/var/lib/networkservicemesh/nsm.io.sock  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:43:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:43:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc00018b350, {CONNECTING <nil>}
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:51 [core] Subchannel picks a new address "/var/lib/networkservicemesh/nsm.io.sock" to connect
INFO: 2021/06/11 16:43:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:43:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc00018b350, {READY <nil>}
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to READY
time="2021-06-11T16:43:51Z" level=info msg="Requesting nsmd for client connection..."
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to SHUTDOWN
time="2021-06-11T16:43:51Z" level=info msg="NSM gRPC socket: /var/lib/networkservicemesh/nsm.io.sock is operational" operation=nsm-server-start span="7d8a699e87e9f7a2:74febb20c4d2deb8:7d8a699e87e9f7a2:1"
time="2021-06-11T16:43:51Z" level=info msg="create monitor servers" operation=nsm-server-start span="7d8a699e87e9f7a2:74febb20c4d2deb8:7d8a699e87e9f7a2:1"
INFO: 2021/06/11 16:43:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:43:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:43:51Z" level=info msg="CrossConnect - Serve starting..."
time="2021-06-11T16:43:51Z" level=info msg="RemoteConnection - Serve starting..."
time="2021-06-11T16:43:51Z" level=info msg="Reading excluded prefixes config file: /var/lib/networkservicemesh/config/excluded_prefixes.yaml"
time="2021-06-11T16:43:51Z" level=info msg="Excluded prefixes: [10.244.0.0/16 10.96.0.0/12]"
time="2021-06-11T16:43:51Z" level=info msg="==------> restore() span:7d8a699e87e9f7a2:487bef1e015c006b:74febb20c4d2deb8:1"
time="2021-06-11T16:43:51Z" level=info msg=">><<------ delete.client.registry=false span=7d8a699e87e9f7a2:487bef1e015c006b:74febb20c4d2deb8:1"
time="2021-06-11T16:43:51Z" level=info msg="Values: [CLE nsm-12]"
time="2021-06-11T16:43:51Z" level=info msg="Values: [NSE icmp-responderrbcp2 nsm-12 ChQKDmljbXAtcmVzcG9uZGVyEgJJUBI9CiBjbG91ZHRlc3Qta2luZC04YTE4NTMyNDViLXdvcmtlchIQMTAuMjQ0LjIuMTc6NTAwMSIHUlVOTklORxqHAQoTaWNtcC1yZXNwb25kZXJyYmNwMhICSVAaDmljbXAtcmVzcG9uZGVyIiBjbG91ZHRlc3Qta2luZC04YTE4NTMyNDViLXdvcmtlcioLCgNhcHASBGljbXAqJAoSbmV0d29ya3NlcnZpY2VuYW1lEg5pY21wLXJlc3BvbmRlcjIHUlVOTklORw==]"
time="2021-06-11T16:43:51Z" level=info msg="Values: [CLE nsm-20]"
time="2021-06-11T16:43:51Z" level=info msg="Values: [NSE icmp-responder6xdh7 nsm-20 ChQKDmljbXAtcmVzcG9uZGVyEgJJUBI9CiBjbG91ZHRlc3Qta2luZC04YTE4NTMyNDViLXdvcmtlchIQMTAuMjQ0LjIuMTc6NTAwMSIHUlVOTklORxqHAQoTaWNtcC1yZXNwb25kZXI2eGRoNxICSVAaDmljbXAtcmVzcG9uZGVyIiBjbG91ZHRlc3Qta2luZC04YTE4NTMyNDViLXdvcmtlcioLCgNhcHASBGljbXAqJAoSbmV0d29ya3NlcnZpY2VuYW1lEg5pY21wLXJlc3BvbmRlcjIHUlVOTklORw==]"
time="2021-06-11T16:43:51Z" level=info msg="Values: [CLE nsm-25]"
time="2021-06-11T16:43:51Z" level=info msg="Values: [NSE icmp-responderm4v59 nsm-25 ChQKDmljbXAtcmVzcG9uZGVyEgJJUBI9CiBjbG91ZHRlc3Qta2luZC04YTE4NTMyNDViLXdvcmtlchIQMTAuMjQ0LjIuMTc6NTAwMSIHUlVOTklORxqHAQoTaWNtcC1yZXNwb25kZXJtNHY1ORICSVAaDmljbXAtcmVzcG9uZGVyIiBjbG91ZHRlc3Qta2luZC04YTE4NTMyNDViLXdvcmtlciokChJuZXR3b3Jrc2VydmljZW5hbWUSDmljbXAtcmVzcG9uZGVyKgsKA2FwcBIEaWNtcDIHUlVOTklORw==]"
time="2021-06-11T16:43:51Z" level=info msg="Clients: [nsm-12 nsm-20 nsm-25]"
time="2021-06-11T16:43:51Z" level=info msg="NSEs: map[icmp-responder6xdh7:{nsm-20 network_service:<name:\"icmp-responder\" payload:\"IP\" > network_service_manager:<name:\"cloudtest-kind-8a1853245b-worker\" url:\"10.244.2.17:5001\" state:\"RUNNING\" > network_service_endpoint:<name:\"icmp-responder6xdh7\" payload:\"IP\" network_service_name:\"icmp-responder\" network_service_manager_name:\"cloudtest-kind-8a1853245b-worker\" labels:<key:\"app\" value:\"icmp\" > labels:<key:\"networkservicename\" value:\"icmp-responder\" > state:\"RUNNING\" > } icmp-responderm4v59:{nsm-25 network_service:<name:\"icmp-responder\" payload:\"IP\" > network_service_manager:<name:\"cloudtest-kind-8a1853245b-worker\" url:\"10.244.2.17:5001\" state:\"RUNNING\" > network_service_endpoint:<name:\"icmp-responderm4v59\" payload:\"IP\" network_service_name:\"icmp-responder\" network_service_manager_name:\"cloudtest-kind-8a1853245b-worker\" labels:<key:\"app\" value:\"icmp\" > labels:<key:\"networkservicename\" value:\"icmp-responder\" > state:\"RUNNING\" > } icmp-responderrbcp2:{nsm-12 network_service:<name:\"icmp-responder\" payload:\"IP\" > network_service_manager:<name:\"cloudtest-kind-8a1853245b-worker\" url:\"10.244.2.17:5001\" state:\"RUNNING\" > network_service_endpoint:<name:\"icmp-responderrbcp2\" payload:\"IP\" network_service_name:\"icmp-responder\" network_service_manager_name:\"cloudtest-kind-8a1853245b-worker\" labels:<key:\"app\" value:\"icmp\" > labels:<key:\"networkservicename\" value:\"icmp-responder\" > state:\"RUNNING\" > }]"
time="2021-06-11T16:43:51Z" level=info msg=">><<------ clients=[\"nsm-12\",\"nsm-20\",\"nsm-25\"] span=7d8a699e87e9f7a2:487bef1e015c006b:74febb20c4d2deb8:1"
time="2021-06-11T16:43:51Z" level=info msg=">><<------ endpoints={\"icmp-responder6xdh7\":{\"Workspace\":\"nsm-20\",\"NseReg\":{\"network_service\":{\"name\":\"icmp-responder\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"cloudtest-kind-8a1853245b-worker\",\"url\":\"10.244.2.17:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"icmp-responder6xdh7\",\"payload\":\"IP\",\"network_service_name\":\"icmp-responder\",\"network_service_manager_name\":\"cloudtest-kind-8a1853245b-worker\",\"labels\":{\"app\":\"icmp\",\"networkservicename\":\"icmp-responder\"},\"state\":\"RUNNING\"}}},\"icmp-responderm4v59\":{\"Workspace\":\"nsm-25\",\"NseReg\":{\"network_service\":{\"name\":\"icmp-responder\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"cloudtest-kind-8a1853245b-worker\",\"url\":\"10.244.2.17:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"icmp-responderm4v59\",\"payload\":\"IP\",\"network_service_name\":\"icmp-responder\",\"network_service_manager_name\":\"cloudtest-kind-8a1853245b-worker\",\"labels\":{\"app\":\"icmp\",\"networkservicename\":\"icmp-responder\"},\"state\":\"RUNNING\"}}},\"icmp-responderrbcp2\":{\"Workspace\":\"nsm-12\",\"NseReg\":{\"network_service\":{\"name\":\"icmp-responder\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"cloudtest-kind-8a1853245b-worker\",\"url\":\"10.244.2.17:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"icmp-responderrbcp2\",\"payload\":\"IP\",\"network_service_name\":\"icmp-responder\",\"network_service_manager_name\":\"cloudtest-kind-8a1853245b-worker\",\"labels\":{\"app\":\"icmp\",\"networkservicename\":\"icmp-responder\"},\"state\":\"RUNNING\"}}}} span=7d8a699e87e9f7a2:487bef1e015c006b:74febb20c4d2deb8:1"
time="2021-06-11T16:43:51Z" level=info msg="==--------> restoreClients() span:7d8a699e87e9f7a2:300956aa80807ed3:487bef1e015c006b:1"
time="2021-06-11T16:43:51Z" level=info msg="NSMServer: Creating workspaces for existing clients..." operation=restoreClients span="7d8a699e87e9f7a2:300956aa80807ed3:487bef1e015c006b:1"
time="2021-06-11T16:43:51Z" level=info msg="==----------> Workspace:nsm-12() span:7d8a699e87e9f7a2:543e601ee811126d:300956aa80807ed3:1"
time="2021-06-11T16:43:51Z" level=info msg="Creating new workspace: nsm-12" operation="Workspace:nsm-12" span="7d8a699e87e9f7a2:543e601ee811126d:300956aa80807ed3:1"
time="2021-06-11T16:43:51Z" level=info msg=">><<---------- restore=true span=7d8a699e87e9f7a2:543e601ee811126d:300956aa80807ed3:1"
time="2021-06-11T16:43:51Z" level=info msg="Creating new directory: /var/lib/networkservicemesh/nsm-12" operation="Workspace:nsm-12" span="7d8a699e87e9f7a2:543e601ee811126d:300956aa80807ed3:1"
time="2021-06-11T16:43:51Z" level=info msg="Creating new listener on: /var/lib/networkservicemesh/nsm-12/nsm.server.io.sock" operation="Workspace:nsm-12" span="7d8a699e87e9f7a2:543e601ee811126d:300956aa80807ed3:1"
time="2021-06-11T16:43:51Z" level=info msg="Creating new NetworkServiceRegistryServer" operation="Workspace:nsm-12" span="7d8a699e87e9f7a2:543e601ee811126d:300956aa80807ed3:1"
time="2021-06-11T16:43:51Z" level=info msg="Creating new MonitorConnectionServer" operation="Workspace:nsm-12" span="7d8a699e87e9f7a2:543e601ee811126d:300956aa80807ed3:1"
time="2021-06-11T16:43:51Z" level=info msg="Creating new NetworkServiceServer" operation="Workspace:nsm-12" span="7d8a699e87e9f7a2:543e601ee811126d:300956aa80807ed3:1"
time="2021-06-11T16:43:51Z" level=info msg="LocalConnection - Serve starting..."
time="2021-06-11T16:43:51Z" level=info msg="Reading excluded prefixes config file: /var/lib/networkservicemesh/config/excluded_prefixes.yaml"
time="2021-06-11T16:43:51Z" level=info msg="Excluded prefixes: [10.244.0.0/16 10.96.0.0/12]"
time="2021-06-11T16:43:51Z" level=info msg="Creating new GRPC MonitorServer" operation="Workspace:nsm-12" span="7d8a699e87e9f7a2:543e601ee811126d:300956aa80807ed3:1"
time="2021-06-11T16:43:51Z" level=info msg="==------------> NewServer() span:7d8a699e87e9f7a2:6c482f0daee93558:543e601ee811126d:1"
time="2021-06-11T16:43:51Z" level=info msg="GRPC.NewServer with open tracing enabled" operation=NewServer span="7d8a699e87e9f7a2:6c482f0daee93558:543e601ee811126d:1"
time="2021-06-11T16:43:51Z" level=info msg="==--------------> GetCertificate() span:7d8a699e87e9f7a2:70356585991d3ebf:6c482f0daee93558:1"
INFO: 2021/06/11 16:43:51 [core] parsed scheme: "unix"
INFO: 2021/06/11 16:43:51 [core] ccResolverWrapper: sending update to cc: {[{/run/spire/sockets/agent.sock  0xc00000e2c0 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:43:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:43:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:51 [core] blockingPicker: the picked transport is not ready, loop back to repick
INFO: 2021/06/11 16:43:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc000520e10, {CONNECTING <nil>}
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:51 [core] Subchannel picks a new address "/run/spire/sockets/agent.sock" to connect
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:43:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc000520e10, {READY <nil>}
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to READY
INFO: 2021/06/11 16:43:51 [core] parsed scheme: "unix"
INFO: 2021/06/11 16:43:51 [core] ccResolverWrapper: sending update to cc: {[{/run/spire/sockets/agent.sock  0xc00000e340 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:43:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:43:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:51 [core] blockingPicker: the picked transport is not ready, loop back to repick
INFO: 2021/06/11 16:43:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc000521ac0, {CONNECTING <nil>}
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:51 [core] Subchannel picks a new address "/run/spire/sockets/agent.sock" to connect
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:43:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc000521ac0, {READY <nil>}
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to READY
WARNING: 2021/06/11 16:43:51 [core] grpc: Server.Serve failed to complete security handshake from "@": EOF
time="2021-06-11T16:43:51Z" level=info msg="SPIRE -- GetX509SVID:&{spiffe://test.com/nsmgr [0xc0001c0580] 0xc00020ec30}"
time="2021-06-11T16:43:51Z" level=info msg="Default trust domain:test.com"
time="2021-06-11T16:43:51Z" level=info msg="defaultTrustDomain:test.com"
time="2021-06-11T16:43:51Z" level=info msg="AUTHORIZING ALL CLIENTS"
time="2021-06-11T16:43:51Z" level=info msg="Server will be started in secure mode using tlsConfig:&{<nil> <nil> [] map[] 0x97a4c0 <nil> <nil> 0x97a5c0 <nil> <nil> []  RequireAnyClientCert <nil> false [] false false [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] <nil> 0 0 [] false 0 <nil> {{0 0} 0 0 0 0} [] []}"
2021/06/11 16:43:51 Reporting span 7d8a699e87e9f7a2:70356585991d3ebf:6c482f0daee93558:1
2021/06/11 16:43:51 Reporting span 7d8a699e87e9f7a2:6c482f0daee93558:543e601ee811126d:1
time="2021-06-11T16:43:51Z" level=info msg="Registering NetworkServiceRegistryServer with registerServer" operation="Workspace:nsm-12" span="7d8a699e87e9f7a2:543e601ee811126d:300956aa80807ed3:1"
time="2021-06-11T16:43:51Z" level=info msg="Registering NetworkServiceDiscoveryServer with discoveryServer" operation="Workspace:nsm-12" span="7d8a699e87e9f7a2:543e601ee811126d:300956aa80807ed3:1"
time="2021-06-11T16:43:51Z" level=info msg="Registering NetworkServiceServer with registerServer" operation="Workspace:nsm-12" span="7d8a699e87e9f7a2:543e601ee811126d:300956aa80807ed3:1"
time="2021-06-11T16:43:51Z" level=info msg="Registering MonitorConnectionServer with registerServer" operation="Workspace:nsm-12" span="7d8a699e87e9f7a2:543e601ee811126d:300956aa80807ed3:1"
time="2021-06-11T16:43:51Z" level=info msg="Trying to establish connection to target: /var/lib/networkservicemesh/nsm-12/nsm.server.io.sock"
time="2021-06-11T16:43:51Z" level=info msg="Connecting to the workload api at:unix:///run/spire/sockets/agent.sock"
INFO: 2021/06/11 16:43:51 [core] parsed scheme: "unix"
INFO: 2021/06/11 16:43:51 [core] ccResolverWrapper: sending update to cc: {[{/run/spire/sockets/agent.sock  0xc0004141b8 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:43:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:43:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:51 [core] blockingPicker: the picked transport is not ready, loop back to repick
INFO: 2021/06/11 16:43:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc000097810, {CONNECTING <nil>}
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:51 [core] Subchannel picks a new address "/run/spire/sockets/agent.sock" to connect
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:43:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc000097810, {READY <nil>}
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to READY
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to SHUTDOWN
time="2021-06-11T16:43:51Z" level=info msg="Successfully retrieve bundles:&{{{0 0} 0 0 0 0} map[{test.com}:0xc0000d62c0]}"
time="2021-06-11T16:43:51Z" level=info msg="defaultTrustDomain:test.com"
time="2021-06-11T16:43:51Z" level=info msg="AUTHORIZING ALL CLIENTS"
time="2021-06-11T16:43:51Z" level=info msg="Fetch tlsConfig for Trust Domain: test.com"
time="2021-06-11T16:43:51Z" level=info msg="Found 1 tlsconfigs."
INFO: 2021/06/11 16:43:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:43:51 [core] parsed scheme: ""
INFO: 2021/06/11 16:43:51 [core] scheme "" not registered, fallback to default scheme
INFO: 2021/06/11 16:43:51 [core] ccResolverWrapper: sending update to cc: {[{/var/lib/networkservicemesh/nsm-12/nsm.server.io.sock  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:43:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:43:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:51 [core] Subchannel picks a new address "/var/lib/networkservicemesh/nsm-12/nsm.server.io.sock" to connect
INFO: 2021/06/11 16:43:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc000030200, {CONNECTING <nil>}
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:43:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc000030200, {READY <nil>}
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to READY
time="2021-06-11T16:43:51Z" level=info msg="Found the right tls certificate:&{<nil> <nil> [] map[] <nil> 0x97a540 <nil> 0x97a5c0 <nil> <nil> []  NoClientCert <nil> true [] false false [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] <nil> 0 0 [] false 0 <nil> {{0 0} 0 0 0 0} [] []}"
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:43:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:43:51Z" level=info msg="Trying to establish connection using tlsConfig:&{<nil> <nil> [] map[] <nil> 0x97a540 <nil> 0x97a5c0 <nil> <nil> []  NoClientCert <nil> true [] false false [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] <nil> 0 0 [] false 0 <nil> {{0 0} 0 0 0 0} [] []}"
INFO: 2021/06/11 16:43:51 [core] parsed scheme: ""
INFO: 2021/06/11 16:43:51 [core] scheme "" not registered, fallback to default scheme
INFO: 2021/06/11 16:43:51 [core] ccResolverWrapper: sending update to cc: {[{/var/lib/networkservicemesh/nsm-12/nsm.server.io.sock  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:43:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:43:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:51 [core] Subchannel picks a new address "/var/lib/networkservicemesh/nsm-12/nsm.server.io.sock" to connect
INFO: 2021/06/11 16:43:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc0000311e0, {CONNECTING <nil>}
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:43:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc0000311e0, {READY <nil>}
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to READY
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to SHUTDOWN
time="2021-06-11T16:43:51Z" level=info msg="grpcserver for workspace &{name:nsm-12 listener:0xc00000cf00 registryServer:0xc00000cfc0 networkServiceServer:0xc00052d7a0 monitorConnectionServer:0xc00000d060 grpcServer:0xc000119340 Mutex:{state:0 sema:0} state:2 locationProvider:0xc000076240 localRegistry:0xc00000c7c0 ctx:0xc00052cfc0 discoveryServer:0xc000520310} is operational" operation="Workspace:nsm-12" span="7d8a699e87e9f7a2:543e601ee811126d:300956aa80807ed3:1"
INFO: 2021/06/11 16:43:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:43:51Z" level=info msg="Created new workspace: &{name:nsm-12 listener:0xc00000cf00 registryServer:0xc00000cfc0 networkServiceServer:0xc00052d7a0 monitorConnectionServer:0xc00000d060 grpcServer:0xc000119340 Mutex:{state:0 sema:0} state:2 locationProvider:0xc000076240 localRegistry:0xc00000c7c0 ctx:0xc00052cfc0 discoveryServer:0xc000520310}" operation="Workspace:nsm-12" span="7d8a699e87e9f7a2:543e601ee811126d:300956aa80807ed3:1"
INFO: 2021/06/11 16:43:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:43:51Z" level=info msg="==------------> cleanup() span:7d8a699e87e9f7a2:6892ed89e372c700:543e601ee811126d:1"
2021/06/11 16:43:51 Reporting span 7d8a699e87e9f7a2:6892ed89e372c700:543e601ee811126d:1
2021/06/11 16:43:51 Reporting span 7d8a699e87e9f7a2:543e601ee811126d:300956aa80807ed3:1
time="2021-06-11T16:43:51Z" level=info msg="Workspace for client nsm-12 created" operation=restoreClients span="7d8a699e87e9f7a2:300956aa80807ed3:487bef1e015c006b:1"
time="2021-06-11T16:43:51Z" level=info msg="==----------> Workspace:nsm-20() span:7d8a699e87e9f7a2:10a78f6e3ab2cfb4:300956aa80807ed3:1"
time="2021-06-11T16:43:51Z" level=info msg="Creating new workspace: nsm-20" operation="Workspace:nsm-20" span="7d8a699e87e9f7a2:10a78f6e3ab2cfb4:300956aa80807ed3:1"
time="2021-06-11T16:43:51Z" level=info msg=">><<---------- restore=true span=7d8a699e87e9f7a2:10a78f6e3ab2cfb4:300956aa80807ed3:1"
time="2021-06-11T16:43:51Z" level=info msg="Creating new directory: /var/lib/networkservicemesh/nsm-20" operation="Workspace:nsm-20" span="7d8a699e87e9f7a2:10a78f6e3ab2cfb4:300956aa80807ed3:1"
time="2021-06-11T16:43:51Z" level=info msg="Creating new listener on: /var/lib/networkservicemesh/nsm-20/nsm.server.io.sock" operation="Workspace:nsm-20" span="7d8a699e87e9f7a2:10a78f6e3ab2cfb4:300956aa80807ed3:1"
time="2021-06-11T16:43:51Z" level=info msg="Creating new NetworkServiceRegistryServer" operation="Workspace:nsm-20" span="7d8a699e87e9f7a2:10a78f6e3ab2cfb4:300956aa80807ed3:1"
time="2021-06-11T16:43:51Z" level=info msg="Creating new MonitorConnectionServer" operation="Workspace:nsm-20" span="7d8a699e87e9f7a2:10a78f6e3ab2cfb4:300956aa80807ed3:1"
time="2021-06-11T16:43:51Z" level=info msg="Creating new NetworkServiceServer" operation="Workspace:nsm-20" span="7d8a699e87e9f7a2:10a78f6e3ab2cfb4:300956aa80807ed3:1"
time="2021-06-11T16:43:51Z" level=info msg="Reading excluded prefixes config file: /var/lib/networkservicemesh/config/excluded_prefixes.yaml"
time="2021-06-11T16:43:51Z" level=info msg="Excluded prefixes: [10.244.0.0/16 10.96.0.0/12]"
time="2021-06-11T16:43:51Z" level=info msg="Creating new GRPC MonitorServer" operation="Workspace:nsm-20" span="7d8a699e87e9f7a2:10a78f6e3ab2cfb4:300956aa80807ed3:1"
time="2021-06-11T16:43:51Z" level=info msg="==------------> NewServer() span:7d8a699e87e9f7a2:43dc0fd29f897b26:10a78f6e3ab2cfb4:1"
time="2021-06-11T16:43:51Z" level=info msg="GRPC.NewServer with open tracing enabled" operation=NewServer span="7d8a699e87e9f7a2:43dc0fd29f897b26:10a78f6e3ab2cfb4:1"
time="2021-06-11T16:43:51Z" level=info msg="==--------------> GetCertificate() span:7d8a699e87e9f7a2:29401ad095bd58a7:43dc0fd29f897b26:1"
INFO: 2021/06/11 16:43:51 [core] parsed scheme: "unix"
INFO: 2021/06/11 16:43:51 [core] ccResolverWrapper: sending update to cc: {[{/run/spire/sockets/agent.sock  0xc000414240 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:43:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:43:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:51 [core] blockingPicker: the picked transport is not ready, loop back to repick
time="2021-06-11T16:43:51Z" level=info msg="LocalConnection - Serve starting..."
INFO: 2021/06/11 16:43:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc00052a270, {CONNECTING <nil>}
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:51 [core] Subchannel picks a new address "/run/spire/sockets/agent.sock" to connect
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:43:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc00052a270, {READY <nil>}
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to READY
INFO: 2021/06/11 16:43:51 [core] parsed scheme: "unix"
INFO: 2021/06/11 16:43:51 [core] ccResolverWrapper: sending update to cc: {[{/run/spire/sockets/agent.sock  0xc00000e238 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:43:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:43:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:51 [core] blockingPicker: the picked transport is not ready, loop back to repick
INFO: 2021/06/11 16:43:51 [core] Subchannel picks a new address "/run/spire/sockets/agent.sock" to connect
INFO: 2021/06/11 16:43:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc000374d00, {CONNECTING <nil>}
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:43:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc000374d00, {READY <nil>}
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to READY
time="2021-06-11T16:43:51Z" level=info msg=">><<-- GRPC->/nsmdapi.NSMD/EnumConnection()=\"\" span=0e5b519a97b4abaa:3be41d27c699e318:688254ef42df281f:1"
time="2021-06-11T16:43:51Z" level=info msg=">><<-- request={} span=0e5b519a97b4abaa:3be41d27c699e318:688254ef42df281f:1"
time="2021-06-11T16:43:51Z" level=info msg="SPIRE -- GetX509SVID:&{spiffe://test.com/nsmgr [0xc000497080] 0xc0000a2720}"
time="2021-06-11T16:43:51Z" level=info msg="Default trust domain:test.com"
time="2021-06-11T16:43:51Z" level=info msg="defaultTrustDomain:test.com"
time="2021-06-11T16:43:51Z" level=info msg="AUTHORIZING ALL CLIENTS"
time="2021-06-11T16:43:51Z" level=info msg="Server will be started in secure mode using tlsConfig:&{<nil> <nil> [] map[] 0x97a4c0 <nil> <nil> 0x97a5c0 <nil> <nil> []  RequireAnyClientCert <nil> false [] false false [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] <nil> 0 0 [] false 0 <nil> {{0 0} 0 0 0 0} [] []}"
2021/06/11 16:43:51 Reporting span 7d8a699e87e9f7a2:29401ad095bd58a7:43dc0fd29f897b26:1
2021/06/11 16:43:51 Reporting span 7d8a699e87e9f7a2:43dc0fd29f897b26:10a78f6e3ab2cfb4:1
time="2021-06-11T16:43:51Z" level=info msg="Registering NetworkServiceRegistryServer with registerServer" operation="Workspace:nsm-20" span="7d8a699e87e9f7a2:10a78f6e3ab2cfb4:300956aa80807ed3:1"
time="2021-06-11T16:43:51Z" level=info msg="Registering NetworkServiceDiscoveryServer with discoveryServer" operation="Workspace:nsm-20" span="7d8a699e87e9f7a2:10a78f6e3ab2cfb4:300956aa80807ed3:1"
time="2021-06-11T16:43:51Z" level=info msg="Registering NetworkServiceServer with registerServer" operation="Workspace:nsm-20" span="7d8a699e87e9f7a2:10a78f6e3ab2cfb4:300956aa80807ed3:1"
time="2021-06-11T16:43:51Z" level=info msg="Registering MonitorConnectionServer with registerServer" operation="Workspace:nsm-20" span="7d8a699e87e9f7a2:10a78f6e3ab2cfb4:300956aa80807ed3:1"
time="2021-06-11T16:43:51Z" level=info msg="Trying to establish connection to target: /var/lib/networkservicemesh/nsm-20/nsm.server.io.sock"
time="2021-06-11T16:43:51Z" level=info msg="Connecting to the workload api at:unix:///run/spire/sockets/agent.sock"
INFO: 2021/06/11 16:43:51 [core] parsed scheme: "unix"
INFO: 2021/06/11 16:43:51 [core] ccResolverWrapper: sending update to cc: {[{/run/spire/sockets/agent.sock  0xc00000e310 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:43:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:43:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc0003758b0, {CONNECTING <nil>}
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:51 [core] Subchannel picks a new address "/run/spire/sockets/agent.sock" to connect
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:43:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc0003758b0, {READY <nil>}
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to READY
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to SHUTDOWN
time="2021-06-11T16:43:51Z" level=info msg="Successfully retrieve bundles:&{{{0 0} 0 0 0 0} map[{test.com}:0xc000188ac0]}"
time="2021-06-11T16:43:51Z" level=info msg="defaultTrustDomain:test.com"
time="2021-06-11T16:43:51Z" level=info msg="AUTHORIZING ALL CLIENTS"
time="2021-06-11T16:43:51Z" level=info msg="Fetch tlsConfig for Trust Domain: test.com"
time="2021-06-11T16:43:51Z" level=info msg="Found 1 tlsconfigs."
INFO: 2021/06/11 16:43:51 [core] parsed scheme: ""
INFO: 2021/06/11 16:43:51 [core] scheme "" not registered, fallback to default scheme
INFO: 2021/06/11 16:43:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:43:51 [core] ccResolverWrapper: sending update to cc: {[{/var/lib/networkservicemesh/nsm-20/nsm.server.io.sock  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:43:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:43:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:51 [core] Subchannel picks a new address "/var/lib/networkservicemesh/nsm-20/nsm.server.io.sock" to connect
INFO: 2021/06/11 16:43:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc000520d20, {CONNECTING <nil>}
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:43:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc000520d20, {READY <nil>}
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to READY
time="2021-06-11T16:43:51Z" level=info msg="Found the right tls certificate:&{<nil> <nil> [] map[] <nil> 0x97a540 <nil> 0x97a5c0 <nil> <nil> []  NoClientCert <nil> true [] false false [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] <nil> 0 0 [] false 0 <nil> {{0 0} 0 0 0 0} [] []}"
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:43:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:43:51Z" level=info msg="Trying to establish connection using tlsConfig:&{<nil> <nil> [] map[] <nil> 0x97a540 <nil> 0x97a5c0 <nil> <nil> []  NoClientCert <nil> true [] false false [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] <nil> 0 0 [] false 0 <nil> {{0 0} 0 0 0 0} [] []}"
INFO: 2021/06/11 16:43:51 [core] parsed scheme: ""
INFO: 2021/06/11 16:43:51 [core] scheme "" not registered, fallback to default scheme
INFO: 2021/06/11 16:43:51 [core] ccResolverWrapper: sending update to cc: {[{/var/lib/networkservicemesh/nsm-20/nsm.server.io.sock  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:43:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:43:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:51 [core] Subchannel picks a new address "/var/lib/networkservicemesh/nsm-20/nsm.server.io.sock" to connect
INFO: 2021/06/11 16:43:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc0000975c0, {CONNECTING <nil>}
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:43:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc0000975c0, {READY <nil>}
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to READY
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to SHUTDOWN
time="2021-06-11T16:43:51Z" level=info msg="grpcserver for workspace &{name:nsm-20 listener:0xc0001950e0 registryServer:0xc000195220 networkServiceServer:0xc000491c50 monitorConnectionServer:0xc0001952c0 grpcServer:0xc000119500 Mutex:{state:0 sema:0} state:2 locationProvider:0xc000076240 localRegistry:0xc00000c7c0 ctx:0xc000491230 discoveryServer:0xc00044d700} is operational" operation="Workspace:nsm-20" span="7d8a699e87e9f7a2:10a78f6e3ab2cfb4:300956aa80807ed3:1"
time="2021-06-11T16:43:51Z" level=info msg="Created new workspace: &{name:nsm-20 listener:0xc0001950e0 registryServer:0xc000195220 networkServiceServer:0xc000491c50 monitorConnectionServer:0xc0001952c0 grpcServer:0xc000119500 Mutex:{state:0 sema:0} state:2 locationProvider:0xc000076240 localRegistry:0xc00000c7c0 ctx:0xc000491230 discoveryServer:0xc00044d700}" operation="Workspace:nsm-20" span="7d8a699e87e9f7a2:10a78f6e3ab2cfb4:300956aa80807ed3:1"
time="2021-06-11T16:43:51Z" level=info msg="==------------> cleanup() span:7d8a699e87e9f7a2:3a2fb29515877b66:10a78f6e3ab2cfb4:1"
2021/06/11 16:43:51 Reporting span 7d8a699e87e9f7a2:3a2fb29515877b66:10a78f6e3ab2cfb4:1
2021/06/11 16:43:51 Reporting span 7d8a699e87e9f7a2:10a78f6e3ab2cfb4:300956aa80807ed3:1
time="2021-06-11T16:43:51Z" level=info msg="Workspace for client nsm-20 created" operation=restoreClients span="7d8a699e87e9f7a2:300956aa80807ed3:487bef1e015c006b:1"
INFO: 2021/06/11 16:43:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:43:51Z" level=info msg="==----------> Workspace:nsm-25() span:7d8a699e87e9f7a2:533fd5b9ca35e097:300956aa80807ed3:1"
time="2021-06-11T16:43:51Z" level=info msg="Creating new workspace: nsm-25" operation="Workspace:nsm-25" span="7d8a699e87e9f7a2:533fd5b9ca35e097:300956aa80807ed3:1"
time="2021-06-11T16:43:51Z" level=info msg=">><<---------- restore=true span=7d8a699e87e9f7a2:533fd5b9ca35e097:300956aa80807ed3:1"
INFO: 2021/06/11 16:43:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:43:51Z" level=info msg="Creating new directory: /var/lib/networkservicemesh/nsm-25" operation="Workspace:nsm-25" span="7d8a699e87e9f7a2:533fd5b9ca35e097:300956aa80807ed3:1"
time="2021-06-11T16:43:51Z" level=info msg="Creating new listener on: /var/lib/networkservicemesh/nsm-25/nsm.server.io.sock" operation="Workspace:nsm-25" span="7d8a699e87e9f7a2:533fd5b9ca35e097:300956aa80807ed3:1"
time="2021-06-11T16:43:51Z" level=info msg="Creating new NetworkServiceRegistryServer" operation="Workspace:nsm-25" span="7d8a699e87e9f7a2:533fd5b9ca35e097:300956aa80807ed3:1"
time="2021-06-11T16:43:51Z" level=info msg="Creating new MonitorConnectionServer" operation="Workspace:nsm-25" span="7d8a699e87e9f7a2:533fd5b9ca35e097:300956aa80807ed3:1"
time="2021-06-11T16:43:51Z" level=info msg="Creating new NetworkServiceServer" operation="Workspace:nsm-25" span="7d8a699e87e9f7a2:533fd5b9ca35e097:300956aa80807ed3:1"
time="2021-06-11T16:43:51Z" level=info msg="LocalConnection - Serve starting..."
time="2021-06-11T16:43:51Z" level=info msg="Reading excluded prefixes config file: /var/lib/networkservicemesh/config/excluded_prefixes.yaml"
time="2021-06-11T16:43:51Z" level=info msg="Excluded prefixes: [10.244.0.0/16 10.96.0.0/12]"
time="2021-06-11T16:43:51Z" level=info msg="Creating new GRPC MonitorServer" operation="Workspace:nsm-25" span="7d8a699e87e9f7a2:533fd5b9ca35e097:300956aa80807ed3:1"
time="2021-06-11T16:43:51Z" level=info msg="==------------> NewServer() span:7d8a699e87e9f7a2:55d3a4e03f1d5583:533fd5b9ca35e097:1"
time="2021-06-11T16:43:51Z" level=info msg="GRPC.NewServer with open tracing enabled" operation=NewServer span="7d8a699e87e9f7a2:55d3a4e03f1d5583:533fd5b9ca35e097:1"
time="2021-06-11T16:43:51Z" level=info msg="==--------------> GetCertificate() span:7d8a699e87e9f7a2:7a5f89a07cbe7055:55d3a4e03f1d5583:1"
INFO: 2021/06/11 16:43:51 [core] parsed scheme: "unix"
INFO: 2021/06/11 16:43:51 [core] ccResolverWrapper: sending update to cc: {[{/run/spire/sockets/agent.sock  0xc0004141b0 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:43:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:43:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:51 [core] blockingPicker: the picked transport is not ready, loop back to repick
INFO: 2021/06/11 16:43:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc000031440, {CONNECTING <nil>}
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:51 [core] Subchannel picks a new address "/run/spire/sockets/agent.sock" to connect
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:43:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc000031440, {READY <nil>}
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to READY
INFO: 2021/06/11 16:43:51 [core] parsed scheme: "unix"
INFO: 2021/06/11 16:43:51 [core] ccResolverWrapper: sending update to cc: {[{/run/spire/sockets/agent.sock  0xc000414250 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:43:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:43:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:51 [core] blockingPicker: the picked transport is not ready, loop back to repick
INFO: 2021/06/11 16:43:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc00018b970, {CONNECTING <nil>}
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:51 [core] Subchannel picks a new address "/run/spire/sockets/agent.sock" to connect
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:43:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc00018b970, {READY <nil>}
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to READY
time="2021-06-11T16:43:51Z" level=info msg="SPIRE -- GetX509SVID:&{spiffe://test.com/nsmgr [0xc000470680] 0xc000314ff0}"
time="2021-06-11T16:43:51Z" level=info msg="Default trust domain:test.com"
time="2021-06-11T16:43:51Z" level=info msg="defaultTrustDomain:test.com"
time="2021-06-11T16:43:51Z" level=info msg="AUTHORIZING ALL CLIENTS"
time="2021-06-11T16:43:51Z" level=info msg="Server will be started in secure mode using tlsConfig:&{<nil> <nil> [] map[] 0x97a4c0 <nil> <nil> 0x97a5c0 <nil> <nil> []  RequireAnyClientCert <nil> false [] false false [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] <nil> 0 0 [] false 0 <nil> {{0 0} 0 0 0 0} [] []}"
2021/06/11 16:43:51 Reporting span 7d8a699e87e9f7a2:7a5f89a07cbe7055:55d3a4e03f1d5583:1
2021/06/11 16:43:51 Reporting span 7d8a699e87e9f7a2:55d3a4e03f1d5583:533fd5b9ca35e097:1
time="2021-06-11T16:43:51Z" level=info msg="Registering NetworkServiceRegistryServer with registerServer" operation="Workspace:nsm-25" span="7d8a699e87e9f7a2:533fd5b9ca35e097:300956aa80807ed3:1"
time="2021-06-11T16:43:51Z" level=info msg="Registering NetworkServiceDiscoveryServer with discoveryServer" operation="Workspace:nsm-25" span="7d8a699e87e9f7a2:533fd5b9ca35e097:300956aa80807ed3:1"
time="2021-06-11T16:43:51Z" level=info msg="Registering NetworkServiceServer with registerServer" operation="Workspace:nsm-25" span="7d8a699e87e9f7a2:533fd5b9ca35e097:300956aa80807ed3:1"
time="2021-06-11T16:43:51Z" level=info msg="Registering MonitorConnectionServer with registerServer" operation="Workspace:nsm-25" span="7d8a699e87e9f7a2:533fd5b9ca35e097:300956aa80807ed3:1"
time="2021-06-11T16:43:51Z" level=info msg="Trying to establish connection to target: /var/lib/networkservicemesh/nsm-25/nsm.server.io.sock"
time="2021-06-11T16:43:51Z" level=info msg="Connecting to the workload api at:unix:///run/spire/sockets/agent.sock"
INFO: 2021/06/11 16:43:51 [core] parsed scheme: "unix"
INFO: 2021/06/11 16:43:51 [core] ccResolverWrapper: sending update to cc: {[{/run/spire/sockets/agent.sock  0xc000414368 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:43:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:43:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc00044dc20, {CONNECTING <nil>}
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:51 [core] Subchannel picks a new address "/run/spire/sockets/agent.sock" to connect
INFO: 2021/06/11 16:43:51 [core] blockingPicker: the picked transport is not ready, loop back to repick
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:43:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc00044dc20, {READY <nil>}
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to READY
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to SHUTDOWN
time="2021-06-11T16:43:51Z" level=info msg="Successfully retrieve bundles:&{{{0 0} 0 0 0 0} map[{test.com}:0xc000638780]}"
time="2021-06-11T16:43:51Z" level=info msg="defaultTrustDomain:test.com"
time="2021-06-11T16:43:51Z" level=info msg="AUTHORIZING ALL CLIENTS"
time="2021-06-11T16:43:51Z" level=info msg="Fetch tlsConfig for Trust Domain: test.com"
time="2021-06-11T16:43:51Z" level=info msg="Found 1 tlsconfigs."
INFO: 2021/06/11 16:43:51 [core] parsed scheme: ""
INFO: 2021/06/11 16:43:51 [core] scheme "" not registered, fallback to default scheme
INFO: 2021/06/11 16:43:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:43:51 [core] ccResolverWrapper: sending update to cc: {[{/var/lib/networkservicemesh/nsm-25/nsm.server.io.sock  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:43:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:43:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc000374e60, {CONNECTING <nil>}
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:51 [core] Subchannel picks a new address "/var/lib/networkservicemesh/nsm-25/nsm.server.io.sock" to connect
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:43:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc000374e60, {READY <nil>}
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to READY
time="2021-06-11T16:43:51Z" level=info msg="Found the right tls certificate:&{<nil> <nil> [] map[] <nil> 0x97a540 <nil> 0x97a5c0 <nil> <nil> []  NoClientCert <nil> true [] false false [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] <nil> 0 0 [] false 0 <nil> {{0 0} 0 0 0 0} [] []}"
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:43:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:43:51Z" level=info msg="Trying to establish connection using tlsConfig:&{<nil> <nil> [] map[] <nil> 0x97a540 <nil> 0x97a5c0 <nil> <nil> []  NoClientCert <nil> true [] false false [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] <nil> 0 0 [] false 0 <nil> {{0 0} 0 0 0 0} [] []}"
INFO: 2021/06/11 16:43:51 [core] parsed scheme: ""
INFO: 2021/06/11 16:43:51 [core] scheme "" not registered, fallback to default scheme
INFO: 2021/06/11 16:43:51 [core] ccResolverWrapper: sending update to cc: {[{/var/lib/networkservicemesh/nsm-25/nsm.server.io.sock  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:43:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:43:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:43:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc000521180, {CONNECTING <nil>}
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:51 [core] Subchannel picks a new address "/var/lib/networkservicemesh/nsm-25/nsm.server.io.sock" to connect
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:43:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc000521180, {READY <nil>}
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to READY
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to SHUTDOWN
time="2021-06-11T16:43:51Z" level=info msg="grpcserver for workspace &{name:nsm-25 listener:0xc000194bc0 registryServer:0xc000194ca0 networkServiceServer:0xc0003143c0 monitorConnectionServer:0xc000194da0 grpcServer:0xc0002241c0 Mutex:{state:0 sema:0} state:2 locationProvider:0xc000076240 localRegistry:0xc00000c7c0 ctx:0xc00052d590 discoveryServer:0xc000030730} is operational" operation="Workspace:nsm-25" span="7d8a699e87e9f7a2:533fd5b9ca35e097:300956aa80807ed3:1"
time="2021-06-11T16:43:51Z" level=info msg="Created new workspace: &{name:nsm-25 listener:0xc000194bc0 registryServer:0xc000194ca0 networkServiceServer:0xc0003143c0 monitorConnectionServer:0xc000194da0 grpcServer:0xc0002241c0 Mutex:{state:0 sema:0} state:2 locationProvider:0xc000076240 localRegistry:0xc00000c7c0 ctx:0xc00052d590 discoveryServer:0xc000030730}" operation="Workspace:nsm-25" span="7d8a699e87e9f7a2:533fd5b9ca35e097:300956aa80807ed3:1"
time="2021-06-11T16:43:51Z" level=info msg="==------------> cleanup() span:7d8a699e87e9f7a2:0bac0a5aeb0aa2f7:533fd5b9ca35e097:1"
INFO: 2021/06/11 16:43:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
2021/06/11 16:43:51 Reporting span 7d8a699e87e9f7a2:0bac0a5aeb0aa2f7:533fd5b9ca35e097:1
2021/06/11 16:43:51 Reporting span 7d8a699e87e9f7a2:533fd5b9ca35e097:300956aa80807ed3:1
time="2021-06-11T16:43:51Z" level=info msg="Workspace for client nsm-25 created" operation=restoreClients span="7d8a699e87e9f7a2:300956aa80807ed3:487bef1e015c006b:1"
2021/06/11 16:43:51 Reporting span 7d8a699e87e9f7a2:300956aa80807ed3:487bef1e015c006b:1
INFO: 2021/06/11 16:43:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:43:51Z" level=info msg=">><<------ updated-clients=[\"nsm-12\",\"nsm-20\",\"nsm-25\"] span=7d8a699e87e9f7a2:487bef1e015c006b:74febb20c4d2deb8:1"
time="2021-06-11T16:43:51Z" level=info msg="==--------> restore-endpoints() span:7d8a699e87e9f7a2:635c869953e7ae77:487bef1e015c006b:1"
time="2021-06-11T16:43:51Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-06-11T16:43:51Z" level=info msg="Requesting NseRegistryClient..."
time="2021-06-11T16:43:51Z" level=info msg="==----------> check-nse-icmp-responderrbcp2() span:7d8a699e87e9f7a2:5ae7835c0414d83f:635c869953e7ae77:1"
time="2021-06-11T16:43:51Z" level=info msg=">><<-- response={\"workspace\":[\"nsm-12\",\"nsm-20\",\"nsm-25\"]} span=0e5b519a97b4abaa:3be41d27c699e318:688254ef42df281f:1"
time="2021-06-11T16:43:51Z" level=info msg=">><<---------- workspace={} span=7d8a699e87e9f7a2:5ae7835c0414d83f:635c869953e7ae77:1"
time="2021-06-11T16:43:51Z" level=info msg="Checking NSE icmp-responderrbcp2 is alive at /var/lib/networkservicemesh/nsm-12/nsm.client.io.sock..." operation=check-nse-icmp-responderrbcp2 span="7d8a699e87e9f7a2:5ae7835c0414d83f:635c869953e7ae77:1"
time="2021-06-11T16:43:51Z" level=info msg="==--> check-nse-alive() span:7d8a699e87e9f7a2:32459254018b4a34:5ae7835c0414d83f:1"
time="2021-06-11T16:43:51Z" level=info msg="Trying to establish connection to target: /var/lib/networkservicemesh/nsm-12/nsm.client.io.sock"
time="2021-06-11T16:43:51Z" level=info msg="Connecting to the workload api at:unix:///run/spire/sockets/agent.sock"
INFO: 2021/06/11 16:43:51 [core] parsed scheme: "unix"
INFO: 2021/06/11 16:43:51 [core] ccResolverWrapper: sending update to cc: {[{/run/spire/sockets/agent.sock  0xc000654068 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:43:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:43:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:51 [core] blockingPicker: the picked transport is not ready, loop back to repick
INFO: 2021/06/11 16:43:51 [core] Subchannel picks a new address "/run/spire/sockets/agent.sock" to connect
INFO: 2021/06/11 16:43:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc000521530, {CONNECTING <nil>}
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:43:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc000521530, {READY <nil>}
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to READY
2021/06/11 16:43:51 Reporting span 0e5b519a97b4abaa:3be41d27c699e318:688254ef42df281f:1
INFO: 2021/06/11 16:43:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to SHUTDOWN
time="2021-06-11T16:43:51Z" level=info msg="Successfully retrieve bundles:&{{{0 0} 0 0 0 0} map[{test.com}:0xc000550300]}"
time="2021-06-11T16:43:51Z" level=info msg="defaultTrustDomain:test.com"
time="2021-06-11T16:43:51Z" level=info msg="AUTHORIZING ALL CLIENTS"
time="2021-06-11T16:43:51Z" level=info msg="Fetch tlsConfig for Trust Domain: test.com"
time="2021-06-11T16:43:51Z" level=info msg="Found 1 tlsconfigs."
INFO: 2021/06/11 16:43:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:43:51 [core] parsed scheme: ""
INFO: 2021/06/11 16:43:51 [core] scheme "" not registered, fallback to default scheme
INFO: 2021/06/11 16:43:51 [core] ccResolverWrapper: sending update to cc: {[{/var/lib/networkservicemesh/nsm-12/nsm.client.io.sock  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:43:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:43:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:51 [core] Subchannel picks a new address "/var/lib/networkservicemesh/nsm-12/nsm.client.io.sock" to connect
INFO: 2021/06/11 16:43:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc0004d4ea0, {CONNECTING <nil>}
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to CONNECTING
WARNING: 2021/06/11 16:43:51 [core] grpc: addrConn.createTransport failed to connect to {/var/lib/networkservicemesh/nsm-12/nsm.client.io.sock /var/lib/networkservicemesh/nsm-12/nsm.client.io.sock <nil> 0 <nil>}. Err: connection error: desc = "transport: Error while dialing dial unix /var/lib/networkservicemesh/nsm-12/nsm.client.io.sock: connect: no such file or directory". Reconnecting...
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to TRANSIENT_FAILURE
INFO: 2021/06/11 16:43:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc0004d4ea0, {TRANSIENT_FAILURE connection error: desc = "transport: Error while dialing dial unix /var/lib/networkservicemesh/nsm-12/nsm.client.io.sock: connect: no such file or directory"}
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to TRANSIENT_FAILURE
INFO: 2021/06/11 16:43:52 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:52 [core] Subchannel picks a new address "/var/lib/networkservicemesh/nsm-12/nsm.client.io.sock" to connect
INFO: 2021/06/11 16:43:52 [core] pickfirstBalancer: UpdateSubConnState: 0xc0004d4ea0, {CONNECTING <nil>}
INFO: 2021/06/11 16:43:52 [core] Channel Connectivity change to CONNECTING
WARNING: 2021/06/11 16:43:52 [core] grpc: addrConn.createTransport failed to connect to {/var/lib/networkservicemesh/nsm-12/nsm.client.io.sock /var/lib/networkservicemesh/nsm-12/nsm.client.io.sock <nil> 0 <nil>}. Err: connection error: desc = "transport: Error while dialing dial unix /var/lib/networkservicemesh/nsm-12/nsm.client.io.sock: connect: no such file or directory". Reconnecting...
INFO: 2021/06/11 16:43:52 [core] Subchannel Connectivity change to TRANSIENT_FAILURE
INFO: 2021/06/11 16:43:52 [core] pickfirstBalancer: UpdateSubConnState: 0xc0004d4ea0, {TRANSIENT_FAILURE connection error: desc = "transport: Error while dialing dial unix /var/lib/networkservicemesh/nsm-12/nsm.client.io.sock: connect: no such file or directory"}
INFO: 2021/06/11 16:43:52 [core] Channel Connectivity change to TRANSIENT_FAILURE
INFO: 2021/06/11 16:43:53 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:53 [core] Subchannel picks a new address "/var/lib/networkservicemesh/nsm-12/nsm.client.io.sock" to connect
WARNING: 2021/06/11 16:43:53 [core] grpc: addrConn.createTransport failed to connect to {/var/lib/networkservicemesh/nsm-12/nsm.client.io.sock /var/lib/networkservicemesh/nsm-12/nsm.client.io.sock <nil> 0 <nil>}. Err: connection error: desc = "transport: Error while dialing dial unix /var/lib/networkservicemesh/nsm-12/nsm.client.io.sock: connect: no such file or directory". Reconnecting...
INFO: 2021/06/11 16:43:53 [core] pickfirstBalancer: UpdateSubConnState: 0xc0004d4ea0, {CONNECTING <nil>}
INFO: 2021/06/11 16:43:53 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:53 [core] Subchannel Connectivity change to TRANSIENT_FAILURE
INFO: 2021/06/11 16:43:53 [core] pickfirstBalancer: UpdateSubConnState: 0xc0004d4ea0, {TRANSIENT_FAILURE connection error: desc = "transport: Error while dialing dial unix /var/lib/networkservicemesh/nsm-12/nsm.client.io.sock: connect: no such file or directory"}
INFO: 2021/06/11 16:43:53 [core] Channel Connectivity change to TRANSIENT_FAILURE
INFO: 2021/06/11 16:43:56 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:56 [core] Subchannel picks a new address "/var/lib/networkservicemesh/nsm-12/nsm.client.io.sock" to connect
WARNING: 2021/06/11 16:43:56 [core] grpc: addrConn.createTransport failed to connect to {/var/lib/networkservicemesh/nsm-12/nsm.client.io.sock /var/lib/networkservicemesh/nsm-12/nsm.client.io.sock <nil> 0 <nil>}. Err: connection error: desc = "transport: Error while dialing dial unix /var/lib/networkservicemesh/nsm-12/nsm.client.io.sock: connect: no such file or directory". Reconnecting...
INFO: 2021/06/11 16:43:56 [core] Subchannel Connectivity change to TRANSIENT_FAILURE
INFO: 2021/06/11 16:43:56 [core] pickfirstBalancer: UpdateSubConnState: 0xc0004d4ea0, {CONNECTING <nil>}
INFO: 2021/06/11 16:43:56 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:56 [core] pickfirstBalancer: UpdateSubConnState: 0xc0004d4ea0, {TRANSIENT_FAILURE connection error: desc = "transport: Error while dialing dial unix /var/lib/networkservicemesh/nsm-12/nsm.client.io.sock: connect: no such file or directory"}
INFO: 2021/06/11 16:43:56 [core] Channel Connectivity change to TRANSIENT_FAILURE
INFO: 2021/06/11 16:44:00 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:44:00 [core] Subchannel picks a new address "/var/lib/networkservicemesh/nsm-12/nsm.client.io.sock" to connect
WARNING: 2021/06/11 16:44:00 [core] grpc: addrConn.createTransport failed to connect to {/var/lib/networkservicemesh/nsm-12/nsm.client.io.sock /var/lib/networkservicemesh/nsm-12/nsm.client.io.sock <nil> 0 <nil>}. Err: connection error: desc = "transport: Error while dialing dial unix /var/lib/networkservicemesh/nsm-12/nsm.client.io.sock: connect: no such file or directory". Reconnecting...
INFO: 2021/06/11 16:44:00 [core] pickfirstBalancer: UpdateSubConnState: 0xc0004d4ea0, {CONNECTING <nil>}
INFO: 2021/06/11 16:44:00 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:44:00 [core] Subchannel Connectivity change to TRANSIENT_FAILURE
INFO: 2021/06/11 16:44:00 [core] pickfirstBalancer: UpdateSubConnState: 0xc0004d4ea0, {TRANSIENT_FAILURE connection error: desc = "transport: Error while dialing dial unix /var/lib/networkservicemesh/nsm-12/nsm.client.io.sock: connect: no such file or directory"}
INFO: 2021/06/11 16:44:00 [core] Channel Connectivity change to TRANSIENT_FAILURE
INFO: 2021/06/11 16:44:01 [core] Channel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:44:01 [core] Subchannel Connectivity change to SHUTDOWN
INFO: 2021/06/11 16:44:21 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:44:21Z" level=info msg=">><<-- GRPC->/nsmdapi.NSMD/EnumConnection()=\"\" span=37ffa5c517c7898f:28c2e0aeb24ecf45:00535f3125250391:1"
time="2021-06-11T16:44:21Z" level=info msg=">><<-- request={} span=37ffa5c517c7898f:28c2e0aeb24ecf45:00535f3125250391:1"
time="2021-06-11T16:44:21Z" level=info msg=">><<-- response={\"workspace\":[\"nsm-25\",\"nsm-12\",\"nsm-20\"]} span=37ffa5c517c7898f:28c2e0aeb24ecf45:00535f3125250391:1"
2021/06/11 16:44:21 Reporting span 37ffa5c517c7898f:28c2e0aeb24ecf45:00535f3125250391:1
INFO: 2021/06/11 16:44:21 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:44:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:44:51Z" level=info msg=">><<-- GRPC->/nsmdapi.NSMD/EnumConnection()=\"\" span=1d13849c1b2ef702:40bd44d9609b0370:06ed7460f7c615a4:1"
time="2021-06-11T16:44:51Z" level=info msg=">><<-- request={} span=1d13849c1b2ef702:40bd44d9609b0370:06ed7460f7c615a4:1"
time="2021-06-11T16:44:51Z" level=info msg=">><<-- response={\"workspace\":[\"nsm-25\",\"nsm-12\",\"nsm-20\"]} span=1d13849c1b2ef702:40bd44d9609b0370:06ed7460f7c615a4:1"
2021/06/11 16:44:51 Reporting span 1d13849c1b2ef702:40bd44d9609b0370:06ed7460f7c615a4:1
INFO: 2021/06/11 16:44:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:45:21 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:45:21Z" level=info msg=">><<-- GRPC->/nsmdapi.NSMD/EnumConnection()=\"\" span=52b250571857a1c5:3c6a15508b590dde:3fb8f38316f15c19:1"
time="2021-06-11T16:45:21Z" level=info msg=">><<-- request={} span=52b250571857a1c5:3c6a15508b590dde:3fb8f38316f15c19:1"
time="2021-06-11T16:45:21Z" level=info msg=">><<-- response={\"workspace\":[\"nsm-12\",\"nsm-20\",\"nsm-25\"]} span=52b250571857a1c5:3c6a15508b590dde:3fb8f38316f15c19:1"
2021/06/11 16:45:21 Reporting span 52b250571857a1c5:3c6a15508b590dde:3fb8f38316f15c19:1
INFO: 2021/06/11 16:45:21 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:45:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:45:51Z" level=info msg=">><<-- GRPC->/nsmdapi.NSMD/EnumConnection()=\"\" span=2e7f22f0d7ef87cd:66e81aaa1965ccfd:0fc20e1065f0b480:1"
time="2021-06-11T16:45:51Z" level=info msg=">><<-- request={} span=2e7f22f0d7ef87cd:66e81aaa1965ccfd:0fc20e1065f0b480:1"
time="2021-06-11T16:45:51Z" level=info msg=">><<-- response={\"workspace\":[\"nsm-20\",\"nsm-25\",\"nsm-12\"]} span=2e7f22f0d7ef87cd:66e81aaa1965ccfd:0fc20e1065f0b480:1"
2021/06/11 16:45:51 Reporting span 2e7f22f0d7ef87cd:66e81aaa1965ccfd:0fc20e1065f0b480:1
INFO: 2021/06/11 16:45:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:46:21 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:46:21Z" level=info msg=">><<-- GRPC->/nsmdapi.NSMD/EnumConnection()=\"\" span=312c608c05fa99a3:685dd5d54b2db341:2c049f81be8a0f5f:1"
time="2021-06-11T16:46:21Z" level=info msg=">><<-- request={} span=312c608c05fa99a3:685dd5d54b2db341:2c049f81be8a0f5f:1"
time="2021-06-11T16:46:21Z" level=info msg=">><<-- response={\"workspace\":[\"nsm-12\",\"nsm-20\",\"nsm-25\"]} span=312c608c05fa99a3:685dd5d54b2db341:2c049f81be8a0f5f:1"
2021/06/11 16:46:21 Reporting span 312c608c05fa99a3:685dd5d54b2db341:2c049f81be8a0f5f:1
INFO: 2021/06/11 16:46:21 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:46:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:46:51Z" level=info msg=">><<-- GRPC->/nsmdapi.NSMD/EnumConnection()=\"\" span=661019b2b4a3bd5f:39b7934cb6961198:6367ed6295ad7891:1"
time="2021-06-11T16:46:51Z" level=info msg=">><<-- request={} span=661019b2b4a3bd5f:39b7934cb6961198:6367ed6295ad7891:1"
time="2021-06-11T16:46:51Z" level=info msg=">><<-- response={\"workspace\":[\"nsm-12\",\"nsm-20\",\"nsm-25\"]} span=661019b2b4a3bd5f:39b7934cb6961198:6367ed6295ad7891:1"
2021/06/11 16:46:51 Reporting span 661019b2b4a3bd5f:39b7934cb6961198:6367ed6295ad7891:1
INFO: 2021/06/11 16:46:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:47:21 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:47:21Z" level=info msg=">><<-- GRPC->/nsmdapi.NSMD/EnumConnection()=\"\" span=08c265b0572240ad:073081cf2389de6e:6743d6ade11fad58:1"
time="2021-06-11T16:47:21Z" level=info msg=">><<-- request={} span=08c265b0572240ad:073081cf2389de6e:6743d6ade11fad58:1"
time="2021-06-11T16:47:21Z" level=info msg=">><<-- response={\"workspace\":[\"nsm-12\",\"nsm-20\",\"nsm-25\"]} span=08c265b0572240ad:073081cf2389de6e:6743d6ade11fad58:1"
2021/06/11 16:47:21 Reporting span 08c265b0572240ad:073081cf2389de6e:6743d6ade11fad58:1
INFO: 2021/06/11 16:47:21 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:47:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:47:51Z" level=info msg=">><<-- GRPC->/nsmdapi.NSMD/EnumConnection()=\"\" span=3f53050cd8daff50:7f1fd7f95eb50dda:73fd4399efbd036b:1"
time="2021-06-11T16:47:51Z" level=info msg=">><<-- request={} span=3f53050cd8daff50:7f1fd7f95eb50dda:73fd4399efbd036b:1"
time="2021-06-11T16:47:51Z" level=info msg=">><<-- response={\"workspace\":[\"nsm-12\",\"nsm-20\",\"nsm-25\"]} span=3f53050cd8daff50:7f1fd7f95eb50dda:73fd4399efbd036b:1"
2021/06/11 16:47:51 Reporting span 3f53050cd8daff50:7f1fd7f95eb50dda:73fd4399efbd036b:1
INFO: 2021/06/11 16:47:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:48:21 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:48:21Z" level=info msg=">><<-- GRPC->/nsmdapi.NSMD/EnumConnection()=\"\" span=211dd47ac62b1680:20868bc3049f7e55:64372bdb2d80c448:1"
time="2021-06-11T16:48:21Z" level=info msg=">><<-- request={} span=211dd47ac62b1680:20868bc3049f7e55:64372bdb2d80c448:1"
time="2021-06-11T16:48:21Z" level=info msg=">><<-- response={\"workspace\":[\"nsm-12\",\"nsm-20\",\"nsm-25\"]} span=211dd47ac62b1680:20868bc3049f7e55:64372bdb2d80c448:1"
2021/06/11 16:48:21 Reporting span 211dd47ac62b1680:20868bc3049f7e55:64372bdb2d80c448:1
INFO: 2021/06/11 16:48:21 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:48:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:48:51Z" level=info msg=">><<-- GRPC->/nsmdapi.NSMD/EnumConnection()=\"\" span=77e68d9d57ad5752:13830670aa5f15d8:3a8ccd17e3024c26:1"
time="2021-06-11T16:48:51Z" level=info msg=">><<-- request={} span=77e68d9d57ad5752:13830670aa5f15d8:3a8ccd17e3024c26:1"
time="2021-06-11T16:48:51Z" level=info msg=">><<-- response={\"workspace\":[\"nsm-20\",\"nsm-25\",\"nsm-12\"]} span=77e68d9d57ad5752:13830670aa5f15d8:3a8ccd17e3024c26:1"
2021/06/11 16:48:51 Reporting span 77e68d9d57ad5752:13830670aa5f15d8:3a8ccd17e3024c26:1
INFO: 2021/06/11 16:48:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:49:21 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:49:21Z" level=info msg=">><<-- GRPC->/nsmdapi.NSMD/EnumConnection()=\"\" span=5b4c24b1c58130aa:72643b47952c47f0:5f8973cb23e2e9c4:1"
time="2021-06-11T16:49:21Z" level=info msg=">><<-- request={} span=5b4c24b1c58130aa:72643b47952c47f0:5f8973cb23e2e9c4:1"
time="2021-06-11T16:49:21Z" level=info msg=">><<-- response={\"workspace\":[\"nsm-12\",\"nsm-20\",\"nsm-25\"]} span=5b4c24b1c58130aa:72643b47952c47f0:5f8973cb23e2e9c4:1"
2021/06/11 16:49:21 Reporting span 5b4c24b1c58130aa:72643b47952c47f0:5f8973cb23e2e9c4:1
INFO: 2021/06/11 16:49:21 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:49:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:49:51Z" level=info msg=">><<-- GRPC->/nsmdapi.NSMD/EnumConnection()=\"\" span=323809d1c8253e87:09efa560a746ca98:5d77a7a88480cb38:1"
time="2021-06-11T16:49:51Z" level=info msg=">><<-- request={} span=323809d1c8253e87:09efa560a746ca98:5d77a7a88480cb38:1"
time="2021-06-11T16:49:51Z" level=info msg=">><<-- response={\"workspace\":[\"nsm-12\",\"nsm-20\",\"nsm-25\"]} span=323809d1c8253e87:09efa560a746ca98:5d77a7a88480cb38:1"
2021/06/11 16:49:51 Reporting span 323809d1c8253e87:09efa560a746ca98:5d77a7a88480cb38:1
INFO: 2021/06/11 16:49:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:50:21 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:50:21Z" level=info msg=">><<-- GRPC->/nsmdapi.NSMD/EnumConnection()=\"\" span=72126ad8cb521ca4:4c8e6f592057ad12:1bcc3b6b743fa175:1"
time="2021-06-11T16:50:21Z" level=info msg=">><<-- request={} span=72126ad8cb521ca4:4c8e6f592057ad12:1bcc3b6b743fa175:1"
time="2021-06-11T16:50:21Z" level=info msg=">><<-- response={\"workspace\":[\"nsm-25\",\"nsm-12\",\"nsm-20\"]} span=72126ad8cb521ca4:4c8e6f592057ad12:1bcc3b6b743fa175:1"
2021/06/11 16:50:21 Reporting span 72126ad8cb521ca4:4c8e6f592057ad12:1bcc3b6b743fa175:1
INFO: 2021/06/11 16:50:21 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:50:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:50:51Z" level=info msg=">><<-- GRPC->/nsmdapi.NSMD/EnumConnection()=\"\" span=16015fc30f36d1f1:43ae0a7dfd2dd3a8:5c031bdd90b8d31d:1"
time="2021-06-11T16:50:51Z" level=info msg=">><<-- request={} span=16015fc30f36d1f1:43ae0a7dfd2dd3a8:5c031bdd90b8d31d:1"
time="2021-06-11T16:50:51Z" level=info msg=">><<-- response={\"workspace\":[\"nsm-12\",\"nsm-20\",\"nsm-25\"]} span=16015fc30f36d1f1:43ae0a7dfd2dd3a8:5c031bdd90b8d31d:1"
2021/06/11 16:50:51 Reporting span 16015fc30f36d1f1:43ae0a7dfd2dd3a8:5c031bdd90b8d31d:1
INFO: 2021/06/11 16:50:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:51:21 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:51:21Z" level=info msg=">><<-- GRPC->/nsmdapi.NSMD/EnumConnection()=\"\" span=4ed87dea6fc8360c:5388f135a904e61f:5ead9ca60b39bde4:1"
time="2021-06-11T16:51:21Z" level=info msg=">><<-- request={} span=4ed87dea6fc8360c:5388f135a904e61f:5ead9ca60b39bde4:1"
time="2021-06-11T16:51:21Z" level=info msg=">><<-- response={\"workspace\":[\"nsm-12\",\"nsm-20\",\"nsm-25\"]} span=4ed87dea6fc8360c:5388f135a904e61f:5ead9ca60b39bde4:1"
2021/06/11 16:51:21 Reporting span 4ed87dea6fc8360c:5388f135a904e61f:5ead9ca60b39bde4:1
INFO: 2021/06/11 16:51:21 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:51:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:51:51Z" level=info msg=">><<-- GRPC->/nsmdapi.NSMD/EnumConnection()=\"\" span=4720a8f66ebe6fa8:7777b7cf18f6f72a:5b660d357a8569d8:1"
time="2021-06-11T16:51:51Z" level=info msg=">><<-- request={} span=4720a8f66ebe6fa8:7777b7cf18f6f72a:5b660d357a8569d8:1"
time="2021-06-11T16:51:51Z" level=info msg=">><<-- response={\"workspace\":[\"nsm-20\",\"nsm-25\",\"nsm-12\"]} span=4720a8f66ebe6fa8:7777b7cf18f6f72a:5b660d357a8569d8:1"
2021/06/11 16:51:51 Reporting span 4720a8f66ebe6fa8:7777b7cf18f6f72a:5b660d357a8569d8:1
INFO: 2021/06/11 16:51:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:52:21 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:52:21Z" level=info msg=">><<-- GRPC->/nsmdapi.NSMD/EnumConnection()=\"\" span=16fad8d70956fc80:423b872502c13acc:755aa9df01598ee9:1"
time="2021-06-11T16:52:21Z" level=info msg=">><<-- request={} span=16fad8d70956fc80:423b872502c13acc:755aa9df01598ee9:1"
time="2021-06-11T16:52:21Z" level=info msg=">><<-- response={\"workspace\":[\"nsm-12\",\"nsm-20\",\"nsm-25\"]} span=16fad8d70956fc80:423b872502c13acc:755aa9df01598ee9:1"
2021/06/11 16:52:21 Reporting span 16fad8d70956fc80:423b872502c13acc:755aa9df01598ee9:1
INFO: 2021/06/11 16:52:21 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:52:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:52:51Z" level=info msg=">><<-- GRPC->/nsmdapi.NSMD/EnumConnection()=\"\" span=6ced701fbf21b960:2c948aa9227c6200:2678826514f0c9c3:1"
time="2021-06-11T16:52:51Z" level=info msg=">><<-- request={} span=6ced701fbf21b960:2c948aa9227c6200:2678826514f0c9c3:1"
time="2021-06-11T16:52:51Z" level=info msg=">><<-- response={\"workspace\":[\"nsm-12\",\"nsm-20\",\"nsm-25\"]} span=6ced701fbf21b960:2c948aa9227c6200:2678826514f0c9c3:1"
2021/06/11 16:52:51 Reporting span 6ced701fbf21b960:2c948aa9227c6200:2678826514f0c9c3:1
INFO: 2021/06/11 16:52:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:53:21 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:53:21Z" level=info msg=">><<-- GRPC->/nsmdapi.NSMD/EnumConnection()=\"\" span=52f681ff11c9486d:35b2b45b34b4ca13:47adb5be256f1d0e:1"
time="2021-06-11T16:53:21Z" level=info msg=">><<-- request={} span=52f681ff11c9486d:35b2b45b34b4ca13:47adb5be256f1d0e:1"
time="2021-06-11T16:53:21Z" level=info msg=">><<-- response={\"workspace\":[\"nsm-12\",\"nsm-20\",\"nsm-25\"]} span=52f681ff11c9486d:35b2b45b34b4ca13:47adb5be256f1d0e:1"
2021/06/11 16:53:21 Reporting span 52f681ff11c9486d:35b2b45b34b4ca13:47adb5be256f1d0e:1
INFO: 2021/06/11 16:53:21 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:53:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:53:51Z" level=info msg=">><<-- GRPC->/nsmdapi.NSMD/EnumConnection()=\"\" span=0cf152d669ee0d16:473b046b62be7c1f:178ccf3a7c147158:1"
time="2021-06-11T16:53:51Z" level=info msg=">><<-- request={} span=0cf152d669ee0d16:473b046b62be7c1f:178ccf3a7c147158:1"
time="2021-06-11T16:53:51Z" level=info msg=">><<-- response={\"workspace\":[\"nsm-25\",\"nsm-12\",\"nsm-20\"]} span=0cf152d669ee0d16:473b046b62be7c1f:178ccf3a7c147158:1"
2021/06/11 16:53:51 Reporting span 0cf152d669ee0d16:473b046b62be7c1f:178ccf3a7c147158:1
INFO: 2021/06/11 16:53:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:54:21 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:54:21Z" level=info msg=">><<-- GRPC->/nsmdapi.NSMD/EnumConnection()=\"\" span=1b743faee114f047:09e9b71e74a529ef:367ae49efe6a74df:1"
time="2021-06-11T16:54:21Z" level=info msg=">><<-- request={} span=1b743faee114f047:09e9b71e74a529ef:367ae49efe6a74df:1"
time="2021-06-11T16:54:21Z" level=info msg=">><<-- response={\"workspace\":[\"nsm-12\",\"nsm-20\",\"nsm-25\"]} span=1b743faee114f047:09e9b71e74a529ef:367ae49efe6a74df:1"
2021/06/11 16:54:21 Reporting span 1b743faee114f047:09e9b71e74a529ef:367ae49efe6a74df:1
INFO: 2021/06/11 16:54:21 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:54:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:54:51Z" level=info msg=">><<-- GRPC->/nsmdapi.NSMD/EnumConnection()=\"\" span=2fa3b4a650c359ef:4f3c351ddb2088fc:2d5494e29b9a3f11:1"
time="2021-06-11T16:54:51Z" level=info msg=">><<-- request={} span=2fa3b4a650c359ef:4f3c351ddb2088fc:2d5494e29b9a3f11:1"
time="2021-06-11T16:54:51Z" level=info msg=">><<-- response={\"workspace\":[\"nsm-12\",\"nsm-20\",\"nsm-25\"]} span=2fa3b4a650c359ef:4f3c351ddb2088fc:2d5494e29b9a3f11:1"
2021/06/11 16:54:51 Reporting span 2fa3b4a650c359ef:4f3c351ddb2088fc:2d5494e29b9a3f11:1
INFO: 2021/06/11 16:54:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:55:21 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:55:21Z" level=info msg=">><<-- GRPC->/nsmdapi.NSMD/EnumConnection()=\"\" span=0367361d6409255a:6c3db4a1796119f8:6b69e0cd067aa365:1"
time="2021-06-11T16:55:21Z" level=info msg=">><<-- request={} span=0367361d6409255a:6c3db4a1796119f8:6b69e0cd067aa365:1"
time="2021-06-11T16:55:21Z" level=info msg=">><<-- response={\"workspace\":[\"nsm-20\",\"nsm-25\",\"nsm-12\"]} span=0367361d6409255a:6c3db4a1796119f8:6b69e0cd067aa365:1"
2021/06/11 16:55:21 Reporting span 0367361d6409255a:6c3db4a1796119f8:6b69e0cd067aa365:1
INFO: 2021/06/11 16:55:21 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:55:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:55:51Z" level=info msg=">><<-- GRPC->/nsmdapi.NSMD/EnumConnection()=\"\" span=6ba407845a7f0bc5:027f03b410cb6337:3a6315b4e075b630:1"
time="2021-06-11T16:55:51Z" level=info msg=">><<-- request={} span=6ba407845a7f0bc5:027f03b410cb6337:3a6315b4e075b630:1"
time="2021-06-11T16:55:51Z" level=info msg=">><<-- response={\"workspace\":[\"nsm-25\",\"nsm-12\",\"nsm-20\"]} span=6ba407845a7f0bc5:027f03b410cb6337:3a6315b4e075b630:1"
2021/06/11 16:55:51 Reporting span 6ba407845a7f0bc5:027f03b410cb6337:3a6315b4e075b630:1
INFO: 2021/06/11 16:55:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:56:21 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:56:21Z" level=info msg=">><<-- GRPC->/nsmdapi.NSMD/EnumConnection()=\"\" span=595135795f1b150c:0b30fa5cb0609ffb:369ca9c168164a3a:1"
time="2021-06-11T16:56:21Z" level=info msg=">><<-- request={} span=595135795f1b150c:0b30fa5cb0609ffb:369ca9c168164a3a:1"
time="2021-06-11T16:56:21Z" level=info msg=">><<-- response={\"workspace\":[\"nsm-12\",\"nsm-20\",\"nsm-25\"]} span=595135795f1b150c:0b30fa5cb0609ffb:369ca9c168164a3a:1"
2021/06/11 16:56:21 Reporting span 595135795f1b150c:0b30fa5cb0609ffb:369ca9c168164a3a:1
INFO: 2021/06/11 16:56:21 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:56:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:56:51Z" level=info msg=">><<-- GRPC->/nsmdapi.NSMD/EnumConnection()=\"\" span=223999ce214d481a:38801c8537a65b14:7e2ee9ff8f8658be:1"
time="2021-06-11T16:56:51Z" level=info msg=">><<-- request={} span=223999ce214d481a:38801c8537a65b14:7e2ee9ff8f8658be:1"
time="2021-06-11T16:56:51Z" level=info msg=">><<-- response={\"workspace\":[\"nsm-20\",\"nsm-25\",\"nsm-12\"]} span=223999ce214d481a:38801c8537a65b14:7e2ee9ff8f8658be:1"
2021/06/11 16:56:51 Reporting span 223999ce214d481a:38801c8537a65b14:7e2ee9ff8f8658be:1
INFO: 2021/06/11 16:56:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
==== END logs for container nsmd of pod nsm-system/nsmgr-cloudtest-kind-8a1853245b-worker ====
==== START logs for container nsmd-k8s of pod nsm-system/nsmgr-cloudtest-kind-8a1853245b-worker ====
time="2021-06-11T16:43:50Z" level=info msg="Starting nsmd-k8s..."
time="2021-06-11T16:43:50Z" level=info msg="Version: v1.0.1-rc.2-6-g1beae399"
time="2021-06-11T16:43:50Z" level=info msg="All env variables:"
time="2021-06-11T16:43:50Z" level=info msg="KUBERNETES_PORT=tcp://10.96.0.1:443"
time="2021-06-11T16:43:50Z" level=info msg="KUBERNETES_SERVICE_PORT=443"
time="2021-06-11T16:43:50Z" level=info msg="GRPC_GO_LOG_VERBOSITY_LEVEL=99"
time="2021-06-11T16:43:50Z" level=info msg="HOSTNAME=nsmgr-cloudtest-kind-8a1853245b-worker"
time="2021-06-11T16:43:50Z" level=info msg="GRPC_GO_LOG_SEVERITY_LEVEL=info"
time="2021-06-11T16:43:50Z" level=info msg="SHLVL=1"
time="2021-06-11T16:43:50Z" level=info msg="HOME=/root"
time="2021-06-11T16:43:50Z" level=info msg="NSM_NAMESPACE=nsm-system"
time="2021-06-11T16:43:50Z" level=info msg="NODE_NAME=cloudtest-kind-8a1853245b-worker"
time="2021-06-11T16:43:50Z" level=info msg="POD_NAME=nsmgr-cloudtest-kind-8a1853245b-worker"
time="2021-06-11T16:43:50Z" level=info msg="KUBERNETES_PORT_443_TCP_ADDR=10.96.0.1"
time="2021-06-11T16:43:50Z" level=info msg="PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"
time="2021-06-11T16:43:50Z" level=info msg="KUBERNETES_PORT_443_TCP_PORT=443"
time="2021-06-11T16:43:50Z" level=info msg="KUBERNETES_PORT_443_TCP_PROTO=tcp"
time="2021-06-11T16:43:50Z" level=info msg="ENTRY=nsmd-k8s"
time="2021-06-11T16:43:50Z" level=info msg="KUBERNETES_PORT_443_TCP=tcp://10.96.0.1:443"
time="2021-06-11T16:43:50Z" level=info msg="KUBERNETES_SERVICE_PORT_HTTPS=443"
time="2021-06-11T16:43:50Z" level=info msg="NSMD_LOCAL_REGISTRY_DELETE=false"
time="2021-06-11T16:43:50Z" level=info msg="KUBERNETES_SERVICE_HOST=10.96.0.1"
time="2021-06-11T16:43:50Z" level=info msg="PWD=/"
time="2021-06-11T16:43:50Z" level=info msg="POD_UID=e29b54e9-9bda-4481-b7cb-a83714011466"
time="2021-06-11T16:43:50Z" level=info msg="Creating logger from config: &{nsmd-k8s@nsmgr-cloudtest-kind-8a1853245b-worker false false [] 0xc0001840c0 0xc000194000 <nil> <nil> <nil>}"
2021/06/11 16:43:50 debug logging disabled
2021/06/11 16:43:50 Initializing logging reporter
2021/06/11 16:43:50 debug logging disabled
time="2021-06-11T16:43:50Z" level=info msg="==--> Start-NSMD-k8s() span:5ac6be9ac58bedf5:5ac6be9ac58bedf5:0000000000000000:1"
time="2021-06-11T16:43:50Z" level=info msg=">><<-- address=\"0.0.0.0:5000\" span=5ac6be9ac58bedf5:5ac6be9ac58bedf5:0000000000000000:1"
time="2021-06-11T16:43:50Z" level=info msg=">><<-- nsmName=\"cloudtest-kind-8a1853245b-worker\" span=5ac6be9ac58bedf5:5ac6be9ac58bedf5:0000000000000000:1"
time="2021-06-11T16:43:50Z" level=info msg=">><<-- NODE_NAME=cloudtest-kind-8a1853245b-worker span=5ac6be9ac58bedf5:5ac6be9ac58bedf5:0000000000000000:1"
time="2021-06-11T16:43:50Z" level=info msg="Starting NSMD Kubernetes on 0.0.0.0:5000 with NsmName cloudtest-kind-8a1853245b-worker" operation=Start-NSMD-k8s span="5ac6be9ac58bedf5:5ac6be9ac58bedf5:0000000000000000:1"
time="2021-06-11T16:43:50Z" level=info msg="==----> K8SServer.New() span:5ac6be9ac58bedf5:614bfadc73cf490f:5ac6be9ac58bedf5:1"
time="2021-06-11T16:43:50Z" level=info msg="==------> NewServer() span:5ac6be9ac58bedf5:69795464068c95a8:614bfadc73cf490f:1"
time="2021-06-11T16:43:50Z" level=info msg="Establish connection with the spire provider at address:unix:///run/spire/sockets/agent.sock"
INFO: 2021/06/11 16:43:50 [core] parsed scheme: "unix"
INFO: 2021/06/11 16:43:50 [core] ccResolverWrapper: sending update to cc: {[{/run/spire/sockets/agent.sock  0xc0001820c0 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:43:50 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:43:50 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:43:50 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:50 [core] Subchannel picks a new address "/run/spire/sockets/agent.sock" to connect
INFO: 2021/06/11 16:43:50 [core] pickfirstBalancer: UpdateSubConnState: 0xc0004419d0, {CONNECTING <nil>}
INFO: 2021/06/11 16:43:50 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:50 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:43:50 [core] pickfirstBalancer: UpdateSubConnState: 0xc0004419d0, {READY <nil>}
INFO: 2021/06/11 16:43:50 [core] Channel Connectivity change to READY
time="2021-06-11T16:43:51Z" level=info msg="Got x509:&{0xc0002127e0 <nil> {{0 0} 0 0 0 0} 0xc00048bae0 0xc00020b360 {{0 0} 0 0 0 0} false} <nil>"
time="2021-06-11T16:43:51Z" level=info msg="GRPC.NewServer with open tracing enabled" operation=NewServer span="5ac6be9ac58bedf5:69795464068c95a8:614bfadc73cf490f:1"
time="2021-06-11T16:43:51Z" level=info msg="==--------> GetCertificate() span:5ac6be9ac58bedf5:07354e55da3eb520:69795464068c95a8:1"
INFO: 2021/06/11 16:43:51 [core] parsed scheme: "unix"
INFO: 2021/06/11 16:43:51 [core] ccResolverWrapper: sending update to cc: {[{/run/spire/sockets/agent.sock  0xc000182178 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:43:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:43:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to CONNECTING
time="2021-06-11T16:43:51Z" level=info msg="Issued identity:spiffe://test.com/nsmgr"
INFO: 2021/06/11 16:43:51 [core] blockingPicker: the picked transport is not ready, loop back to repick
INFO: 2021/06/11 16:43:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc00022a550, {CONNECTING <nil>}
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:51 [core] Subchannel picks a new address "/run/spire/sockets/agent.sock" to connect
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:43:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc00022a550, {READY <nil>}
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to READY
INFO: 2021/06/11 16:43:51 [core] parsed scheme: "unix"
INFO: 2021/06/11 16:43:51 [core] ccResolverWrapper: sending update to cc: {[{/run/spire/sockets/agent.sock  0xc0001821f8 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:43:51 [core] ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:43:51 [core] Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc00022b180, {CONNECTING <nil>}
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:43:51 [core] Subchannel picks a new address "/run/spire/sockets/agent.sock" to connect
INFO: 2021/06/11 16:43:51 [core] Subchannel Connectivity change to READY
INFO: 2021/06/11 16:43:51 [core] pickfirstBalancer: UpdateSubConnState: 0xc00022b180, {READY <nil>}
INFO: 2021/06/11 16:43:51 [core] Channel Connectivity change to READY
time="2021-06-11T16:43:51Z" level=info msg="SPIRE -- GetX509SVID:&{spiffe://test.com/nsmgr [0xc0004c1180] 0xc000242930}"
time="2021-06-11T16:43:51Z" level=info msg="Default trust domain:test.com"
time="2021-06-11T16:43:51Z" level=info msg="defaultTrustDomain:test.com"
time="2021-06-11T16:43:51Z" level=info msg="AUTHORIZING ALL CLIENTS"
time="2021-06-11T16:43:51Z" level=info msg="Server will be started in secure mode using tlsConfig:&{<nil> <nil> [] map[] 0x99b800 <nil> <nil> 0x99b900 <nil> <nil> []  RequireAnyClientCert <nil> false [] false false [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] <nil> 0 0 [] false 0 <nil> {{0 0} 0 0 0 0} [] []}"
2021/06/11 16:43:51 Reporting span 5ac6be9ac58bedf5:07354e55da3eb520:69795464068c95a8:1
2021/06/11 16:43:51 Reporting span 5ac6be9ac58bedf5:69795464068c95a8:614bfadc73cf490f:1
time="2021-06-11T16:43:51Z" level=info msg="Replacing Network services with: []"
time="2021-06-11T16:43:51Z" level=info msg="Replacing Network service endpoints with: [{{NetworkServiceEndpoint networkservicemesh.io/v1alpha1} {icmp-responderm4v59 icmp-responder nsm-system /apis/networkservicemesh.io/v1alpha1/namespaces/nsm-system/networkserviceendpoints/icmp-responderm4v59 0b356684-3e5f-452b-983d-053d5beec3e6 2634 1 2021-06-11 16:43:27 +0000 UTC <nil> <nil> map[app:icmp networkservicename:icmp-responder] map[] [] []  []} {icmp-responder IP cloudtest-kind-8a1853245b-worker} {RUNNING}}]"
time="2021-06-11T16:43:51Z" level=info msg="Add from k8s-registry: *v1alpha1.NetworkServiceEndpoint"
time="2021-06-11T16:43:51Z" level=info msg="Replacing Network service endpoints with: []"
time="2021-06-11T16:43:51Z" level=info msg="RegistryCache started" operation=K8SServer.New span="5ac6be9ac58bedf5:614bfadc73cf490f:5ac6be9ac58bedf5:1"
2021/06/11 16:43:51 Reporting span 5ac6be9ac58bedf5:614bfadc73cf490f:5ac6be9ac58bedf5:1
time="2021-06-11T16:43:51Z" level=info msg="nsmd-k8s initialized and waiting for connection" operation=Start-NSMD-k8s span="5ac6be9ac58bedf5:5ac6be9ac58bedf5:0000000000000000:1"
2021/06/11 16:43:51 Reporting span 5ac6be9ac58bedf5:5ac6be9ac58bedf5:0000000000000000:1
WARNING: 2021/06/11 16:43:51 [core] grpc: Server.Serve failed to complete security handshake from "127.0.0.1:33740": EOF
INFO: 2021/06/11 16:43:51 [transport] transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:43:51Z" level=info msg=">><<-- GRPC->/registry.NsmRegistry/RegisterNSM()=\"\" span=7d8a699e87e9f7a2:584d5e7a7d4bd0cd:637c1f767c2dcfa7:1"
time="2021-06-11T16:43:51Z" level=info msg=">><<-- request={\"url\":\"10.244.2.21:5001\"} span=7d8a699e87e9f7a2:584d5e7a7d4bd0cd:637c1f767c2dcfa7:1"
time="2021-06-11T16:43:51Z" level=info msg="==--> RegisterNSM() span:7d8a699e87e9f7a2:0eae0c5173250618:584d5e7a7d4bd0cd:1"
time="2021-06-11T16:43:51Z" level=info msg=">><<-- nsm={\"url\":\"10.244.2.21:5001\"} span=7d8a699e87e9f7a2:0eae0c5173250618:584d5e7a7d4bd0cd:1"
time="2021-06-11T16:43:51Z" level=info msg=">><<-- nsm-cr={\"metadata\":{\"name\":\"cloudtest-kind-8a1853245b-worker\",\"creationTimestamp\":null,\"ownerReferences\":[{\"apiVersion\":\"v1\",\"kind\":\"Pod\",\"name\":\"nsmgr-cloudtest-kind-8a1853245b-worker\",\"uid\":\"e29b54e9-9bda-4481-b7cb-a83714011466\",\"controller\":true,\"blockOwnerDeletion\":false}]},\"spec\":{\"url\":\"10.244.2.21:5001\",\"expirationtime\":\"2021-06-11T16:43:51Z\"},\"status\":{\"state\":\"RUNNING\"}} span=7d8a699e87e9f7a2:0eae0c5173250618:584d5e7a7d4bd0cd:1"
time="2021-06-11T16:43:51Z" level=info msg="CreateOrUpdateNSM attempt 0: "
time="2021-06-11T16:43:51Z" level=info msg="Creating NSM: &{{ } {cloudtest-kind-8a1853245b-worker      0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [{v1 Pod nsmgr-cloudtest-kind-8a1853245b-worker e29b54e9-9bda-4481-b7cb-a83714011466 0xc000260cb8 0xc000260cb9}] []  []} {10.244.2.21:5001 2021-06-11 16:43:51.4857694 +0000 UTC m=+0.976222801} {RUNNING}}"
time="2021-06-11T16:43:51Z" level=info msg="NetworkServiceManagerCache.Add(&{{ } {cloudtest-kind-8a1853245b-worker  nsm-system /apis/networkservicemesh.io/v1alpha1/namespaces/nsm-system/networkservicemanagers/cloudtest-kind-8a1853245b-worker c3b1b322-cade-4163-86a1-20dcb0d01633 2738 1 2021-06-11 16:43:51 +0000 UTC <nil> <nil> map[] map[] [{v1 Pod nsmgr-cloudtest-kind-8a1853245b-worker e29b54e9-9bda-4481-b7cb-a83714011466 0xc0001294cd 0xc0001294cc}] []  []} {10.244.2.21:5001 2021-06-11 16:43:51 +0000 UTC} {RUNNING}})"
time="2021-06-11T16:43:51Z" level=info msg=">><<-- registered-nsm={\"metadata\":{\"name\":\"cloudtest-kind-8a1853245b-worker\",\"namespace\":\"nsm-system\",\"selfLink\":\"/apis/networkservicemesh.io/v1alpha1/namespaces/nsm-system/networkservicemanagers/cloudtest-kind-8a1853245b-worker\",\"uid\":\"c3b1b322-cade-4163-86a1-20dcb0d01633\",\"resourceVersion\":\"2738\",\"generation\":1,\"creationTimestamp\":\"2021-06-11T16:43:51Z\",\"ownerReferences\":[{\"apiVersion\":\"v1\",\"kind\":\"Pod\",\"name\":\"nsmgr-cloudtest-kind-8a1853245b-worker\",\"uid\":\"e29b54e9-9bda-4481-b7cb-a83714011466\",\"controller\":true,\"blockOwnerDeletion\":false}]},\"spec\":{\"url\":\"10.244.2.21:5001\",\"expirationtime\":\"2021-06-11T16:43:51Z\"},\"status\":{\"state\":\"RUNNING\"}} span=7d8a699e87e9f7a2:0eae0c5173250618:584d5e7a7d4bd0cd:1"
time="2021-06-11T16:43:51Z" level=info msg=">><<-- response={\"name\":\"cloudtest-kind-8a1853245b-worker\",\"url\":\"10.244.2.21:5001\",\"state\":\"RUNNING\"} span=7d8a699e87e9f7a2:0eae0c5173250618:584d5e7a7d4bd0cd:1"
2021/06/11 16:43:51 Reporting span 7d8a699e87e9f7a2:0eae0c5173250618:584d5e7a7d4bd0cd:1
time="2021-06-11T16:43:51Z" level=info msg="Start apply filter by namespace nsm-system for &{{ } {cloudtest-kind-8a1853245b-worker  nsm-system /apis/networkservicemesh.io/v1alpha1/namespaces/nsm-system/networkservicemanagers/cloudtest-kind-8a1853245b-worker c3b1b322-cade-4163-86a1-20dcb0d01633 2738 1 2021-06-11 16:43:51 +0000 UTC <nil> <nil> map[] map[] [{v1 Pod nsmgr-cloudtest-kind-8a1853245b-worker e29b54e9-9bda-4481-b7cb-a83714011466 0xc00004257d 0xc00004257c}] []  []} {10.244.2.21:5001 2021-06-11 16:43:51 +0000 UTC} {RUNNING}}"
time="2021-06-11T16:43:51Z" level=info msg=">><<-- response={\"name\":\"cloudtest-kind-8a1853245b-worker\",\"url\":\"10.244.2.21:5001\",\"state\":\"RUNNING\"} span=7d8a699e87e9f7a2:584d5e7a7d4bd0cd:637c1f767c2dcfa7:1"
time="2021-06-11T16:43:51Z" level=info msg="Add from k8s-registry: *v1alpha1.NetworkServiceManager"
2021/06/11 16:43:51 Reporting span 7d8a699e87e9f7a2:584d5e7a7d4bd0cd:637c1f767c2dcfa7:1
time="2021-06-11T16:43:51Z" level=info msg="NetworkServiceManagerCache.Added(&{{ } {cloudtest-kind-8a1853245b-worker  nsm-system /apis/networkservicemesh.io/v1alpha1/namespaces/nsm-system/networkservicemanagers/cloudtest-kind-8a1853245b-worker c3b1b322-cade-4163-86a1-20dcb0d01633 2738 1 2021-06-11 16:43:51 +0000 UTC <nil> <nil> map[] map[] [{v1 Pod nsmgr-cloudtest-kind-8a1853245b-worker e29b54e9-9bda-4481-b7cb-a83714011466 0xc0001294cd 0xc0001294cc}] []  []} {10.244.2.21:5001 2021-06-11 16:43:51 +0000 UTC} {RUNNING}})"
time="2021-06-11T16:43:51Z" level=info msg="NetworkServiceManagerCache.Added(&{{ } {cloudtest-kind-8a1853245b-worker  nsm-system /apis/networkservicemesh.io/v1alpha1/namespaces/nsm-system/networkservicemanagers/cloudtest-kind-8a1853245b-worker c3b1b322-cade-4163-86a1-20dcb0d01633 2738 1 2021-06-11 16:43:51 +0000 UTC <nil> <nil> map[] map[] [{v1 Pod nsmgr-cloudtest-kind-8a1853245b-worker e29b54e9-9bda-4481-b7cb-a83714011466 0xc00004257d 0xc00004257c}] []  []} {10.244.2.21:5001 2021-06-11 16:43:51 +0000 UTC} {RUNNING}})"
time="2021-06-11T16:43:51Z" level=info msg=">><<-- GRPC->/registry.NsmRegistry/GetEndpoints()=\"\" span=7d8a699e87e9f7a2:20ca71eca34da794:53fbc35e74f41032:1"
time="2021-06-11T16:43:51Z" level=info msg=">><<-- request={} span=7d8a699e87e9f7a2:20ca71eca34da794:53fbc35e74f41032:1"
time="2021-06-11T16:43:51Z" level=info msg="Received GetEndpoints"
time="2021-06-11T16:43:51Z" level=info msg="GetEndpoints return: [name:\"icmp-responderm4v59\" payload:\"IP\" network_service_name:\"icmp-responder\" network_service_manager_name:\"cloudtest-kind-8a1853245b-worker\" labels:<key:\"app\" value:\"icmp\" > labels:<key:\"networkservicename\" value:\"icmp-responder\" > state:\"RUNNING\" ]"
time="2021-06-11T16:43:51Z" level=info msg=">><<-- response={\"network_service_endpoints\":[{\"name\":\"icmp-responderm4v59\",\"payload\":\"IP\",\"network_service_name\":\"icmp-responder\",\"network_service_manager_name\":\"cloudtest-kind-8a1853245b-worker\",\"labels\":{\"app\":\"icmp\",\"networkservicename\":\"icmp-responder\"},\"state\":\"RUNNING\"}]} span=7d8a699e87e9f7a2:20ca71eca34da794:53fbc35e74f41032:1"
2021/06/11 16:43:51 Reporting span 7d8a699e87e9f7a2:20ca71eca34da794:53fbc35e74f41032:1
==== END logs for container nsmd-k8s of pod nsm-system/nsmgr-cloudtest-kind-8a1853245b-worker ====
