==== START logs for container icmp-responder-nse-2 of pod nsm-system/icmp-responder-nse-2 ====
time="2021-06-11T16:16:44Z" level=info msg="Starting icmp-responder-nse..."
time="2021-06-11T16:16:44Z" level=info msg="Version: v1.0.1-rc.2-1-gb860d0da"
time="2021-06-11T16:16:44Z" level=info msg="All env variables:"
time="2021-06-11T16:16:44Z" level=info msg="PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"
time="2021-06-11T16:16:44Z" level=info msg="HOSTNAME=icmp-responder-nse-2"
time="2021-06-11T16:16:44Z" level=info msg="GRPC_GO_LOG_VERBOSITY_LEVEL=99"
time="2021-06-11T16:16:44Z" level=info msg="GRPC_GO_LOG_SEVERITY_LEVEL=info"
time="2021-06-11T16:16:44Z" level=info msg="ENTRY=test-common"
time="2021-06-11T16:16:44Z" level=info msg="WORKSPACE=/var/lib/networkservicemesh/"
time="2021-06-11T16:16:44Z" level=info msg="NSM_CLIENT_SOCKET=/var/lib/networkservicemesh/nsm.client.io.sock"
time="2021-06-11T16:16:44Z" level=info msg="NSM_SERVER_SOCKET=/var/lib/networkservicemesh/nsm.server.io.sock"
time="2021-06-11T16:16:44Z" level=info msg="NSM_DEVICE_PLUGIN=true"
time="2021-06-11T16:16:44Z" level=info msg="ENDPOINT_LABELS=app=icmp"
time="2021-06-11T16:16:44Z" level=info msg="IP_ADDRESS=172.16.1.0/24"
time="2021-06-11T16:16:44Z" level=info msg="ENDPOINT_NETWORK_SERVICE=icmp-responder"
time="2021-06-11T16:16:44Z" level=info msg="KUBERNETES_PORT=tcp://10.96.0.1:443"
time="2021-06-11T16:16:44Z" level=info msg="KUBERNETES_PORT_443_TCP=tcp://10.96.0.1:443"
time="2021-06-11T16:16:44Z" level=info msg="KUBERNETES_PORT_443_TCP_PROTO=tcp"
time="2021-06-11T16:16:44Z" level=info msg="KUBERNETES_PORT_443_TCP_PORT=443"
time="2021-06-11T16:16:44Z" level=info msg="KUBERNETES_PORT_443_TCP_ADDR=10.96.0.1"
time="2021-06-11T16:16:44Z" level=info msg="KUBERNETES_SERVICE_HOST=10.96.0.1"
time="2021-06-11T16:16:44Z" level=info msg="KUBERNETES_SERVICE_PORT=443"
time="2021-06-11T16:16:44Z" level=info msg="KUBERNETES_SERVICE_PORT_HTTPS=443"
time="2021-06-11T16:16:44Z" level=info msg="HOME=/root"
time="2021-06-11T16:16:44Z" level=info msg="nsmServerSocket: /var/lib/networkservicemesh/nsm.server.io.sock"
time="2021-06-11T16:16:44Z" level=info msg="nsmClientSocket: /var/lib/networkservicemesh/nsm.client.io.sock"
time="2021-06-11T16:16:44Z" level=info msg="workspace: /var/lib/networkservicemesh/"
time="2021-06-11T16:16:44Z" level=info msg="Advertise Network Service Name: icmp-responder"
time="2021-06-11T16:16:44Z" level=info msg="CLIENT_NETWORK_SERVICE not found."
time="2021-06-11T16:16:44Z" level=info msg="Advertise labels: app=icmp"
time="2021-06-11T16:16:44Z" level=info msg="CLIENT_LABELS not found."
time="2021-06-11T16:16:44Z" level=info msg="NSC_INTERFACE_NAME not found."
time="2021-06-11T16:16:44Z" level=info msg="MECHANISM_TYPE not found."
time="2021-06-11T16:16:44Z" level=info msg="IP Address: 172.16.1.0/24"
time="2021-06-11T16:16:44Z" level=info msg="POD_NAME not found."
time="2021-06-11T16:16:44Z" level=info msg="NSM_NAMESPACE not found."
time="2021-06-11T16:16:44Z" level=info msg="ROUTES not found."
time="2021-06-11T16:16:44Z" level=info msg="Adding routes endpoint to chain"
time="2021-06-11T16:16:44Z" level=info msg="EndpointConnection - Serve starting..."
INFO: 2021/06/11 16:16:44 parsed scheme: "unix"
INFO: 2021/06/11 16:16:44 scheme "unix" not registered, fallback to default scheme
INFO: 2021/06/11 16:16:44 ccResolverWrapper: sending update to cc: {[{unix:///run/spire/sockets/agent.sock  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:16:44 ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:16:44 Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:16:44 Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:16:44 blockingPicker: the picked transport is not ready, loop back to repick
INFO: 2021/06/11 16:16:44 Subchannel picks a new address "unix:///run/spire/sockets/agent.sock" to connect
INFO: 2021/06/11 16:16:44 pickfirstBalancer: HandleSubConnStateChange: 0xc000330830, {CONNECTING <nil>}
INFO: 2021/06/11 16:16:44 Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:16:44 Subchannel Connectivity change to READY
INFO: 2021/06/11 16:16:44 pickfirstBalancer: HandleSubConnStateChange: 0xc000330830, {READY <nil>}
INFO: 2021/06/11 16:16:44 Channel Connectivity change to READY
INFO: 2021/06/11 16:16:45 parsed scheme: ""
INFO: 2021/06/11 16:16:45 scheme "" not registered, fallback to default scheme
INFO: 2021/06/11 16:16:45 ccResolverWrapper: sending update to cc: {[{/var/lib/networkservicemesh/nsm.server.io.sock  <nil> 0 <nil>}] <nil> <nil>}
INFO: 2021/06/11 16:16:45 ClientConn switching balancer to "pick_first"
INFO: 2021/06/11 16:16:45 Channel switches to new LB policy "pick_first"
INFO: 2021/06/11 16:16:45 Subchannel Connectivity change to CONNECTING
time="2021-06-11T16:16:45Z" level=info msg="Issued certificate with id: spiffe://test.com/nse"
INFO: 2021/06/11 16:16:45 Subchannel picks a new address "/var/lib/networkservicemesh/nsm.server.io.sock" to connect
INFO: 2021/06/11 16:16:45 pickfirstBalancer: HandleSubConnStateChange: 0xc000331640, {CONNECTING <nil>}
INFO: 2021/06/11 16:16:45 Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:16:45 Subchannel Connectivity change to READY
INFO: 2021/06/11 16:16:45 pickfirstBalancer: HandleSubConnStateChange: 0xc000331640, {READY <nil>}
INFO: 2021/06/11 16:16:45 Channel Connectivity change to READY
time="2021-06-11T16:16:45Z" level=info msg="nsm: connection to nsm server on socket: /var/lib/networkservicemesh/nsm.server.io.sock succeeded."
time="2021-06-11T16:16:45Z" level=info msg="Creating logger from config: &{icmp-responder@icmp-responder-nse-2 false false [] 0xc0003b0ba0 0xc0003ce0e0 <nil> <nil> <nil>}"
2021/06/11 16:16:45 debug logging disabled
2021/06/11 16:16:45 Initializing logging reporter
2021/06/11 16:16:45 debug logging disabled
time="2021-06-11T16:16:45Z" level=info msg="==--> NewServer() span:079103c54ff81140:079103c54ff81140:0000000000000000:1"
time="2021-06-11T16:16:45Z" level=info msg="==----> GetCertificate() span:079103c54ff81140:7241d987365eb5e8:079103c54ff81140:1"
2021/06/11 16:16:45 Reporting span 079103c54ff81140:7241d987365eb5e8:079103c54ff81140:1
time="2021-06-11T16:16:45Z" level=info msg="GRPC.NewServer with open tracing enabled" operation=NewServer span="079103c54ff81140:079103c54ff81140:0000000000000000:1"
2021/06/11 16:16:45 Reporting span 079103c54ff81140:079103c54ff81140:0000000000000000:1
time="2021-06-11T16:16:45Z" level=info msg="nse: listening socket /var/lib/networkservicemesh/nsm.client.io.sock"
time="2021-06-11T16:16:45Z" level=info msg="==--> Endpoint-icmp-responder-Start() span:6fddd762f33affae:6fddd762f33affae:0000000000000000:1"
time="2021-06-11T16:16:45Z" level=info msg=">><<-- labels={\"app\":\"icmp\"} span=6fddd762f33affae:6fddd762f33affae:0000000000000000:1"
time="2021-06-11T16:16:45Z" level=info msg=">><<-- nse-request={\"network_service\":{\"name\":\"icmp-responder\",\"payload\":\"IP\"},\"network_service_endpoint\":{\"payload\":\"IP\",\"network_service_name\":\"icmp-responder\",\"labels\":{\"app\":\"icmp\"}}} span=6fddd762f33affae:6fddd762f33affae:0000000000000000:1"
time="2021-06-11T16:16:45Z" level=info msg=">><<---- /registry.NetworkServiceRegistry/RegisterNSE()=\"\" span=6fddd762f33affae:6fddd762f33affae:0000000000000000:1"
time="2021-06-11T16:16:45Z" level=info msg=">><<---- request={\"network_service\":{\"name\":\"icmp-responder\",\"payload\":\"IP\"},\"network_service_endpoint\":{\"payload\":\"IP\",\"network_service_name\":\"icmp-responder\",\"labels\":{\"app\":\"icmp\"}}} span=6fddd762f33affae:6fddd762f33affae:0000000000000000:1"
time="2021-06-11T16:16:45Z" level=info msg=">><<---- response={\"network_service\":{\"name\":\"icmp-responder\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"cloudtest-kind-16b381ca64-worker\",\"url\":\"10.244.1.7:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"icmp-respondernrqpg\",\"payload\":\"IP\",\"network_service_name\":\"icmp-responder\",\"network_service_manager_name\":\"cloudtest-kind-16b381ca64-worker\",\"labels\":{\"app\":\"icmp\",\"networkservicename\":\"icmp-responder\"},\"state\":\"RUNNING\"}} span=6fddd762f33affae:6fddd762f33affae:0000000000000000:1"
time="2021-06-11T16:16:45Z" level=info msg=">><<-- endpoint-name=\"icmp-respondernrqpg\" span=6fddd762f33affae:6fddd762f33affae:0000000000000000:1"
time="2021-06-11T16:16:45Z" level=info msg="EndpointConnectionMonitor using filter path_segments:<name:\"cloudtest-kind-16b381ca64-worker\" > "
time="2021-06-11T16:16:45Z" level=info msg="MonitorServerImpl.AddRecipient: EndpointConnection-&{0xc00052e7f0 0xc0003b9800}"
time="2021-06-11T16:16:45Z" level=info msg="NSE registered: network_service:<name:\"icmp-responder\" payload:\"IP\" > network_service_manager:<name:\"cloudtest-kind-16b381ca64-worker\" url:\"10.244.1.7:5001\" state:\"RUNNING\" > network_service_endpoint:<name:\"icmp-respondernrqpg\" payload:\"IP\" network_service_name:\"icmp-responder\" network_service_manager_name:\"cloudtest-kind-16b381ca64-worker\" labels:<key:\"app\" value:\"icmp\" > labels:<key:\"networkservicename\" value:\"icmp-responder\" > state:\"RUNNING\" > " operation=Endpoint-icmp-responder-Start span="6fddd762f33affae:6fddd762f33affae:0000000000000000:1"
time="2021-06-11T16:16:45Z" level=info msg="NSE: channel has been successfully advertised, waiting for connection from NSM..." operation=Endpoint-icmp-responder-Start span="6fddd762f33affae:6fddd762f33affae:0000000000000000:1"
2021/06/11 16:16:45 Reporting span 6fddd762f33affae:6fddd762f33affae:0000000000000000:1
time="2021-06-11T16:16:48Z" level=info msg="MonitorServerImpl.DeleteRecipient: EndpointConnection-&{0xc00052e7f0 0xc0003b9800}"
INFO: 2021/06/11 16:16:48 Subchannel Connectivity change to CONNECTING
2021/06/11 16:16:48 Reporting span 28d46170401b2d15:47edfcea630dd60f:28d46170401b2d15:1
INFO: 2021/06/11 16:16:48 transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:16:48 transport: loopyWriter.run returning. connection error: desc = "transport is closing"
INFO: 2021/06/11 16:16:48 pickfirstBalancer: HandleSubConnStateChange: 0xc000331640, {CONNECTING <nil>}
INFO: 2021/06/11 16:16:48 Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:16:48 Subchannel picks a new address "/var/lib/networkservicemesh/nsm.server.io.sock" to connect
WARNING: 2021/06/11 16:16:48 grpc: addrConn.createTransport failed to connect to {/var/lib/networkservicemesh/nsm.server.io.sock  <nil> 0 <nil>}. Err: connection error: desc = "transport: Error while dialing dial unix /var/lib/networkservicemesh/nsm.server.io.sock: connect: connection refused". Reconnecting...
INFO: 2021/06/11 16:16:48 Subchannel Connectivity change to TRANSIENT_FAILURE
INFO: 2021/06/11 16:16:48 pickfirstBalancer: HandleSubConnStateChange: 0xc000331640, {TRANSIENT_FAILURE connection error: desc = "transport: Error while dialing dial unix /var/lib/networkservicemesh/nsm.server.io.sock: connect: connection refused"}
INFO: 2021/06/11 16:16:48 Channel Connectivity change to TRANSIENT_FAILURE
INFO: 2021/06/11 16:16:49 Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:16:49 Subchannel picks a new address "/var/lib/networkservicemesh/nsm.server.io.sock" to connect
INFO: 2021/06/11 16:16:49 pickfirstBalancer: HandleSubConnStateChange: 0xc000331640, {CONNECTING <nil>}
INFO: 2021/06/11 16:16:49 Channel Connectivity change to CONNECTING
WARNING: 2021/06/11 16:16:49 grpc: addrConn.createTransport failed to connect to {/var/lib/networkservicemesh/nsm.server.io.sock  <nil> 0 <nil>}. Err: connection error: desc = "transport: Error while dialing dial unix /var/lib/networkservicemesh/nsm.server.io.sock: connect: connection refused". Reconnecting...
INFO: 2021/06/11 16:16:49 Subchannel Connectivity change to TRANSIENT_FAILURE
INFO: 2021/06/11 16:16:49 pickfirstBalancer: HandleSubConnStateChange: 0xc000331640, {TRANSIENT_FAILURE connection error: desc = "transport: Error while dialing dial unix /var/lib/networkservicemesh/nsm.server.io.sock: connect: connection refused"}
INFO: 2021/06/11 16:16:49 Channel Connectivity change to TRANSIENT_FAILURE
INFO: 2021/06/11 16:16:51 Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:16:51 Subchannel picks a new address "/var/lib/networkservicemesh/nsm.server.io.sock" to connect
WARNING: 2021/06/11 16:16:51 grpc: addrConn.createTransport failed to connect to {/var/lib/networkservicemesh/nsm.server.io.sock  <nil> 0 <nil>}. Err: connection error: desc = "transport: Error while dialing dial unix /var/lib/networkservicemesh/nsm.server.io.sock: connect: connection refused". Reconnecting...
INFO: 2021/06/11 16:16:51 pickfirstBalancer: HandleSubConnStateChange: 0xc000331640, {CONNECTING <nil>}
INFO: 2021/06/11 16:16:51 Subchannel Connectivity change to TRANSIENT_FAILURE
INFO: 2021/06/11 16:16:51 Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:16:51 pickfirstBalancer: HandleSubConnStateChange: 0xc000331640, {TRANSIENT_FAILURE connection error: desc = "transport: Error while dialing dial unix /var/lib/networkservicemesh/nsm.server.io.sock: connect: connection refused"}
INFO: 2021/06/11 16:16:51 Channel Connectivity change to TRANSIENT_FAILURE
INFO: 2021/06/11 16:16:54 Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:16:54 Subchannel picks a new address "/var/lib/networkservicemesh/nsm.server.io.sock" to connect
INFO: 2021/06/11 16:16:54 pickfirstBalancer: HandleSubConnStateChange: 0xc000331640, {CONNECTING <nil>}
INFO: 2021/06/11 16:16:54 Channel Connectivity change to CONNECTING
WARNING: 2021/06/11 16:16:54 grpc: addrConn.createTransport failed to connect to {/var/lib/networkservicemesh/nsm.server.io.sock  <nil> 0 <nil>}. Err: connection error: desc = "transport: Error while dialing dial unix /var/lib/networkservicemesh/nsm.server.io.sock: connect: connection refused". Reconnecting...
INFO: 2021/06/11 16:16:54 Subchannel Connectivity change to TRANSIENT_FAILURE
INFO: 2021/06/11 16:16:54 pickfirstBalancer: HandleSubConnStateChange: 0xc000331640, {TRANSIENT_FAILURE connection error: desc = "transport: Error while dialing dial unix /var/lib/networkservicemesh/nsm.server.io.sock: connect: connection refused"}
INFO: 2021/06/11 16:16:54 Channel Connectivity change to TRANSIENT_FAILURE
INFO: 2021/06/11 16:16:58 Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:16:58 Subchannel picks a new address "/var/lib/networkservicemesh/nsm.server.io.sock" to connect
INFO: 2021/06/11 16:16:58 pickfirstBalancer: HandleSubConnStateChange: 0xc000331640, {CONNECTING <nil>}
INFO: 2021/06/11 16:16:58 Channel Connectivity change to CONNECTING
WARNING: 2021/06/11 16:16:58 grpc: addrConn.createTransport failed to connect to {/var/lib/networkservicemesh/nsm.server.io.sock  <nil> 0 <nil>}. Err: connection error: desc = "transport: Error while dialing dial unix /var/lib/networkservicemesh/nsm.server.io.sock: connect: connection refused". Reconnecting...
INFO: 2021/06/11 16:16:58 Subchannel Connectivity change to TRANSIENT_FAILURE
INFO: 2021/06/11 16:16:58 pickfirstBalancer: HandleSubConnStateChange: 0xc000331640, {TRANSIENT_FAILURE connection error: desc = "transport: Error while dialing dial unix /var/lib/networkservicemesh/nsm.server.io.sock: connect: connection refused"}
INFO: 2021/06/11 16:16:58 Channel Connectivity change to TRANSIENT_FAILURE
INFO: 2021/06/11 16:17:05 Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:17:05 Subchannel picks a new address "/var/lib/networkservicemesh/nsm.server.io.sock" to connect
INFO: 2021/06/11 16:17:05 pickfirstBalancer: HandleSubConnStateChange: 0xc000331640, {CONNECTING <nil>}
INFO: 2021/06/11 16:17:05 Channel Connectivity change to CONNECTING
WARNING: 2021/06/11 16:17:05 grpc: addrConn.createTransport failed to connect to {/var/lib/networkservicemesh/nsm.server.io.sock  <nil> 0 <nil>}. Err: connection error: desc = "transport: Error while dialing dial unix /var/lib/networkservicemesh/nsm.server.io.sock: connect: connection refused". Reconnecting...
INFO: 2021/06/11 16:17:05 Subchannel Connectivity change to TRANSIENT_FAILURE
INFO: 2021/06/11 16:17:05 pickfirstBalancer: HandleSubConnStateChange: 0xc000331640, {TRANSIENT_FAILURE connection error: desc = "transport: Error while dialing dial unix /var/lib/networkservicemesh/nsm.server.io.sock: connect: connection refused"}
INFO: 2021/06/11 16:17:05 Channel Connectivity change to TRANSIENT_FAILURE
INFO: 2021/06/11 16:17:17 Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:17:17 Subchannel picks a new address "/var/lib/networkservicemesh/nsm.server.io.sock" to connect
WARNING: 2021/06/11 16:17:17 grpc: addrConn.createTransport failed to connect to {/var/lib/networkservicemesh/nsm.server.io.sock  <nil> 0 <nil>}. Err: connection error: desc = "transport: Error while dialing dial unix /var/lib/networkservicemesh/nsm.server.io.sock: connect: connection refused". Reconnecting...
INFO: 2021/06/11 16:17:17 pickfirstBalancer: HandleSubConnStateChange: 0xc000331640, {CONNECTING <nil>}
INFO: 2021/06/11 16:17:17 Subchannel Connectivity change to TRANSIENT_FAILURE
INFO: 2021/06/11 16:17:17 Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:17:17 pickfirstBalancer: HandleSubConnStateChange: 0xc000331640, {TRANSIENT_FAILURE connection error: desc = "transport: Error while dialing dial unix /var/lib/networkservicemesh/nsm.server.io.sock: connect: connection refused"}
INFO: 2021/06/11 16:17:17 Channel Connectivity change to TRANSIENT_FAILURE
INFO: 2021/06/11 16:17:19 transport: loopyWriter.run returning. connection error: desc = "transport is closing"
time="2021-06-11T16:17:19Z" level=info msg="EndpointConnectionMonitor using filter path_segments:<name:\"cloudtest-kind-16b381ca64-worker\" > "
time="2021-06-11T16:17:19Z" level=info msg="MonitorServerImpl.AddRecipient: EndpointConnection-&{0xc00052eb90 0xc0003b8640}"
INFO: 2021/06/11 16:17:36 Subchannel Connectivity change to CONNECTING
INFO: 2021/06/11 16:17:36 Subchannel picks a new address "/var/lib/networkservicemesh/nsm.server.io.sock" to connect
INFO: 2021/06/11 16:17:36 pickfirstBalancer: HandleSubConnStateChange: 0xc000331640, {CONNECTING <nil>}
INFO: 2021/06/11 16:17:36 Channel Connectivity change to CONNECTING
INFO: 2021/06/11 16:17:36 Subchannel Connectivity change to READY
INFO: 2021/06/11 16:17:36 pickfirstBalancer: HandleSubConnStateChange: 0xc000331640, {READY <nil>}
INFO: 2021/06/11 16:17:36 Channel Connectivity change to READY
==== END logs for container icmp-responder-nse-2 of pod nsm-system/icmp-responder-nse-2 ====
