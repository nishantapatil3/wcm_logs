==== START logs for container example-wcmd of pod wcm-system/example-wcmd-755c7c55c5-kvzfc ====
{"level":"info","ts":1632438460.2578907,"caller":"wcmd/main.go:61","msg":"Starting application","app":"wcmd","version":"0.1"}
{"level":"info","ts":1632438460.2580538,"caller":"probes/probes.go:43","msg":"Starting probes on: :8080","app":"wcmd","version":"0.1","context":"probe"}
{"level":"info","ts":1632438460.264997,"caller":"subnetstore/subnet_store.go:473","msg":"Range updated","app":"wcmd","version":"0.1","context":"subnet-storage","key":"wcm/ipam/ranges/IPV4/example/example.wcm-cisco.com","value":"[{\"address\":\"172.100.0.0/16\"}]"}
{"level":"info","ts":1632438460.2673097,"caller":"subnetstore/subnet_store.go:473","msg":"Range updated","app":"wcmd","version":"0.1","context":"subnet-storage","key":"wcm/ipam/available/IPV4/example/example.wcm-cisco.com","value":"[{\"address\":\"172.100.0.0/16\"}]"}
{"level":"info","ts":1632438460.268252,"caller":"wcmd/main.go:91","msg":"Initializing server","app":"wcmd","version":"0.1"}
time="2021-09-23T23:07:40Z" level=info msg="==--> NewServer() span:{}"
time="2021-09-23T23:07:40Z" level=info msg="Establish connection with the spire provider at address:unix:///run/spire/sockets/agent.sock"
time="2021-09-23T23:07:41Z" level=info msg="GRPC.NewServer with open tracing enabled" operation=NewServer span="{}"
time="2021-09-23T23:07:41Z" level=info msg="==----> GetCertificate() span:{}"
time="2021-09-23T23:07:41Z" level=info msg="Issued identity:spiffe://central.com/example-wcmd"
time="2021-09-23T23:07:41Z" level=info msg="Trust domain:central.com"
time="2021-09-23T23:07:41Z" level=info msg="Server will be started in secure mode"
{"level":"info","ts":1632438461.4553375,"caller":"wcmd/main.go:127","msg":"Serving metrics on: 0.0.0.0:2112","app":"wcmd","version":"0.1","path":"/metrics"}
{"level":"info","ts":1632438461.4553783,"caller":"metrics/metrics.go:398","msg":"Serving metrics","app":"wcmd","version":"0.1","path":"/metrics"}
{"level":"info","ts":1632438461.4556787,"caller":"grpcutils/registry_server.go:18","msg":"Starting service on port [::]:50061","app":"wcmd","version":"0.1"}
{"level":"info","ts":1632438461.4571726,"caller":"grpcutils/registry_server.go:18","msg":"Starting service on port [::]:50051","app":"wcmd","version":"0.1"}
time="2021-09-23T23:08:31Z" level=info msg=">><<-- GRPC->/ippool.Allocator/AllocateSubnet()=\"\" span={}"
time="2021-09-23T23:08:31Z" level=info msg=">><<-- request={\"identifier\":{\"fqdn\":\"example.wcm-cisco.com\",\"name\":\"example-kind-11_vl3-nse-example-5859574cb9-lzths\",\"connectivity_domain\":\"example\"},\"addr_family\":{},\"prefix_len\":22} span={}"
{"level":"info","ts":1632438511.8340912,"caller":"server/client_allocator.go:145","msg":"Allocating new subnet to example/example.wcm-cisco.com/example-kind-11_vl3-nse-example-5859574cb9-lzths","app":"wcmd","version":"0.1","context":"ipam-allocator"}
{"level":"info","ts":1632438511.8428874,"caller":"subnetstore/subnet_store.go:121","msg":"Set available pool","app":"wcmd","version":"0.1","context":"subnet-storage","key":"wcm/ipam/available/IPV4/example/example.wcm-cisco.com","value":"[{\"address\":\"172.100.248.0/22\"},{\"address\":\"172.100.240.0/21\"},{\"address\":\"172.100.224.0/20\"},{\"address\":\"172.100.192.0/19\"},{\"address\":\"172.100.128.0/18\"},{\"address\":\"172.100.0.0/17\"}]"}
time="2021-09-23T23:08:31Z" level=info msg=">><<-- GRPC->/ippool.Allocator/AllocateSubnet()=\"\" span={}"
time="2021-09-23T23:08:31Z" level=info msg=">><<-- request={\"identifier\":{\"fqdn\":\"example.wcm-cisco.com\",\"name\":\"example-kind-11_vl3-nse-example-5859574cb9-vsm49\",\"connectivity_domain\":\"example\"},\"addr_family\":{},\"prefix_len\":22} span={}"
{"level":"info","ts":1632438511.8460872,"caller":"server/client_allocator.go:145","msg":"Allocating new subnet to example/example.wcm-cisco.com/example-kind-11_vl3-nse-example-5859574cb9-vsm49","app":"wcmd","version":"0.1","context":"ipam-allocator"}
{"level":"info","ts":1632438511.8489897,"caller":"subnetstore/subnet_store.go:473","msg":"Range updated","app":"wcmd","version":"0.1","context":"subnet-storage","key":"wcm/ipam/client/IPV4/example/example.wcm-cisco.com/example-kind-11_vl3-nse-example-5859574cb9-lzths","value":"[{\"address\":\"172.100.252.0/22\",\"leaseTimeout\":\"2021-09-24T23:08:31Z\"}]"}
{"level":"info","ts":1632438511.8490996,"caller":"subnetstore/subnet_store.go:257","msg":"Added range to endpoint","app":"wcmd","version":"0.1","context":"subnet-storage","key":"wcm/ipam/client/IPV4/example/example.wcm-cisco.com/example-kind-11_vl3-nse-example-5859574cb9-lzths","value":"172.100.252.0/22"}
time="2021-09-23T23:08:31Z" level=info msg=">><<-- response={\"identifier\":{\"fqdn\":\"example.wcm-cisco.com\",\"name\":\"example-kind-11_vl3-nse-example-5859574cb9-lzths\",\"connectivity_domain\":\"example\"},\"prefix\":{\"addr_family\":{},\"subnet\":\"172.100.252.0/22\"},\"lease_timeout\":24} span={}"
{"level":"info","ts":1632438511.8519504,"caller":"subnetstore/subnet_store.go:121","msg":"Set available pool","app":"wcmd","version":"0.1","context":"subnet-storage","key":"wcm/ipam/available/IPV4/example/example.wcm-cisco.com","value":"[{\"address\":\"172.100.240.0/21\"},{\"address\":\"172.100.224.0/20\"},{\"address\":\"172.100.192.0/19\"},{\"address\":\"172.100.128.0/18\"},{\"address\":\"172.100.0.0/17\"}]"}
{"level":"info","ts":1632438511.8544202,"caller":"subnetstore/subnet_store.go:473","msg":"Range updated","app":"wcmd","version":"0.1","context":"subnet-storage","key":"wcm/ipam/client/IPV4/example/example.wcm-cisco.com/example-kind-11_vl3-nse-example-5859574cb9-vsm49","value":"[{\"address\":\"172.100.248.0/22\",\"leaseTimeout\":\"2021-09-24T23:08:31Z\"}]"}
{"level":"info","ts":1632438511.8544466,"caller":"subnetstore/subnet_store.go:257","msg":"Added range to endpoint","app":"wcmd","version":"0.1","context":"subnet-storage","key":"wcm/ipam/client/IPV4/example/example.wcm-cisco.com/example-kind-11_vl3-nse-example-5859574cb9-vsm49","value":"172.100.248.0/22"}
time="2021-09-23T23:08:31Z" level=info msg=">><<-- response={\"identifier\":{\"fqdn\":\"example.wcm-cisco.com\",\"name\":\"example-kind-11_vl3-nse-example-5859574cb9-vsm49\",\"connectivity_domain\":\"example\"},\"prefix\":{\"addr_family\":{},\"subnet\":\"172.100.248.0/22\"},\"lease_timeout\":24} span={}"
time="2021-09-23T23:08:32Z" level=info msg=">><<-- GRPC->/ippool.Allocator/AllocateSubnet()=\"\" span={}"
time="2021-09-23T23:08:32Z" level=info msg=">><<-- request={\"identifier\":{\"fqdn\":\"example.wcm-cisco.com\",\"name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"connectivity_domain\":\"example\"},\"addr_family\":{},\"prefix_len\":22} span={}"
{"level":"info","ts":1632438512.1337786,"caller":"server/client_allocator.go:145","msg":"Allocating new subnet to example/example.wcm-cisco.com/example-kind-12_vl3-nse-example-dff8646dd-ch2hz","app":"wcmd","version":"0.1","context":"ipam-allocator"}
{"level":"info","ts":1632438512.1372035,"caller":"subnetstore/subnet_store.go:121","msg":"Set available pool","app":"wcmd","version":"0.1","context":"subnet-storage","key":"wcm/ipam/available/IPV4/example/example.wcm-cisco.com","value":"[{\"address\":\"172.100.240.0/22\"},{\"address\":\"172.100.224.0/20\"},{\"address\":\"172.100.192.0/19\"},{\"address\":\"172.100.128.0/18\"},{\"address\":\"172.100.0.0/17\"}]"}
{"level":"info","ts":1632438512.1405106,"caller":"subnetstore/subnet_store.go:473","msg":"Range updated","app":"wcmd","version":"0.1","context":"subnet-storage","key":"wcm/ipam/client/IPV4/example/example.wcm-cisco.com/example-kind-12_vl3-nse-example-dff8646dd-ch2hz","value":"[{\"address\":\"172.100.244.0/22\",\"leaseTimeout\":\"2021-09-24T23:08:32Z\"}]"}
{"level":"info","ts":1632438512.140546,"caller":"subnetstore/subnet_store.go:257","msg":"Added range to endpoint","app":"wcmd","version":"0.1","context":"subnet-storage","key":"wcm/ipam/client/IPV4/example/example.wcm-cisco.com/example-kind-12_vl3-nse-example-dff8646dd-ch2hz","value":"172.100.244.0/22"}
time="2021-09-23T23:08:32Z" level=info msg=">><<-- response={\"identifier\":{\"fqdn\":\"example.wcm-cisco.com\",\"name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"connectivity_domain\":\"example\"},\"prefix\":{\"addr_family\":{},\"subnet\":\"172.100.244.0/22\"},\"lease_timeout\":24} span={}"
time="2021-09-23T23:08:32Z" level=info msg=">><<-- GRPC->/ippool.Allocator/AllocateSubnet()=\"\" span={}"
time="2021-09-23T23:08:32Z" level=info msg=">><<-- request={\"identifier\":{\"fqdn\":\"example.wcm-cisco.com\",\"name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"connectivity_domain\":\"example\"},\"addr_family\":{},\"prefix_len\":22} span={}"
{"level":"info","ts":1632438512.3144765,"caller":"server/client_allocator.go:145","msg":"Allocating new subnet to example/example.wcm-cisco.com/example-kind-12_vl3-nse-example-dff8646dd-dgzfk","app":"wcmd","version":"0.1","context":"ipam-allocator"}
{"level":"info","ts":1632438512.3415167,"caller":"subnetstore/subnet_store.go:121","msg":"Set available pool","app":"wcmd","version":"0.1","context":"subnet-storage","key":"wcm/ipam/available/IPV4/example/example.wcm-cisco.com","value":"[{\"address\":\"172.100.224.0/20\"},{\"address\":\"172.100.192.0/19\"},{\"address\":\"172.100.128.0/18\"},{\"address\":\"172.100.0.0/17\"}]"}
{"level":"info","ts":1632438512.3446097,"caller":"subnetstore/subnet_store.go:473","msg":"Range updated","app":"wcmd","version":"0.1","context":"subnet-storage","key":"wcm/ipam/client/IPV4/example/example.wcm-cisco.com/example-kind-12_vl3-nse-example-dff8646dd-dgzfk","value":"[{\"address\":\"172.100.240.0/22\",\"leaseTimeout\":\"2021-09-24T23:08:32Z\"}]"}
{"level":"info","ts":1632438512.3446984,"caller":"subnetstore/subnet_store.go:257","msg":"Added range to endpoint","app":"wcmd","version":"0.1","context":"subnet-storage","key":"wcm/ipam/client/IPV4/example/example.wcm-cisco.com/example-kind-12_vl3-nse-example-dff8646dd-dgzfk","value":"172.100.240.0/22"}
time="2021-09-23T23:08:32Z" level=info msg=">><<-- response={\"identifier\":{\"fqdn\":\"example.wcm-cisco.com\",\"name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"connectivity_domain\":\"example\"},\"prefix\":{\"addr_family\":{},\"subnet\":\"172.100.240.0/22\"},\"lease_timeout\":24} span={}"
time="2021-09-23T23:08:32Z" level=info msg=">><<-- GRPC->/svreg.Registry/RegisterWorkload()=\"\" span={}"
time="2021-09-23T23:08:32Z" level=info msg=">><<-- request={\"serviceName\":\"helloworld\",\"connectivityDomain\":\"example\",\"workloads\":[{\"identifier\":{\"cluster\":\"cluster-0\",\"podName\":\"helloworld-example-76976dc79d-r4f42\",\"name\":\"helloworld\",\"nseName\":\"example-kind-11_vl3-nse-example-5859574cb9-lzths\"},\"IPAddress\":[\"172.100.252.1/30\"]}],\"ports\":[5000]} span={}"
{"level":"info","ts":1632438512.492598,"caller":"registryserver/serviceregistry.go:137","msg":"registering new service: helloworld","app":"wcmd","version":"0.1","context":"service-registry"}
{"level":"info","ts":1632438512.4926655,"caller":"registryserver/serviceregistry.go:149","msg":"Sending register workload event","app":"wcmd","version":"0.1","context":"service-registry"}
time="2021-09-23T23:08:32Z" level=info msg=">><<-- response={} span={}"
time="2021-09-23T23:08:44Z" level=info msg=">><<-- GRPC->/svreg.Registry/RegisterWorkload()=\"\" span={}"
time="2021-09-23T23:08:44Z" level=info msg=">><<-- request={\"serviceName\":\"helloworld\",\"connectivityDomain\":\"example\",\"workloads\":[{\"identifier\":{\"cluster\":\"cluster-1\",\"podName\":\"helloworld-example-5c9b85f564-g9nlf\",\"name\":\"helloworld\",\"nseName\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\"},\"IPAddress\":[\"172.100.244.1/30\"]}],\"ports\":[5000]} span={}"
{"level":"info","ts":1632438524.3383198,"caller":"registryserver/serviceregistry.go:137","msg":"registering new service: helloworld","app":"wcmd","version":"0.1","context":"service-registry"}
{"level":"info","ts":1632438524.338372,"caller":"registryserver/serviceregistry.go:149","msg":"Sending register workload event","app":"wcmd","version":"0.1","context":"service-registry"}
time="2021-09-23T23:08:44Z" level=info msg=">><<-- response={} span={}"
time="2021-09-23T23:09:02Z" level=info msg=">><<-- GRPC->/svreg.Registry/RegisterWorkload()=\"\" span={}"
time="2021-09-23T23:09:02Z" level=info msg=">><<-- request={\"serviceName\":\"helloworld\",\"connectivityDomain\":\"example\",\"workloads\":[{\"identifier\":{\"cluster\":\"cluster-0\",\"podName\":\"helloworld-example-76976dc79d-r4f42\",\"name\":\"helloworld\",\"nseName\":\"example-kind-11_vl3-nse-example-5859574cb9-lzths\"},\"IPAddress\":[\"172.100.252.1/30\"]}],\"ports\":[5000]} span={}"
{"level":"info","ts":1632438542.51227,"caller":"registryserver/serviceregistry.go:137","msg":"registering new service: helloworld","app":"wcmd","version":"0.1","context":"service-registry"}
{"level":"info","ts":1632438542.5125663,"caller":"registryserver/serviceregistry.go:149","msg":"Sending register workload event","app":"wcmd","version":"0.1","context":"service-registry"}
time="2021-09-23T23:09:02Z" level=info msg=">><<-- response={} span={}"
time="2021-09-23T23:09:14Z" level=info msg=">><<-- GRPC->/svreg.Registry/RegisterWorkload()=\"\" span={}"
time="2021-09-23T23:09:14Z" level=info msg=">><<-- request={\"serviceName\":\"helloworld\",\"connectivityDomain\":\"example\",\"workloads\":[{\"identifier\":{\"cluster\":\"cluster-1\",\"podName\":\"helloworld-example-5c9b85f564-g9nlf\",\"name\":\"helloworld\",\"nseName\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\"},\"IPAddress\":[\"172.100.244.1/30\"]}],\"ports\":[5000]} span={}"
{"level":"info","ts":1632438554.3609662,"caller":"registryserver/serviceregistry.go:137","msg":"registering new service: helloworld","app":"wcmd","version":"0.1","context":"service-registry"}
{"level":"info","ts":1632438554.3610096,"caller":"registryserver/serviceregistry.go:149","msg":"Sending register workload event","app":"wcmd","version":"0.1","context":"service-registry"}
time="2021-09-23T23:09:14Z" level=info msg=">><<-- response={} span={}"
time="2021-09-23T23:09:32Z" level=info msg=">><<-- GRPC->/svreg.Registry/RegisterWorkload()=\"\" span={}"
time="2021-09-23T23:09:32Z" level=info msg=">><<-- request={\"serviceName\":\"helloworld\",\"connectivityDomain\":\"example\",\"workloads\":[{\"identifier\":{\"cluster\":\"cluster-0\",\"podName\":\"helloworld-example-76976dc79d-r4f42\",\"name\":\"helloworld\",\"nseName\":\"example-kind-11_vl3-nse-example-5859574cb9-lzths\"},\"IPAddress\":[\"172.100.252.1/30\"]}],\"ports\":[5000]} span={}"
{"level":"info","ts":1632438572.5837755,"caller":"registryserver/serviceregistry.go:137","msg":"registering new service: helloworld","app":"wcmd","version":"0.1","context":"service-registry"}
{"level":"info","ts":1632438572.5844486,"caller":"registryserver/serviceregistry.go:149","msg":"Sending register workload event","app":"wcmd","version":"0.1","context":"service-registry"}
time="2021-09-23T23:09:32Z" level=info msg=">><<-- response={} span={}"
time="2021-09-23T23:09:44Z" level=info msg=">><<-- GRPC->/svreg.Registry/RegisterWorkload()=\"\" span={}"
time="2021-09-23T23:09:44Z" level=info msg=">><<-- request={\"serviceName\":\"helloworld\",\"connectivityDomain\":\"example\",\"workloads\":[{\"identifier\":{\"cluster\":\"cluster-1\",\"podName\":\"helloworld-example-5c9b85f564-g9nlf\",\"name\":\"helloworld\",\"nseName\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\"},\"IPAddress\":[\"172.100.244.1/30\"]}],\"ports\":[5000]} span={}"
{"level":"info","ts":1632438584.3755467,"caller":"registryserver/serviceregistry.go:137","msg":"registering new service: helloworld","app":"wcmd","version":"0.1","context":"service-registry"}
{"level":"info","ts":1632438584.375571,"caller":"registryserver/serviceregistry.go:149","msg":"Sending register workload event","app":"wcmd","version":"0.1","context":"service-registry"}
time="2021-09-23T23:09:44Z" level=info msg=">><<-- response={} span={}"
time="2021-09-23T23:10:01Z" level=info msg=">><<-- GRPC->/svreg.Registry/RemoveWorkload()=\"\" span={}"
time="2021-09-23T23:10:01Z" level=info msg=">><<-- request={\"serviceName\":\"helloworld\",\"connectivityDomain\":\"example\",\"workloads\":[{\"identifier\":{\"cluster\":\"cluster-1\",\"podName\":\"helloworld-example-5c9b85f564-g9nlf\",\"name\":\"helloworld\",\"nseName\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\"},\"IPAddress\":[\"172.100.244.1/30\"]}],\"ports\":[5000]} span={}"
{"level":"info","ts":1632438601.6913762,"caller":"registryserver/serviceregistry.go:272","msg":"removing service serviceName:\"helloworld\"  connectivityDomain:\"example\"  workloads:{identifier:{cluster:\"cluster-1\"  podName:\"helloworld-example-5c9b85f564-g9nlf\"  name:\"helloworld\"  nseName:\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\"}  IPAddress:\"172.100.244.1/30\"}  ports:5000","app":"wcmd","version":"0.1","context":"service-registry"}
time="2021-09-23T23:10:01Z" level=info msg=">><<-- response={} span={}"
time="2021-09-23T23:10:01Z" level=info msg=">><<-- GRPC->/svreg.Registry/RemoveWorkload()=\"\" span={}"
time="2021-09-23T23:10:01Z" level=info msg=">><<-- request={\"serviceName\":\"helloworld\",\"connectivityDomain\":\"example\",\"workloads\":[{\"identifier\":{\"cluster\":\"cluster-0\",\"podName\":\"helloworld-example-76976dc79d-r4f42\",\"name\":\"helloworld\",\"nseName\":\"example-kind-11_vl3-nse-example-5859574cb9-lzths\"},\"IPAddress\":[\"172.100.252.1/30\"]}],\"ports\":[5000]} span={}"
{"level":"info","ts":1632438601.9200945,"caller":"registryserver/serviceregistry.go:272","msg":"removing service serviceName:\"helloworld\"  connectivityDomain:\"example\"  workloads:{identifier:{cluster:\"cluster-0\"  podName:\"helloworld-example-76976dc79d-r4f42\"  name:\"helloworld\"  nseName:\"example-kind-11_vl3-nse-example-5859574cb9-lzths\"}  IPAddress:\"172.100.252.1/30\"}  ports:5000","app":"wcmd","version":"0.1","context":"service-registry"}
time="2021-09-23T23:10:01Z" level=info msg=">><<-- response={} span={}"
==== END logs for container example-wcmd of pod wcm-system/example-wcmd-755c7c55c5-kvzfc ====
