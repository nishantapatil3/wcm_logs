==== START logs for container wcm-nse-discovery of pod wcm-system/wcm-nse-discovery-7bbb7c68d9-rvrp8 ====
{"level":"info","ts":1632438388.7502081,"caller":"cmd/main.go:49","msg":"Starting WCM nse-discovery...","app":"nse-discovery"}
{"level":"info","ts":1632438388.7502658,"caller":"utils/nsrenv.go:29","msg":"All env variables:","app":"nse-discovery"}
{"level":"info","ts":1632438388.750285,"caller":"utils/nsrenv.go:31","msg":"WCM_NSE_DISCOVERY_PORT=tcp://10.109.88.9:2112","app":"nse-discovery"}
{"level":"info","ts":1632438388.7502956,"caller":"utils/nsrenv.go:31","msg":"WCM_NSE_DISCOVERY_SERVICE_PORT=2112","app":"nse-discovery"}
{"level":"info","ts":1632438388.750307,"caller":"utils/nsrenv.go:31","msg":"KUBERNETES_SERVICE_PORT=443","app":"nse-discovery"}
{"level":"info","ts":1632438388.7503223,"caller":"utils/nsrenv.go:31","msg":"KUBERNETES_PORT=tcp://10.96.0.1:443","app":"nse-discovery"}
{"level":"info","ts":1632438388.7503269,"caller":"utils/nsrenv.go:31","msg":"METRICS_PORT=2112","app":"nse-discovery"}
{"level":"info","ts":1632438388.750331,"caller":"utils/nsrenv.go:31","msg":"NSE_NAMESPACE=wcm-system","app":"nse-discovery"}
{"level":"info","ts":1632438388.750335,"caller":"utils/nsrenv.go:31","msg":"HOSTNAME=wcm-nse-discovery-7bbb7c68d9-rvrp8","app":"nse-discovery"}
{"level":"info","ts":1632438388.750349,"caller":"utils/nsrenv.go:31","msg":"SHLVL=1","app":"nse-discovery"}
{"level":"info","ts":1632438388.750353,"caller":"utils/nsrenv.go:31","msg":"HOME=/root","app":"nse-discovery"}
{"level":"info","ts":1632438388.750357,"caller":"utils/nsrenv.go:31","msg":"WCM_NSE_DISCOVERY_SERVICE_PORT_MONITORING=2112","app":"nse-discovery"}
{"level":"info","ts":1632438388.7503614,"caller":"utils/nsrenv.go:31","msg":"CLUSTER_NAME=kind-12","app":"nse-discovery"}
{"level":"info","ts":1632438388.7503653,"caller":"utils/nsrenv.go:31","msg":"INSECURE=false","app":"nse-discovery"}
{"level":"info","ts":1632438388.750377,"caller":"utils/nsrenv.go:31","msg":"KUBERNETES_PORT_443_TCP_ADDR=10.96.0.1","app":"nse-discovery"}
{"level":"info","ts":1632438388.750381,"caller":"utils/nsrenv.go:31","msg":"PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin","app":"nse-discovery"}
{"level":"info","ts":1632438388.7503908,"caller":"utils/nsrenv.go:31","msg":"WCM_NSE_DISCOVERY_PORT_2112_TCP_ADDR=10.109.88.9","app":"nse-discovery"}
{"level":"info","ts":1632438388.750395,"caller":"utils/nsrenv.go:31","msg":"KUBERNETES_PORT_443_TCP_PORT=443","app":"nse-discovery"}
{"level":"info","ts":1632438388.7504048,"caller":"utils/nsrenv.go:31","msg":"KUBERNETES_PORT_443_TCP_PROTO=tcp","app":"nse-discovery"}
{"level":"info","ts":1632438388.7504117,"caller":"utils/nsrenv.go:31","msg":"WCM_NSE_DISCOVERY_PORT_2112_TCP_PORT=2112","app":"nse-discovery"}
{"level":"info","ts":1632438388.7504241,"caller":"utils/nsrenv.go:31","msg":"WCM_NSE_DISCOVERY_PORT_2112_TCP_PROTO=tcp","app":"nse-discovery"}
{"level":"info","ts":1632438388.7504282,"caller":"utils/nsrenv.go:31","msg":"KUBERNETES_PORT_443_TCP=tcp://10.96.0.1:443","app":"nse-discovery"}
{"level":"info","ts":1632438388.7504323,"caller":"utils/nsrenv.go:31","msg":"KUBERNETES_SERVICE_PORT_HTTPS=443","app":"nse-discovery"}
{"level":"info","ts":1632438388.7504413,"caller":"utils/nsrenv.go:31","msg":"WCM_NSE_DISCOVERY_SERVICE_HOST=10.109.88.9","app":"nse-discovery"}
{"level":"info","ts":1632438388.750448,"caller":"utils/nsrenv.go:31","msg":"KUBERNETES_SERVICE_HOST=10.96.0.1","app":"nse-discovery"}
{"level":"info","ts":1632438388.7504573,"caller":"utils/nsrenv.go:31","msg":"PWD=/","app":"nse-discovery"}
{"level":"info","ts":1632438388.750461,"caller":"utils/nsrenv.go:31","msg":"POD_UID=48663caa-1097-45d8-8f25-45c650818047","app":"nse-discovery"}
{"level":"info","ts":1632438388.7504654,"caller":"utils/nsrenv.go:31","msg":"WCM_NSE_DISCOVERY_PORT_2112_TCP=tcp://10.109.88.9:2112","app":"nse-discovery"}
{"level":"info","ts":1632438388.7504747,"caller":"utils/nsrenv.go:31","msg":"NSR_ADDRESS=wcm-proxy-nsmgr.nsm-system:5005","app":"nse-discovery"}
{"level":"info","ts":1632438388.7504919,"caller":"metrics/metrics.go:56","msg":"Serving metrics","app":"nse-discovery"}
time="2021-09-23T23:06:28Z" level=info msg="Creating logger from config: &{wcm-nse-discovery.tpl@wcm-nse-discovery-7bbb7c68d9-rvrp8 false false [] 0xc000122660 0xc0001342a0 <nil> <nil> <nil>}"
2021/09/23 23:06:28 debug logging disabled
2021/09/23 23:06:28 Initializing logging reporter
2021/09/23 23:06:28 debug logging disabled
{"level":"info","ts":1632438388.7557123,"caller":"nseinformer/nseInformerController.go:77","msg":"Creating NSE CR controller","app":"nse-discovery"}
{"level":"info","ts":1632438388.7557793,"caller":"nseinformer/nseInformerController.go:99","msg":"Created new informer for NSE pod controller","app":"nse-discovery"}
{"level":"info","ts":1632438388.7558029,"caller":"nseinformer/nseInformerController.go:139","msg":"starting NSE pod controller","app":"nse-discovery"}
{"level":"info","ts":1632438512.6035187,"caller":"nseinformer/nseInformerController.go:114","msg":"new NSE CR was created: &{{ } {examplecscn5 example nsm-system /apis/networkservicemesh.io/v1alpha1/namespaces/nsm-system/networkserviceendpoints/examplecscn5 429d782d-3493-4ea4-ad95-6bdada125d2f 2187 1 2021-09-23 23:08:32 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:example-kind-12_vl3-nse-example-dff8646dd-ch2hz wcm/nsr.addr:example.wcm-cisco.com wcm/nsr.port:443] map[] [] []  []} {example IP kind-12-control-plane} {RUNNING}}","app":"nse-discovery"}
{"level":"info","ts":1632438512.6036575,"caller":"nseinformer/nseInformerController.go:172","msg":"Processing NSE named examplecscn5...","app":"nse-discovery"}
{"level":"info","ts":1632438512.6036654,"caller":"nseinformer/nseInformerController.go:179","msg":"Found service name: example","app":"nse-discovery"}
{"level":"info","ts":1632438512.6100485,"caller":"nseinformer/nseInformerController.go:194","msg":"Getting endpoints from the local NSR","app":"nse-discovery"}
time="2021-09-23T23:08:32Z" level=info msg="==--> discovery.FindNetworkService() span:319486555a7b0ad7:319486555a7b0ad7:0000000000000000:1"
time="2021-09-23T23:08:32Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=319486555a7b0ad7:319486555a7b0ad7:0000000000000000:1"
time="2021-09-23T23:08:32Z" level=info msg=">><<-- nsrURL=\"wcm-proxy-nsmgr.nsm-system:5005\" span=319486555a7b0ad7:319486555a7b0ad7:0000000000000000:1"
time="2021-09-23T23:08:32Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-09-23T23:08:32Z" level=info msg="==----> initRegistryClient() span:319486555a7b0ad7:4b391f21197d5d6c:319486555a7b0ad7:1"
time="2021-09-23T23:08:32Z" level=info msg="Waiting for liveness probe: tcp:wcm-proxy-nsmgr.nsm-system:5005"
time="2021-09-23T23:08:32Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="319486555a7b0ad7:4b391f21197d5d6c:319486555a7b0ad7:1"
time="2021-09-23T23:08:32Z" level=info msg="Establish connection with the spire provider at address:unix:///run/spire/sockets/agent.sock"
time="2021-09-23T23:08:32Z" level=info msg="Issued identity:spiffe://member2.com/wcm-nse-discovery"
time="2021-09-23T23:08:32Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:08:32Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:08:32Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:08:32Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:08:32Z" level=info msg="Found the right tls certificate for target: wcm-proxy-nsmgr.nsm-system:5005"
{"level":"info","ts":1632438512.7873104,"caller":"nseinformer/nseInformerController.go:114","msg":"new NSE CR was created: &{{ } {example2kxlp example nsm-system /apis/networkservicemesh.io/v1alpha1/namespaces/nsm-system/networkserviceendpoints/example2kxlp 3b867dc3-b412-41b9-8d8b-17fa6d257ef9 2191 1 2021-09-23 23:08:32 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:example-kind-12_vl3-nse-example-dff8646dd-dgzfk wcm/nsr.addr:example.wcm-cisco.com wcm/nsr.port:443] map[] [] []  []} {example IP kind-12-control-plane} {RUNNING}}","app":"nse-discovery"}
time="2021-09-23T23:08:32Z" level=info msg="Successfully connected to wcm-proxy-nsmgr.nsm-system:5005" operation=initRegistryClient span="319486555a7b0ad7:4b391f21197d5d6c:319486555a7b0ad7:1"
2021/09/23 23:08:32 Reporting span 319486555a7b0ad7:4b391f21197d5d6c:319486555a7b0ad7:1
{"level":"info","ts":1632438512.802185,"caller":"nseinformer/nseInformerController.go:426","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-09-23T23:08:32Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=319486555a7b0ad7:319486555a7b0ad7:0000000000000000:1"
time="2021-09-23T23:08:32Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=319486555a7b0ad7:319486555a7b0ad7:0000000000000000:1"
2021/09/23 23:08:32 Reporting span 319486555a7b0ad7:157a3acd09fa470d:319486555a7b0ad7:1
time="2021-09-23T23:08:32Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-12-control-plane\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}]} span=319486555a7b0ad7:319486555a7b0ad7:0000000000000000:1"
2021/09/23 23:08:32 Reporting span 319486555a7b0ad7:319486555a7b0ad7:0000000000000000:1
{"level":"info","ts":1632438512.842134,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name examplecscn5","app":"nse-discovery"}
{"level":"info","ts":1632438512.8422306,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example2kxlp","app":"nse-discovery"}
{"level":"info","ts":1632438512.8423045,"caller":"nseinformer/nseInformerController.go:202","msg":"Retrieved 2 endpoints from the local NSR","app":"nse-discovery"}
{"level":"info","ts":1632438512.8423953,"caller":"nseinformer/nseInformerController.go:205","msg":"Getting endpoints from the global NSR at: example.wcm-cisco.com:443","app":"nse-discovery"}
time="2021-09-23T23:08:32Z" level=info msg="==--> discovery.FindNetworkService() span:2e3e643a232dfcef:2e3e643a232dfcef:0000000000000000:1"
time="2021-09-23T23:08:32Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=2e3e643a232dfcef:2e3e643a232dfcef:0000000000000000:1"
time="2021-09-23T23:08:32Z" level=info msg=">><<-- nsrURL=\"example.wcm-cisco.com:443\" span=2e3e643a232dfcef:2e3e643a232dfcef:0000000000000000:1"
time="2021-09-23T23:08:32Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-09-23T23:08:32Z" level=info msg="==----> initRegistryClient() span:2e3e643a232dfcef:551cf5686ad156ff:2e3e643a232dfcef:1"
time="2021-09-23T23:08:32Z" level=info msg="Waiting for liveness probe: tcp:example.wcm-cisco.com:443"
time="2021-09-23T23:08:32Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="2e3e643a232dfcef:551cf5686ad156ff:2e3e643a232dfcef:1"
time="2021-09-23T23:08:32Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:08:32Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:08:32Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:08:32Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:08:32Z" level=info msg="Found the right tls certificate for target: example.wcm-cisco.com:443"
time="2021-09-23T23:08:32Z" level=info msg="Successfully connected to example.wcm-cisco.com:443" operation=initRegistryClient span="2e3e643a232dfcef:551cf5686ad156ff:2e3e643a232dfcef:1"
2021/09/23 23:08:32 Reporting span 2e3e643a232dfcef:551cf5686ad156ff:2e3e643a232dfcef:1
{"level":"info","ts":1632438512.9450471,"caller":"nseinformer/nseInformerController.go:426","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-09-23T23:08:32Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=2e3e643a232dfcef:2e3e643a232dfcef:0000000000000000:1"
time="2021-09-23T23:08:32Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=2e3e643a232dfcef:2e3e643a232dfcef:0000000000000000:1"
2021/09/23 23:08:32 Reporting span 2e3e643a232dfcef:7ef95c73fafdee38:2e3e643a232dfcef:1
time="2021-09-23T23:08:32Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-11-control-plane\":{\"name\":\"kind-11-control-plane\",\"url\":\"172.17.0.3:5001\",\"expiration_time\":{\"seconds\":40},\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"example798f5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-11-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-11_vl3-nse-example-5859574cb9-vsm49\",\"wcm/cluster\":\"kind-11\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"exampler6q79\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-11-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-11_vl3-nse-example-5859574cb9-lzths\",\"wcm/cluster\":\"kind-11\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}]} span=2e3e643a232dfcef:2e3e643a232dfcef:0000000000000000:1"
2021/09/23 23:08:32 Reporting span 2e3e643a232dfcef:2e3e643a232dfcef:0000000000000000:1
{"level":"info","ts":1632438512.9485128,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example798f5","app":"nse-discovery"}
{"level":"info","ts":1632438512.948535,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name exampler6q79","app":"nse-discovery"}
{"level":"info","ts":1632438512.948543,"caller":"nseinformer/nseInformerController.go:214","msg":"Retrieved 2 endpoints from the global NSR","app":"nse-discovery"}
{"level":"info","ts":1632438512.9485586,"caller":"nseinformer/nseInformerController.go:349","msg":"NSE diff:  For cluster kind-12, skipping endpoint 'example798f5'","app":"nse-discovery"}
{"level":"info","ts":1632438512.9485645,"caller":"nseinformer/nseInformerController.go:349","msg":"NSE diff:  For cluster kind-12, skipping endpoint 'exampler6q79'","app":"nse-discovery"}
{"level":"info","ts":1632438512.948575,"caller":"nseinformer/nseInformerController.go:356","msg":"NSE diff: For cluster kind-12, found diff endpoint 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438512.9485805,"caller":"nseinformer/nseInformerController.go:356","msg":"NSE diff: For cluster kind-12, found diff endpoint 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438512.9485862,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438512.9485915,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438512.9485967,"caller":"nseinformer/nseInformerController.go:362","msg":"NSE diff:  For cluster kind-12, skip comparing endpoint 'example798f5'","app":"nse-discovery"}
{"level":"info","ts":1632438512.9486015,"caller":"nseinformer/nseInformerController.go:362","msg":"NSE diff:  For cluster kind-12, skip comparing endpoint 'exampler6q79'","app":"nse-discovery"}
{"level":"info","ts":1632438512.9486072,"caller":"nseinformer/nseInformerController.go:219","msg":"Global NSE diff result: 2 new NSEs to add, 0 NSEs to delete","app":"nse-discovery"}
{"level":"info","ts":1632438512.9486127,"caller":"nseinformer/nseInformerController.go:222","msg":"Registering 2 local NSEs to global registry","app":"nse-discovery"}
time="2021-09-23T23:08:32Z" level=info msg="Requesting NseRegistryClient..."
time="2021-09-23T23:08:32Z" level=info msg="==--> initRegistryClient() span:29492523aca583cb:29492523aca583cb:0000000000000000:1"
time="2021-09-23T23:08:32Z" level=info msg="Waiting for liveness probe: tcp:example.wcm-cisco.com:443"
time="2021-09-23T23:08:32Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="29492523aca583cb:29492523aca583cb:0000000000000000:1"
time="2021-09-23T23:08:32Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:08:32Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:08:32Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:08:32Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:08:32Z" level=info msg="Found the right tls certificate for target: example.wcm-cisco.com:443"
time="2021-09-23T23:08:32Z" level=info msg="Successfully connected to example.wcm-cisco.com:443" operation=initRegistryClient span="29492523aca583cb:29492523aca583cb:0000000000000000:1"
2021/09/23 23:08:32 Reporting span 29492523aca583cb:29492523aca583cb:0000000000000000:1
time="2021-09-23T23:08:32Z" level=info msg=">><<-- /registry.NetworkServiceRegistry/RegisterNSE()=\"\" span=<nil>"
time="2021-09-23T23:08:32Z" level=info msg=">><<-- request={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
2021/09/23 23:08:33 Reporting span 0cf1e8abc30dd507:0cf1e8abc30dd507:0000000000000000:1
time="2021-09-23T23:08:33Z" level=info msg=">><<-- response={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"expiration_time\":{\"seconds\":40},\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
time="2021-09-23T23:08:33Z" level=info msg=">><<-- /registry.NetworkServiceRegistry/RegisterNSE()=\"\" span=<nil>"
time="2021-09-23T23:08:33Z" level=info msg=">><<-- request={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
2021/09/23 23:08:33 Reporting span 22f73456cc1aaeb0:22f73456cc1aaeb0:0000000000000000:1
time="2021-09-23T23:08:33Z" level=info msg=">><<-- response={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"expiration_time\":{\"seconds\":40},\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
{"level":"info","ts":1632438513.0137067,"caller":"nseinformer/nseInformerController.go:284","msg":"No endpoints to remove from Global registry.","app":"nse-discovery"}
{"level":"info","ts":1632438513.0138316,"caller":"nseinformer/nseInformerController.go:172","msg":"Processing NSE named example2kxlp...","app":"nse-discovery"}
{"level":"info","ts":1632438513.0138407,"caller":"nseinformer/nseInformerController.go:179","msg":"Found service name: example","app":"nse-discovery"}
{"level":"info","ts":1632438513.0139546,"caller":"nseinformer/nseInformerController.go:194","msg":"Getting endpoints from the local NSR","app":"nse-discovery"}
time="2021-09-23T23:08:33Z" level=info msg="==--> discovery.FindNetworkService() span:717285da2a134479:717285da2a134479:0000000000000000:1"
time="2021-09-23T23:08:33Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=717285da2a134479:717285da2a134479:0000000000000000:1"
time="2021-09-23T23:08:33Z" level=info msg=">><<-- nsrURL=\"wcm-proxy-nsmgr.nsm-system:5005\" span=717285da2a134479:717285da2a134479:0000000000000000:1"
time="2021-09-23T23:08:33Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-09-23T23:08:33Z" level=info msg="==----> initRegistryClient() span:717285da2a134479:6d7a3cd178f2688c:717285da2a134479:1"
time="2021-09-23T23:08:33Z" level=info msg="Waiting for liveness probe: tcp:wcm-proxy-nsmgr.nsm-system:5005"
time="2021-09-23T23:08:33Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="717285da2a134479:6d7a3cd178f2688c:717285da2a134479:1"
time="2021-09-23T23:08:33Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:08:33Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:08:33Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:08:33Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:08:33Z" level=info msg="Found the right tls certificate for target: wcm-proxy-nsmgr.nsm-system:5005"
time="2021-09-23T23:08:33Z" level=info msg="Successfully connected to wcm-proxy-nsmgr.nsm-system:5005" operation=initRegistryClient span="717285da2a134479:6d7a3cd178f2688c:717285da2a134479:1"
2021/09/23 23:08:33 Reporting span 717285da2a134479:6d7a3cd178f2688c:717285da2a134479:1
{"level":"info","ts":1632438513.0520134,"caller":"nseinformer/nseInformerController.go:426","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-09-23T23:08:33Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=717285da2a134479:717285da2a134479:0000000000000000:1"
time="2021-09-23T23:08:33Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=717285da2a134479:717285da2a134479:0000000000000000:1"
2021/09/23 23:08:33 Reporting span 717285da2a134479:61d5bcc7dad85a33:717285da2a134479:1
time="2021-09-23T23:08:33Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-12-control-plane\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}]} span=717285da2a134479:717285da2a134479:0000000000000000:1"
2021/09/23 23:08:33 Reporting span 717285da2a134479:717285da2a134479:0000000000000000:1
{"level":"info","ts":1632438513.0679908,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name examplecscn5","app":"nse-discovery"}
{"level":"info","ts":1632438513.0680318,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example2kxlp","app":"nse-discovery"}
{"level":"info","ts":1632438513.06804,"caller":"nseinformer/nseInformerController.go:202","msg":"Retrieved 2 endpoints from the local NSR","app":"nse-discovery"}
{"level":"info","ts":1632438513.068047,"caller":"nseinformer/nseInformerController.go:205","msg":"Getting endpoints from the global NSR at: example.wcm-cisco.com:443","app":"nse-discovery"}
time="2021-09-23T23:08:33Z" level=info msg="==--> discovery.FindNetworkService() span:7bab17359e0caa0e:7bab17359e0caa0e:0000000000000000:1"
time="2021-09-23T23:08:33Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=7bab17359e0caa0e:7bab17359e0caa0e:0000000000000000:1"
time="2021-09-23T23:08:33Z" level=info msg=">><<-- nsrURL=\"example.wcm-cisco.com:443\" span=7bab17359e0caa0e:7bab17359e0caa0e:0000000000000000:1"
time="2021-09-23T23:08:33Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-09-23T23:08:33Z" level=info msg="==----> initRegistryClient() span:7bab17359e0caa0e:5b71859dfa296d33:7bab17359e0caa0e:1"
time="2021-09-23T23:08:33Z" level=info msg="Waiting for liveness probe: tcp:example.wcm-cisco.com:443"
time="2021-09-23T23:08:33Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="7bab17359e0caa0e:5b71859dfa296d33:7bab17359e0caa0e:1"
time="2021-09-23T23:08:33Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:08:33Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:08:33Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:08:33Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:08:33Z" level=info msg="Found the right tls certificate for target: example.wcm-cisco.com:443"
time="2021-09-23T23:08:33Z" level=info msg="Successfully connected to example.wcm-cisco.com:443" operation=initRegistryClient span="7bab17359e0caa0e:5b71859dfa296d33:7bab17359e0caa0e:1"
2021/09/23 23:08:33 Reporting span 7bab17359e0caa0e:5b71859dfa296d33:7bab17359e0caa0e:1
{"level":"info","ts":1632438513.1344318,"caller":"nseinformer/nseInformerController.go:426","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-09-23T23:08:33Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=7bab17359e0caa0e:7bab17359e0caa0e:0000000000000000:1"
time="2021-09-23T23:08:33Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=7bab17359e0caa0e:7bab17359e0caa0e:0000000000000000:1"
2021/09/23 23:08:33 Reporting span 7bab17359e0caa0e:78ff215025305202:7bab17359e0caa0e:1
time="2021-09-23T23:08:33Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-11-control-plane\":{\"name\":\"kind-11-control-plane\",\"url\":\"172.17.0.3:5001\",\"expiration_time\":{\"seconds\":40},\"state\":\"RUNNING\"},\"kind-12-control-plane\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"expiration_time\":{\"seconds\":40},\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"example798f5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-11-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-11_vl3-nse-example-5859574cb9-vsm49\",\"wcm/cluster\":\"kind-11\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"exampler6q79\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-11-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-11_vl3-nse-example-5859574cb9-lzths\",\"wcm/cluster\":\"kind-11\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}]} span=7bab17359e0caa0e:7bab17359e0caa0e:0000000000000000:1"
2021/09/23 23:08:33 Reporting span 7bab17359e0caa0e:7bab17359e0caa0e:0000000000000000:1
{"level":"info","ts":1632438513.1386995,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example2kxlp","app":"nse-discovery"}
{"level":"info","ts":1632438513.13881,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example798f5","app":"nse-discovery"}
{"level":"info","ts":1632438513.138978,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name examplecscn5","app":"nse-discovery"}
{"level":"info","ts":1632438513.1390119,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name exampler6q79","app":"nse-discovery"}
{"level":"info","ts":1632438513.139081,"caller":"nseinformer/nseInformerController.go:214","msg":"Retrieved 4 endpoints from the global NSR","app":"nse-discovery"}
{"level":"info","ts":1632438513.1391103,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438513.1391466,"caller":"nseinformer/nseInformerController.go:349","msg":"NSE diff:  For cluster kind-12, skipping endpoint 'example798f5'","app":"nse-discovery"}
{"level":"info","ts":1632438513.1391745,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438513.1392057,"caller":"nseinformer/nseInformerController.go:349","msg":"NSE diff:  For cluster kind-12, skipping endpoint 'exampler6q79'","app":"nse-discovery"}
{"level":"info","ts":1632438513.1392343,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438513.139253,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438513.1392787,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438513.1393113,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438513.139414,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438513.1394997,"caller":"nseinformer/nseInformerController.go:362","msg":"NSE diff:  For cluster kind-12, skip comparing endpoint 'example798f5'","app":"nse-discovery"}
{"level":"info","ts":1632438513.1395302,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438513.1395717,"caller":"nseinformer/nseInformerController.go:362","msg":"NSE diff:  For cluster kind-12, skip comparing endpoint 'exampler6q79'","app":"nse-discovery"}
{"level":"info","ts":1632438513.1395993,"caller":"nseinformer/nseInformerController.go:219","msg":"Global NSE diff result: 0 new NSEs to add, 0 NSEs to delete","app":"nse-discovery"}
{"level":"info","ts":1632438513.1396346,"caller":"nseinformer/nseInformerController.go:222","msg":"Registering 2 local NSEs to global registry","app":"nse-discovery"}
time="2021-09-23T23:08:33Z" level=info msg="Requesting NseRegistryClient..."
time="2021-09-23T23:08:33Z" level=info msg="==--> initRegistryClient() span:5430230d32b4bded:5430230d32b4bded:0000000000000000:1"
time="2021-09-23T23:08:33Z" level=info msg="Waiting for liveness probe: tcp:example.wcm-cisco.com:443"
time="2021-09-23T23:08:33Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="5430230d32b4bded:5430230d32b4bded:0000000000000000:1"
time="2021-09-23T23:08:33Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:08:33Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:08:33Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:08:33Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:08:33Z" level=info msg="Found the right tls certificate for target: example.wcm-cisco.com:443"
time="2021-09-23T23:08:33Z" level=info msg="Successfully connected to example.wcm-cisco.com:443" operation=initRegistryClient span="5430230d32b4bded:5430230d32b4bded:0000000000000000:1"
2021/09/23 23:08:33 Reporting span 5430230d32b4bded:5430230d32b4bded:0000000000000000:1
time="2021-09-23T23:08:33Z" level=info msg=">><<-- /registry.NetworkServiceRegistry/RegisterNSE()=\"\" span=<nil>"
time="2021-09-23T23:08:33Z" level=info msg=">><<-- request={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
2021/09/23 23:08:33 Reporting span 676aba34dfa0ed9a:676aba34dfa0ed9a:0000000000000000:1
time="2021-09-23T23:08:33Z" level=info msg=">><<-- response={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
time="2021-09-23T23:08:33Z" level=info msg=">><<-- /registry.NetworkServiceRegistry/RegisterNSE()=\"\" span=<nil>"
time="2021-09-23T23:08:33Z" level=info msg=">><<-- request={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
2021/09/23 23:08:33 Reporting span 453cb4b3e2ff2af8:453cb4b3e2ff2af8:0000000000000000:1
time="2021-09-23T23:08:33Z" level=info msg=">><<-- response={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
{"level":"info","ts":1632438513.2135856,"caller":"nseinformer/nseInformerController.go:284","msg":"No endpoints to remove from Global registry.","app":"nse-discovery"}
{"level":"info","ts":1632438538.7656581,"caller":"nseinformer/nseInformerController.go:123","msg":"NSE pod: &{{ } {examplecscn5 example nsm-system /apis/networkservicemesh.io/v1alpha1/namespaces/nsm-system/networkserviceendpoints/examplecscn5 429d782d-3493-4ea4-ad95-6bdada125d2f 2187 1 2021-09-23 23:08:32 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:example-kind-12_vl3-nse-example-dff8646dd-ch2hz wcm/nsr.addr:example.wcm-cisco.com wcm/nsr.port:443] map[] [] []  []} {example IP kind-12-control-plane} {RUNNING}} was updated with: &{{ } {examplecscn5 example nsm-system /apis/networkservicemesh.io/v1alpha1/namespaces/nsm-system/networkserviceendpoints/examplecscn5 429d782d-3493-4ea4-ad95-6bdada125d2f 2187 1 2021-09-23 23:08:32 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:example-kind-12_vl3-nse-example-dff8646dd-ch2hz wcm/nsr.addr:example.wcm-cisco.com wcm/nsr.port:443] map[] [] []  []} {example IP kind-12-control-plane} {RUNNING}}","app":"nse-discovery"}
{"level":"info","ts":1632438538.765848,"caller":"nseinformer/nseInformerController.go:123","msg":"NSE pod: &{{ } {example2kxlp example nsm-system /apis/networkservicemesh.io/v1alpha1/namespaces/nsm-system/networkserviceendpoints/example2kxlp 3b867dc3-b412-41b9-8d8b-17fa6d257ef9 2191 1 2021-09-23 23:08:32 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:example-kind-12_vl3-nse-example-dff8646dd-dgzfk wcm/nsr.addr:example.wcm-cisco.com wcm/nsr.port:443] map[] [] []  []} {example IP kind-12-control-plane} {RUNNING}} was updated with: &{{ } {example2kxlp example nsm-system /apis/networkservicemesh.io/v1alpha1/namespaces/nsm-system/networkserviceendpoints/example2kxlp 3b867dc3-b412-41b9-8d8b-17fa6d257ef9 2191 1 2021-09-23 23:08:32 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:example-kind-12_vl3-nse-example-dff8646dd-dgzfk wcm/nsr.addr:example.wcm-cisco.com wcm/nsr.port:443] map[] [] []  []} {example IP kind-12-control-plane} {RUNNING}}","app":"nse-discovery"}
{"level":"info","ts":1632438538.7658417,"caller":"nseinformer/nseInformerController.go:172","msg":"Processing NSE named examplecscn5...","app":"nse-discovery"}
{"level":"info","ts":1632438538.7658865,"caller":"nseinformer/nseInformerController.go:179","msg":"Found service name: example","app":"nse-discovery"}
{"level":"info","ts":1632438538.7659001,"caller":"nseinformer/nseInformerController.go:194","msg":"Getting endpoints from the local NSR","app":"nse-discovery"}
time="2021-09-23T23:08:58Z" level=info msg="==--> discovery.FindNetworkService() span:215eb81fd4985cfd:215eb81fd4985cfd:0000000000000000:1"
time="2021-09-23T23:08:58Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=215eb81fd4985cfd:215eb81fd4985cfd:0000000000000000:1"
time="2021-09-23T23:08:58Z" level=info msg=">><<-- nsrURL=\"wcm-proxy-nsmgr.nsm-system:5005\" span=215eb81fd4985cfd:215eb81fd4985cfd:0000000000000000:1"
time="2021-09-23T23:08:58Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-09-23T23:08:58Z" level=info msg="==----> initRegistryClient() span:215eb81fd4985cfd:489404b2c255e9b9:215eb81fd4985cfd:1"
time="2021-09-23T23:08:58Z" level=info msg="Waiting for liveness probe: tcp:wcm-proxy-nsmgr.nsm-system:5005"
time="2021-09-23T23:08:58Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="215eb81fd4985cfd:489404b2c255e9b9:215eb81fd4985cfd:1"
time="2021-09-23T23:08:58Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:08:58Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:08:58Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:08:58Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:08:58Z" level=info msg="Found the right tls certificate for target: wcm-proxy-nsmgr.nsm-system:5005"
time="2021-09-23T23:08:58Z" level=info msg="Successfully connected to wcm-proxy-nsmgr.nsm-system:5005" operation=initRegistryClient span="215eb81fd4985cfd:489404b2c255e9b9:215eb81fd4985cfd:1"
2021/09/23 23:08:58 Reporting span 215eb81fd4985cfd:489404b2c255e9b9:215eb81fd4985cfd:1
{"level":"info","ts":1632438538.8034139,"caller":"nseinformer/nseInformerController.go:426","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-09-23T23:08:58Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=215eb81fd4985cfd:215eb81fd4985cfd:0000000000000000:1"
time="2021-09-23T23:08:58Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=215eb81fd4985cfd:215eb81fd4985cfd:0000000000000000:1"
2021/09/23 23:08:58 Reporting span 215eb81fd4985cfd:3ed492e60cf41820:215eb81fd4985cfd:1
time="2021-09-23T23:08:58Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-12-control-plane\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}]} span=215eb81fd4985cfd:215eb81fd4985cfd:0000000000000000:1"
2021/09/23 23:08:58 Reporting span 215eb81fd4985cfd:215eb81fd4985cfd:0000000000000000:1
{"level":"info","ts":1632438538.8126962,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name examplecscn5","app":"nse-discovery"}
{"level":"info","ts":1632438538.8128314,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example2kxlp","app":"nse-discovery"}
{"level":"info","ts":1632438538.8128395,"caller":"nseinformer/nseInformerController.go:202","msg":"Retrieved 2 endpoints from the local NSR","app":"nse-discovery"}
{"level":"info","ts":1632438538.8128462,"caller":"nseinformer/nseInformerController.go:205","msg":"Getting endpoints from the global NSR at: example.wcm-cisco.com:443","app":"nse-discovery"}
time="2021-09-23T23:08:58Z" level=info msg="==--> discovery.FindNetworkService() span:30d705b51829cbce:30d705b51829cbce:0000000000000000:1"
time="2021-09-23T23:08:58Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=30d705b51829cbce:30d705b51829cbce:0000000000000000:1"
time="2021-09-23T23:08:58Z" level=info msg=">><<-- nsrURL=\"example.wcm-cisco.com:443\" span=30d705b51829cbce:30d705b51829cbce:0000000000000000:1"
time="2021-09-23T23:08:58Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-09-23T23:08:58Z" level=info msg="==----> initRegistryClient() span:30d705b51829cbce:7f852399e9c76e69:30d705b51829cbce:1"
time="2021-09-23T23:08:58Z" level=info msg="Waiting for liveness probe: tcp:example.wcm-cisco.com:443"
time="2021-09-23T23:08:58Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="30d705b51829cbce:7f852399e9c76e69:30d705b51829cbce:1"
time="2021-09-23T23:08:58Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:08:58Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:08:58Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:08:58Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:08:58Z" level=info msg="Found the right tls certificate for target: example.wcm-cisco.com:443"
time="2021-09-23T23:08:58Z" level=info msg="Successfully connected to example.wcm-cisco.com:443" operation=initRegistryClient span="30d705b51829cbce:7f852399e9c76e69:30d705b51829cbce:1"
2021/09/23 23:08:58 Reporting span 30d705b51829cbce:7f852399e9c76e69:30d705b51829cbce:1
{"level":"info","ts":1632438538.8524013,"caller":"nseinformer/nseInformerController.go:426","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-09-23T23:08:58Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=30d705b51829cbce:30d705b51829cbce:0000000000000000:1"
time="2021-09-23T23:08:58Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=30d705b51829cbce:30d705b51829cbce:0000000000000000:1"
2021/09/23 23:08:58 Reporting span 30d705b51829cbce:198a29fd6d93a5a0:30d705b51829cbce:1
time="2021-09-23T23:08:58Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-11-control-plane\":{\"name\":\"kind-11-control-plane\",\"url\":\"172.17.0.3:5001\",\"expiration_time\":{\"seconds\":40},\"state\":\"RUNNING\"},\"kind-12-control-plane\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"expiration_time\":{\"seconds\":40},\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"example798f5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-11-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-11_vl3-nse-example-5859574cb9-vsm49\",\"wcm/cluster\":\"kind-11\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"exampler6q79\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-11-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-11_vl3-nse-example-5859574cb9-lzths\",\"wcm/cluster\":\"kind-11\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}]} span=30d705b51829cbce:30d705b51829cbce:0000000000000000:1"
2021/09/23 23:08:58 Reporting span 30d705b51829cbce:30d705b51829cbce:0000000000000000:1
{"level":"info","ts":1632438538.8579032,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example2kxlp","app":"nse-discovery"}
{"level":"info","ts":1632438538.8579285,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example798f5","app":"nse-discovery"}
{"level":"info","ts":1632438538.857935,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name examplecscn5","app":"nse-discovery"}
{"level":"info","ts":1632438538.85794,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name exampler6q79","app":"nse-discovery"}
{"level":"info","ts":1632438538.8579514,"caller":"nseinformer/nseInformerController.go:214","msg":"Retrieved 4 endpoints from the global NSR","app":"nse-discovery"}
{"level":"info","ts":1632438538.8579597,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438538.8579655,"caller":"nseinformer/nseInformerController.go:349","msg":"NSE diff:  For cluster kind-12, skipping endpoint 'example798f5'","app":"nse-discovery"}
{"level":"info","ts":1632438538.8579707,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438538.8579755,"caller":"nseinformer/nseInformerController.go:349","msg":"NSE diff:  For cluster kind-12, skipping endpoint 'exampler6q79'","app":"nse-discovery"}
{"level":"info","ts":1632438538.857982,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438538.8579965,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438538.8580084,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438538.858013,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438538.8580174,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438538.8580265,"caller":"nseinformer/nseInformerController.go:362","msg":"NSE diff:  For cluster kind-12, skip comparing endpoint 'example798f5'","app":"nse-discovery"}
{"level":"info","ts":1632438538.8580315,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438538.8580363,"caller":"nseinformer/nseInformerController.go:362","msg":"NSE diff:  For cluster kind-12, skip comparing endpoint 'exampler6q79'","app":"nse-discovery"}
{"level":"info","ts":1632438538.8580468,"caller":"nseinformer/nseInformerController.go:219","msg":"Global NSE diff result: 0 new NSEs to add, 0 NSEs to delete","app":"nse-discovery"}
{"level":"info","ts":1632438538.858052,"caller":"nseinformer/nseInformerController.go:222","msg":"Registering 2 local NSEs to global registry","app":"nse-discovery"}
time="2021-09-23T23:08:58Z" level=info msg="Requesting NseRegistryClient..."
time="2021-09-23T23:08:58Z" level=info msg="==--> initRegistryClient() span:7cd924d351afb5e7:7cd924d351afb5e7:0000000000000000:1"
time="2021-09-23T23:08:58Z" level=info msg="Waiting for liveness probe: tcp:example.wcm-cisco.com:443"
time="2021-09-23T23:08:58Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="7cd924d351afb5e7:7cd924d351afb5e7:0000000000000000:1"
time="2021-09-23T23:08:58Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:08:58Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:08:58Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:08:58Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:08:58Z" level=info msg="Found the right tls certificate for target: example.wcm-cisco.com:443"
time="2021-09-23T23:08:58Z" level=info msg="Successfully connected to example.wcm-cisco.com:443" operation=initRegistryClient span="7cd924d351afb5e7:7cd924d351afb5e7:0000000000000000:1"
2021/09/23 23:08:58 Reporting span 7cd924d351afb5e7:7cd924d351afb5e7:0000000000000000:1
time="2021-09-23T23:08:58Z" level=info msg=">><<-- /registry.NetworkServiceRegistry/RegisterNSE()=\"\" span=<nil>"
time="2021-09-23T23:08:58Z" level=info msg=">><<-- request={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
2021/09/23 23:08:58 Reporting span 331801bf0381bc9a:331801bf0381bc9a:0000000000000000:1
time="2021-09-23T23:08:58Z" level=info msg=">><<-- response={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
time="2021-09-23T23:08:58Z" level=info msg=">><<-- /registry.NetworkServiceRegistry/RegisterNSE()=\"\" span=<nil>"
time="2021-09-23T23:08:58Z" level=info msg=">><<-- request={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
2021/09/23 23:08:58 Reporting span 28a942c9d8408e2a:28a942c9d8408e2a:0000000000000000:1
time="2021-09-23T23:08:58Z" level=info msg=">><<-- response={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
{"level":"info","ts":1632438538.9051764,"caller":"nseinformer/nseInformerController.go:284","msg":"No endpoints to remove from Global registry.","app":"nse-discovery"}
{"level":"info","ts":1632438538.9052143,"caller":"nseinformer/nseInformerController.go:172","msg":"Processing NSE named example2kxlp...","app":"nse-discovery"}
{"level":"info","ts":1632438538.9052203,"caller":"nseinformer/nseInformerController.go:179","msg":"Found service name: example","app":"nse-discovery"}
{"level":"info","ts":1632438538.9052284,"caller":"nseinformer/nseInformerController.go:194","msg":"Getting endpoints from the local NSR","app":"nse-discovery"}
time="2021-09-23T23:08:58Z" level=info msg="==--> discovery.FindNetworkService() span:2fc1f437e04d5635:2fc1f437e04d5635:0000000000000000:1"
time="2021-09-23T23:08:58Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=2fc1f437e04d5635:2fc1f437e04d5635:0000000000000000:1"
time="2021-09-23T23:08:58Z" level=info msg=">><<-- nsrURL=\"wcm-proxy-nsmgr.nsm-system:5005\" span=2fc1f437e04d5635:2fc1f437e04d5635:0000000000000000:1"
time="2021-09-23T23:08:58Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-09-23T23:08:58Z" level=info msg="==----> initRegistryClient() span:2fc1f437e04d5635:0350d49e5929c920:2fc1f437e04d5635:1"
time="2021-09-23T23:08:58Z" level=info msg="Waiting for liveness probe: tcp:wcm-proxy-nsmgr.nsm-system:5005"
time="2021-09-23T23:08:58Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="2fc1f437e04d5635:0350d49e5929c920:2fc1f437e04d5635:1"
time="2021-09-23T23:08:58Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:08:58Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:08:58Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:08:58Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:08:58Z" level=info msg="Found the right tls certificate for target: wcm-proxy-nsmgr.nsm-system:5005"
time="2021-09-23T23:08:58Z" level=info msg="Successfully connected to wcm-proxy-nsmgr.nsm-system:5005" operation=initRegistryClient span="2fc1f437e04d5635:0350d49e5929c920:2fc1f437e04d5635:1"
2021/09/23 23:08:58 Reporting span 2fc1f437e04d5635:0350d49e5929c920:2fc1f437e04d5635:1
{"level":"info","ts":1632438538.9405792,"caller":"nseinformer/nseInformerController.go:426","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-09-23T23:08:58Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=2fc1f437e04d5635:2fc1f437e04d5635:0000000000000000:1"
time="2021-09-23T23:08:58Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=2fc1f437e04d5635:2fc1f437e04d5635:0000000000000000:1"
2021/09/23 23:08:58 Reporting span 2fc1f437e04d5635:3cf7e76c760200c8:2fc1f437e04d5635:1
time="2021-09-23T23:08:58Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-12-control-plane\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}]} span=2fc1f437e04d5635:2fc1f437e04d5635:0000000000000000:1"
2021/09/23 23:08:58 Reporting span 2fc1f437e04d5635:2fc1f437e04d5635:0000000000000000:1
{"level":"info","ts":1632438538.94577,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name examplecscn5","app":"nse-discovery"}
{"level":"info","ts":1632438538.9457943,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example2kxlp","app":"nse-discovery"}
{"level":"info","ts":1632438538.9458015,"caller":"nseinformer/nseInformerController.go:202","msg":"Retrieved 2 endpoints from the local NSR","app":"nse-discovery"}
{"level":"info","ts":1632438538.9458113,"caller":"nseinformer/nseInformerController.go:205","msg":"Getting endpoints from the global NSR at: example.wcm-cisco.com:443","app":"nse-discovery"}
time="2021-09-23T23:08:58Z" level=info msg="==--> discovery.FindNetworkService() span:49464025f994be66:49464025f994be66:0000000000000000:1"
time="2021-09-23T23:08:58Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=49464025f994be66:49464025f994be66:0000000000000000:1"
time="2021-09-23T23:08:58Z" level=info msg=">><<-- nsrURL=\"example.wcm-cisco.com:443\" span=49464025f994be66:49464025f994be66:0000000000000000:1"
time="2021-09-23T23:08:58Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-09-23T23:08:58Z" level=info msg="==----> initRegistryClient() span:49464025f994be66:7a9b3ba6fc4a8ca3:49464025f994be66:1"
time="2021-09-23T23:08:58Z" level=info msg="Waiting for liveness probe: tcp:example.wcm-cisco.com:443"
time="2021-09-23T23:08:58Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="49464025f994be66:7a9b3ba6fc4a8ca3:49464025f994be66:1"
time="2021-09-23T23:08:58Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:08:58Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:08:58Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:08:58Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:08:58Z" level=info msg="Found the right tls certificate for target: example.wcm-cisco.com:443"
time="2021-09-23T23:08:58Z" level=info msg="Successfully connected to example.wcm-cisco.com:443" operation=initRegistryClient span="49464025f994be66:7a9b3ba6fc4a8ca3:49464025f994be66:1"
2021/09/23 23:08:58 Reporting span 49464025f994be66:7a9b3ba6fc4a8ca3:49464025f994be66:1
{"level":"info","ts":1632438538.9707153,"caller":"nseinformer/nseInformerController.go:426","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-09-23T23:08:58Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=49464025f994be66:49464025f994be66:0000000000000000:1"
time="2021-09-23T23:08:58Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=49464025f994be66:49464025f994be66:0000000000000000:1"
2021/09/23 23:08:58 Reporting span 49464025f994be66:6af718645c36824a:49464025f994be66:1
time="2021-09-23T23:08:58Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-11-control-plane\":{\"name\":\"kind-11-control-plane\",\"url\":\"172.17.0.3:5001\",\"expiration_time\":{\"seconds\":40},\"state\":\"RUNNING\"},\"kind-12-control-plane\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"expiration_time\":{\"seconds\":40},\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"example798f5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-11-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-11_vl3-nse-example-5859574cb9-vsm49\",\"wcm/cluster\":\"kind-11\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"exampler6q79\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-11-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-11_vl3-nse-example-5859574cb9-lzths\",\"wcm/cluster\":\"kind-11\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}]} span=49464025f994be66:49464025f994be66:0000000000000000:1"
2021/09/23 23:08:58 Reporting span 49464025f994be66:49464025f994be66:0000000000000000:1
{"level":"info","ts":1632438538.9757137,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example2kxlp","app":"nse-discovery"}
{"level":"info","ts":1632438538.9758525,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example798f5","app":"nse-discovery"}
{"level":"info","ts":1632438538.9758618,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name examplecscn5","app":"nse-discovery"}
{"level":"info","ts":1632438538.9758728,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name exampler6q79","app":"nse-discovery"}
{"level":"info","ts":1632438538.9758797,"caller":"nseinformer/nseInformerController.go:214","msg":"Retrieved 4 endpoints from the global NSR","app":"nse-discovery"}
{"level":"info","ts":1632438538.975888,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438538.975895,"caller":"nseinformer/nseInformerController.go:349","msg":"NSE diff:  For cluster kind-12, skipping endpoint 'example798f5'","app":"nse-discovery"}
{"level":"info","ts":1632438538.975998,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438538.9760053,"caller":"nseinformer/nseInformerController.go:349","msg":"NSE diff:  For cluster kind-12, skipping endpoint 'exampler6q79'","app":"nse-discovery"}
{"level":"info","ts":1632438538.9760118,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438538.9760177,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438538.9760287,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438538.9760344,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438538.9760394,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438538.97606,"caller":"nseinformer/nseInformerController.go:362","msg":"NSE diff:  For cluster kind-12, skip comparing endpoint 'example798f5'","app":"nse-discovery"}
{"level":"info","ts":1632438538.9760742,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438538.9760795,"caller":"nseinformer/nseInformerController.go:362","msg":"NSE diff:  For cluster kind-12, skip comparing endpoint 'exampler6q79'","app":"nse-discovery"}
{"level":"info","ts":1632438538.9760854,"caller":"nseinformer/nseInformerController.go:219","msg":"Global NSE diff result: 0 new NSEs to add, 0 NSEs to delete","app":"nse-discovery"}
{"level":"info","ts":1632438538.9760942,"caller":"nseinformer/nseInformerController.go:222","msg":"Registering 2 local NSEs to global registry","app":"nse-discovery"}
time="2021-09-23T23:08:58Z" level=info msg="Requesting NseRegistryClient..."
time="2021-09-23T23:08:58Z" level=info msg="==--> initRegistryClient() span:2c0ced4f1122f6d8:2c0ced4f1122f6d8:0000000000000000:1"
time="2021-09-23T23:08:58Z" level=info msg="Waiting for liveness probe: tcp:example.wcm-cisco.com:443"
time="2021-09-23T23:08:58Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="2c0ced4f1122f6d8:2c0ced4f1122f6d8:0000000000000000:1"
time="2021-09-23T23:08:58Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:08:58Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:08:58Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:08:58Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:08:59Z" level=info msg="Found the right tls certificate for target: example.wcm-cisco.com:443"
time="2021-09-23T23:08:59Z" level=info msg="Successfully connected to example.wcm-cisco.com:443" operation=initRegistryClient span="2c0ced4f1122f6d8:2c0ced4f1122f6d8:0000000000000000:1"
2021/09/23 23:08:59 Reporting span 2c0ced4f1122f6d8:2c0ced4f1122f6d8:0000000000000000:1
time="2021-09-23T23:08:59Z" level=info msg=">><<-- /registry.NetworkServiceRegistry/RegisterNSE()=\"\" span=<nil>"
time="2021-09-23T23:08:59Z" level=info msg=">><<-- request={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
2021/09/23 23:08:59 Reporting span 74a471610cb3f8af:74a471610cb3f8af:0000000000000000:1
time="2021-09-23T23:08:59Z" level=info msg=">><<-- response={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
time="2021-09-23T23:08:59Z" level=info msg=">><<-- /registry.NetworkServiceRegistry/RegisterNSE()=\"\" span=<nil>"
time="2021-09-23T23:08:59Z" level=info msg=">><<-- request={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
2021/09/23 23:08:59 Reporting span 68b5bb1baae6c9e3:68b5bb1baae6c9e3:0000000000000000:1
time="2021-09-23T23:08:59Z" level=info msg=">><<-- response={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
{"level":"info","ts":1632438539.0279691,"caller":"nseinformer/nseInformerController.go:284","msg":"No endpoints to remove from Global registry.","app":"nse-discovery"}
{"level":"info","ts":1632438568.766221,"caller":"nseinformer/nseInformerController.go:123","msg":"NSE pod: &{{ } {examplecscn5 example nsm-system /apis/networkservicemesh.io/v1alpha1/namespaces/nsm-system/networkserviceendpoints/examplecscn5 429d782d-3493-4ea4-ad95-6bdada125d2f 2187 1 2021-09-23 23:08:32 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:example-kind-12_vl3-nse-example-dff8646dd-ch2hz wcm/nsr.addr:example.wcm-cisco.com wcm/nsr.port:443] map[] [] []  []} {example IP kind-12-control-plane} {RUNNING}} was updated with: &{{ } {examplecscn5 example nsm-system /apis/networkservicemesh.io/v1alpha1/namespaces/nsm-system/networkserviceendpoints/examplecscn5 429d782d-3493-4ea4-ad95-6bdada125d2f 2187 1 2021-09-23 23:08:32 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:example-kind-12_vl3-nse-example-dff8646dd-ch2hz wcm/nsr.addr:example.wcm-cisco.com wcm/nsr.port:443] map[] [] []  []} {example IP kind-12-control-plane} {RUNNING}}","app":"nse-discovery"}
{"level":"info","ts":1632438568.7665014,"caller":"nseinformer/nseInformerController.go:123","msg":"NSE pod: &{{ } {example2kxlp example nsm-system /apis/networkservicemesh.io/v1alpha1/namespaces/nsm-system/networkserviceendpoints/example2kxlp 3b867dc3-b412-41b9-8d8b-17fa6d257ef9 2191 1 2021-09-23 23:08:32 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:example-kind-12_vl3-nse-example-dff8646dd-dgzfk wcm/nsr.addr:example.wcm-cisco.com wcm/nsr.port:443] map[] [] []  []} {example IP kind-12-control-plane} {RUNNING}} was updated with: &{{ } {example2kxlp example nsm-system /apis/networkservicemesh.io/v1alpha1/namespaces/nsm-system/networkserviceendpoints/example2kxlp 3b867dc3-b412-41b9-8d8b-17fa6d257ef9 2191 1 2021-09-23 23:08:32 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:example-kind-12_vl3-nse-example-dff8646dd-dgzfk wcm/nsr.addr:example.wcm-cisco.com wcm/nsr.port:443] map[] [] []  []} {example IP kind-12-control-plane} {RUNNING}}","app":"nse-discovery"}
{"level":"info","ts":1632438568.76653,"caller":"nseinformer/nseInformerController.go:172","msg":"Processing NSE named examplecscn5...","app":"nse-discovery"}
{"level":"info","ts":1632438568.766537,"caller":"nseinformer/nseInformerController.go:179","msg":"Found service name: example","app":"nse-discovery"}
{"level":"info","ts":1632438568.7665536,"caller":"nseinformer/nseInformerController.go:194","msg":"Getting endpoints from the local NSR","app":"nse-discovery"}
time="2021-09-23T23:09:28Z" level=info msg="==--> discovery.FindNetworkService() span:0f9c798c3a83f2a3:0f9c798c3a83f2a3:0000000000000000:1"
time="2021-09-23T23:09:28Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=0f9c798c3a83f2a3:0f9c798c3a83f2a3:0000000000000000:1"
time="2021-09-23T23:09:28Z" level=info msg=">><<-- nsrURL=\"wcm-proxy-nsmgr.nsm-system:5005\" span=0f9c798c3a83f2a3:0f9c798c3a83f2a3:0000000000000000:1"
time="2021-09-23T23:09:28Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-09-23T23:09:28Z" level=info msg="==----> initRegistryClient() span:0f9c798c3a83f2a3:6f3ba01c4bc8ae9e:0f9c798c3a83f2a3:1"
time="2021-09-23T23:09:28Z" level=info msg="Waiting for liveness probe: tcp:wcm-proxy-nsmgr.nsm-system:5005"
time="2021-09-23T23:09:28Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="0f9c798c3a83f2a3:6f3ba01c4bc8ae9e:0f9c798c3a83f2a3:1"
time="2021-09-23T23:09:28Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:09:28Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:09:28Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:09:28Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:09:28Z" level=info msg="Found the right tls certificate for target: wcm-proxy-nsmgr.nsm-system:5005"
time="2021-09-23T23:09:28Z" level=info msg="Successfully connected to wcm-proxy-nsmgr.nsm-system:5005" operation=initRegistryClient span="0f9c798c3a83f2a3:6f3ba01c4bc8ae9e:0f9c798c3a83f2a3:1"
2021/09/23 23:09:28 Reporting span 0f9c798c3a83f2a3:6f3ba01c4bc8ae9e:0f9c798c3a83f2a3:1
{"level":"info","ts":1632438568.7960553,"caller":"nseinformer/nseInformerController.go:426","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-09-23T23:09:28Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=0f9c798c3a83f2a3:0f9c798c3a83f2a3:0000000000000000:1"
time="2021-09-23T23:09:28Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=0f9c798c3a83f2a3:0f9c798c3a83f2a3:0000000000000000:1"
2021/09/23 23:09:28 Reporting span 0f9c798c3a83f2a3:5a0ab9a994ae0317:0f9c798c3a83f2a3:1
time="2021-09-23T23:09:28Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-12-control-plane\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}]} span=0f9c798c3a83f2a3:0f9c798c3a83f2a3:0000000000000000:1"
2021/09/23 23:09:28 Reporting span 0f9c798c3a83f2a3:0f9c798c3a83f2a3:0000000000000000:1
{"level":"info","ts":1632438568.801885,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name examplecscn5","app":"nse-discovery"}
{"level":"info","ts":1632438568.8019094,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example2kxlp","app":"nse-discovery"}
{"level":"info","ts":1632438568.8019164,"caller":"nseinformer/nseInformerController.go:202","msg":"Retrieved 2 endpoints from the local NSR","app":"nse-discovery"}
{"level":"info","ts":1632438568.8019228,"caller":"nseinformer/nseInformerController.go:205","msg":"Getting endpoints from the global NSR at: example.wcm-cisco.com:443","app":"nse-discovery"}
time="2021-09-23T23:09:28Z" level=info msg="==--> discovery.FindNetworkService() span:4797d212c350f6c9:4797d212c350f6c9:0000000000000000:1"
time="2021-09-23T23:09:28Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=4797d212c350f6c9:4797d212c350f6c9:0000000000000000:1"
time="2021-09-23T23:09:28Z" level=info msg=">><<-- nsrURL=\"example.wcm-cisco.com:443\" span=4797d212c350f6c9:4797d212c350f6c9:0000000000000000:1"
time="2021-09-23T23:09:28Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-09-23T23:09:28Z" level=info msg="==----> initRegistryClient() span:4797d212c350f6c9:656aaf2e7089265a:4797d212c350f6c9:1"
time="2021-09-23T23:09:28Z" level=info msg="Waiting for liveness probe: tcp:example.wcm-cisco.com:443"
time="2021-09-23T23:09:28Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="4797d212c350f6c9:656aaf2e7089265a:4797d212c350f6c9:1"
time="2021-09-23T23:09:28Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:09:28Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:09:28Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:09:28Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:09:28Z" level=info msg="Found the right tls certificate for target: example.wcm-cisco.com:443"
time="2021-09-23T23:09:28Z" level=info msg="Successfully connected to example.wcm-cisco.com:443" operation=initRegistryClient span="4797d212c350f6c9:656aaf2e7089265a:4797d212c350f6c9:1"
2021/09/23 23:09:28 Reporting span 4797d212c350f6c9:656aaf2e7089265a:4797d212c350f6c9:1
{"level":"info","ts":1632438568.83089,"caller":"nseinformer/nseInformerController.go:426","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-09-23T23:09:28Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=4797d212c350f6c9:4797d212c350f6c9:0000000000000000:1"
time="2021-09-23T23:09:28Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=4797d212c350f6c9:4797d212c350f6c9:0000000000000000:1"
2021/09/23 23:09:28 Reporting span 4797d212c350f6c9:45e9483f53c40cab:4797d212c350f6c9:1
time="2021-09-23T23:09:28Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-11-control-plane\":{\"name\":\"kind-11-control-plane\",\"url\":\"172.17.0.3:5001\",\"expiration_time\":{\"seconds\":40},\"state\":\"RUNNING\"},\"kind-12-control-plane\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"expiration_time\":{\"seconds\":40},\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"example798f5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-11-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-11_vl3-nse-example-5859574cb9-vsm49\",\"wcm/cluster\":\"kind-11\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"exampler6q79\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-11-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-11_vl3-nse-example-5859574cb9-lzths\",\"wcm/cluster\":\"kind-11\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}]} span=4797d212c350f6c9:4797d212c350f6c9:0000000000000000:1"
2021/09/23 23:09:28 Reporting span 4797d212c350f6c9:4797d212c350f6c9:0000000000000000:1
{"level":"info","ts":1632438568.8375869,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example2kxlp","app":"nse-discovery"}
{"level":"info","ts":1632438568.8376129,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example798f5","app":"nse-discovery"}
{"level":"info","ts":1632438568.8376186,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name examplecscn5","app":"nse-discovery"}
{"level":"info","ts":1632438568.8376236,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name exampler6q79","app":"nse-discovery"}
{"level":"info","ts":1632438568.8376303,"caller":"nseinformer/nseInformerController.go:214","msg":"Retrieved 4 endpoints from the global NSR","app":"nse-discovery"}
{"level":"info","ts":1632438568.8376396,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438568.8376513,"caller":"nseinformer/nseInformerController.go:349","msg":"NSE diff:  For cluster kind-12, skipping endpoint 'example798f5'","app":"nse-discovery"}
{"level":"info","ts":1632438568.837659,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438568.8376646,"caller":"nseinformer/nseInformerController.go:349","msg":"NSE diff:  For cluster kind-12, skipping endpoint 'exampler6q79'","app":"nse-discovery"}
{"level":"info","ts":1632438568.8376708,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438568.8376799,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438568.8376853,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438568.8376908,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438568.8376958,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438568.8377044,"caller":"nseinformer/nseInformerController.go:362","msg":"NSE diff:  For cluster kind-12, skip comparing endpoint 'example798f5'","app":"nse-discovery"}
{"level":"info","ts":1632438568.8377118,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438568.8377168,"caller":"nseinformer/nseInformerController.go:362","msg":"NSE diff:  For cluster kind-12, skip comparing endpoint 'exampler6q79'","app":"nse-discovery"}
{"level":"info","ts":1632438568.837727,"caller":"nseinformer/nseInformerController.go:219","msg":"Global NSE diff result: 0 new NSEs to add, 0 NSEs to delete","app":"nse-discovery"}
{"level":"info","ts":1632438568.8377326,"caller":"nseinformer/nseInformerController.go:222","msg":"Registering 2 local NSEs to global registry","app":"nse-discovery"}
time="2021-09-23T23:09:28Z" level=info msg="Requesting NseRegistryClient..."
time="2021-09-23T23:09:28Z" level=info msg="==--> initRegistryClient() span:06cda61383b8f05e:06cda61383b8f05e:0000000000000000:1"
time="2021-09-23T23:09:28Z" level=info msg="Waiting for liveness probe: tcp:example.wcm-cisco.com:443"
time="2021-09-23T23:09:28Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="06cda61383b8f05e:06cda61383b8f05e:0000000000000000:1"
time="2021-09-23T23:09:28Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:09:28Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:09:28Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:09:28Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:09:28Z" level=info msg="Found the right tls certificate for target: example.wcm-cisco.com:443"
time="2021-09-23T23:09:28Z" level=info msg="Successfully connected to example.wcm-cisco.com:443" operation=initRegistryClient span="06cda61383b8f05e:06cda61383b8f05e:0000000000000000:1"
2021/09/23 23:09:28 Reporting span 06cda61383b8f05e:06cda61383b8f05e:0000000000000000:1
time="2021-09-23T23:09:28Z" level=info msg=">><<-- /registry.NetworkServiceRegistry/RegisterNSE()=\"\" span=<nil>"
time="2021-09-23T23:09:28Z" level=info msg=">><<-- request={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
2021/09/23 23:09:28 Reporting span 675148969a3178ce:675148969a3178ce:0000000000000000:1
time="2021-09-23T23:09:28Z" level=info msg=">><<-- response={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
time="2021-09-23T23:09:28Z" level=info msg=">><<-- /registry.NetworkServiceRegistry/RegisterNSE()=\"\" span=<nil>"
time="2021-09-23T23:09:28Z" level=info msg=">><<-- request={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
2021/09/23 23:09:28 Reporting span 18266908d469d5f0:18266908d469d5f0:0000000000000000:1
time="2021-09-23T23:09:28Z" level=info msg=">><<-- response={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
{"level":"info","ts":1632438568.8840609,"caller":"nseinformer/nseInformerController.go:284","msg":"No endpoints to remove from Global registry.","app":"nse-discovery"}
{"level":"info","ts":1632438568.8841076,"caller":"nseinformer/nseInformerController.go:172","msg":"Processing NSE named example2kxlp...","app":"nse-discovery"}
{"level":"info","ts":1632438568.884116,"caller":"nseinformer/nseInformerController.go:179","msg":"Found service name: example","app":"nse-discovery"}
{"level":"info","ts":1632438568.8841226,"caller":"nseinformer/nseInformerController.go:194","msg":"Getting endpoints from the local NSR","app":"nse-discovery"}
time="2021-09-23T23:09:28Z" level=info msg="==--> discovery.FindNetworkService() span:7c599e51b7c6cabc:7c599e51b7c6cabc:0000000000000000:1"
time="2021-09-23T23:09:28Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=7c599e51b7c6cabc:7c599e51b7c6cabc:0000000000000000:1"
time="2021-09-23T23:09:28Z" level=info msg=">><<-- nsrURL=\"wcm-proxy-nsmgr.nsm-system:5005\" span=7c599e51b7c6cabc:7c599e51b7c6cabc:0000000000000000:1"
time="2021-09-23T23:09:28Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-09-23T23:09:28Z" level=info msg="==----> initRegistryClient() span:7c599e51b7c6cabc:47a041f6560606a1:7c599e51b7c6cabc:1"
time="2021-09-23T23:09:28Z" level=info msg="Waiting for liveness probe: tcp:wcm-proxy-nsmgr.nsm-system:5005"
time="2021-09-23T23:09:28Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="7c599e51b7c6cabc:47a041f6560606a1:7c599e51b7c6cabc:1"
time="2021-09-23T23:09:28Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:09:28Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:09:28Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:09:28Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:09:28Z" level=info msg="Found the right tls certificate for target: wcm-proxy-nsmgr.nsm-system:5005"
time="2021-09-23T23:09:28Z" level=info msg="Successfully connected to wcm-proxy-nsmgr.nsm-system:5005" operation=initRegistryClient span="7c599e51b7c6cabc:47a041f6560606a1:7c599e51b7c6cabc:1"
2021/09/23 23:09:28 Reporting span 7c599e51b7c6cabc:47a041f6560606a1:7c599e51b7c6cabc:1
{"level":"info","ts":1632438568.9142234,"caller":"nseinformer/nseInformerController.go:426","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-09-23T23:09:28Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=7c599e51b7c6cabc:7c599e51b7c6cabc:0000000000000000:1"
time="2021-09-23T23:09:28Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=7c599e51b7c6cabc:7c599e51b7c6cabc:0000000000000000:1"
2021/09/23 23:09:28 Reporting span 7c599e51b7c6cabc:47ce76eeaf73c6e5:7c599e51b7c6cabc:1
time="2021-09-23T23:09:28Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-12-control-plane\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}]} span=7c599e51b7c6cabc:7c599e51b7c6cabc:0000000000000000:1"
2021/09/23 23:09:28 Reporting span 7c599e51b7c6cabc:7c599e51b7c6cabc:0000000000000000:1
{"level":"info","ts":1632438568.9182923,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name examplecscn5","app":"nse-discovery"}
{"level":"info","ts":1632438568.9183264,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example2kxlp","app":"nse-discovery"}
{"level":"info","ts":1632438568.9183338,"caller":"nseinformer/nseInformerController.go:202","msg":"Retrieved 2 endpoints from the local NSR","app":"nse-discovery"}
{"level":"info","ts":1632438568.918344,"caller":"nseinformer/nseInformerController.go:205","msg":"Getting endpoints from the global NSR at: example.wcm-cisco.com:443","app":"nse-discovery"}
time="2021-09-23T23:09:28Z" level=info msg="==--> discovery.FindNetworkService() span:6b6539926d2605d4:6b6539926d2605d4:0000000000000000:1"
time="2021-09-23T23:09:28Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=6b6539926d2605d4:6b6539926d2605d4:0000000000000000:1"
time="2021-09-23T23:09:28Z" level=info msg=">><<-- nsrURL=\"example.wcm-cisco.com:443\" span=6b6539926d2605d4:6b6539926d2605d4:0000000000000000:1"
time="2021-09-23T23:09:28Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-09-23T23:09:28Z" level=info msg="==----> initRegistryClient() span:6b6539926d2605d4:003d8dfa6445b0cb:6b6539926d2605d4:1"
time="2021-09-23T23:09:28Z" level=info msg="Waiting for liveness probe: tcp:example.wcm-cisco.com:443"
time="2021-09-23T23:09:28Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="6b6539926d2605d4:003d8dfa6445b0cb:6b6539926d2605d4:1"
time="2021-09-23T23:09:28Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:09:28Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:09:28Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:09:28Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:09:28Z" level=info msg="Found the right tls certificate for target: example.wcm-cisco.com:443"
time="2021-09-23T23:09:28Z" level=info msg="Successfully connected to example.wcm-cisco.com:443" operation=initRegistryClient span="6b6539926d2605d4:003d8dfa6445b0cb:6b6539926d2605d4:1"
2021/09/23 23:09:28 Reporting span 6b6539926d2605d4:003d8dfa6445b0cb:6b6539926d2605d4:1
{"level":"info","ts":1632438568.9504037,"caller":"nseinformer/nseInformerController.go:426","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-09-23T23:09:28Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=6b6539926d2605d4:6b6539926d2605d4:0000000000000000:1"
time="2021-09-23T23:09:28Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=6b6539926d2605d4:6b6539926d2605d4:0000000000000000:1"
2021/09/23 23:09:28 Reporting span 6b6539926d2605d4:5fdbcfe60a3b0761:6b6539926d2605d4:1
time="2021-09-23T23:09:28Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-11-control-plane\":{\"name\":\"kind-11-control-plane\",\"url\":\"172.17.0.3:5001\",\"expiration_time\":{\"seconds\":40},\"state\":\"RUNNING\"},\"kind-12-control-plane\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"expiration_time\":{\"seconds\":40},\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"example798f5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-11-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-11_vl3-nse-example-5859574cb9-vsm49\",\"wcm/cluster\":\"kind-11\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"exampler6q79\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-11-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-11_vl3-nse-example-5859574cb9-lzths\",\"wcm/cluster\":\"kind-11\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}]} span=6b6539926d2605d4:6b6539926d2605d4:0000000000000000:1"
2021/09/23 23:09:28 Reporting span 6b6539926d2605d4:6b6539926d2605d4:0000000000000000:1
{"level":"info","ts":1632438568.9538417,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example2kxlp","app":"nse-discovery"}
{"level":"info","ts":1632438568.9538627,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example798f5","app":"nse-discovery"}
{"level":"info","ts":1632438568.9538689,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name examplecscn5","app":"nse-discovery"}
{"level":"info","ts":1632438568.9538872,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name exampler6q79","app":"nse-discovery"}
{"level":"info","ts":1632438568.9538937,"caller":"nseinformer/nseInformerController.go:214","msg":"Retrieved 4 endpoints from the global NSR","app":"nse-discovery"}
{"level":"info","ts":1632438568.9539034,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438568.9539094,"caller":"nseinformer/nseInformerController.go:349","msg":"NSE diff:  For cluster kind-12, skipping endpoint 'example798f5'","app":"nse-discovery"}
{"level":"info","ts":1632438568.9539146,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438568.9539192,"caller":"nseinformer/nseInformerController.go:349","msg":"NSE diff:  For cluster kind-12, skipping endpoint 'exampler6q79'","app":"nse-discovery"}
{"level":"info","ts":1632438568.953925,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438568.9539342,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438568.9539394,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438568.9539437,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438568.9539487,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438568.9541626,"caller":"nseinformer/nseInformerController.go:362","msg":"NSE diff:  For cluster kind-12, skip comparing endpoint 'example798f5'","app":"nse-discovery"}
{"level":"info","ts":1632438568.9541688,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438568.9541733,"caller":"nseinformer/nseInformerController.go:362","msg":"NSE diff:  For cluster kind-12, skip comparing endpoint 'exampler6q79'","app":"nse-discovery"}
{"level":"info","ts":1632438568.954179,"caller":"nseinformer/nseInformerController.go:219","msg":"Global NSE diff result: 0 new NSEs to add, 0 NSEs to delete","app":"nse-discovery"}
{"level":"info","ts":1632438568.954187,"caller":"nseinformer/nseInformerController.go:222","msg":"Registering 2 local NSEs to global registry","app":"nse-discovery"}
time="2021-09-23T23:09:28Z" level=info msg="Requesting NseRegistryClient..."
time="2021-09-23T23:09:28Z" level=info msg="==--> initRegistryClient() span:41178a91ca96733a:41178a91ca96733a:0000000000000000:1"
time="2021-09-23T23:09:28Z" level=info msg="Waiting for liveness probe: tcp:example.wcm-cisco.com:443"
time="2021-09-23T23:09:28Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="41178a91ca96733a:41178a91ca96733a:0000000000000000:1"
time="2021-09-23T23:09:28Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:09:28Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:09:28Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:09:28Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:09:28Z" level=info msg="Found the right tls certificate for target: example.wcm-cisco.com:443"
time="2021-09-23T23:09:28Z" level=info msg="Successfully connected to example.wcm-cisco.com:443" operation=initRegistryClient span="41178a91ca96733a:41178a91ca96733a:0000000000000000:1"
2021/09/23 23:09:28 Reporting span 41178a91ca96733a:41178a91ca96733a:0000000000000000:1
time="2021-09-23T23:09:28Z" level=info msg=">><<-- /registry.NetworkServiceRegistry/RegisterNSE()=\"\" span=<nil>"
time="2021-09-23T23:09:28Z" level=info msg=">><<-- request={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
2021/09/23 23:09:28 Reporting span 4bbf1ccb3ae96ca5:4bbf1ccb3ae96ca5:0000000000000000:1
time="2021-09-23T23:09:28Z" level=info msg=">><<-- response={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
time="2021-09-23T23:09:28Z" level=info msg=">><<-- /registry.NetworkServiceRegistry/RegisterNSE()=\"\" span=<nil>"
time="2021-09-23T23:09:28Z" level=info msg=">><<-- request={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
2021/09/23 23:09:28 Reporting span 35f1ecd6b08bfc8b:35f1ecd6b08bfc8b:0000000000000000:1
time="2021-09-23T23:09:28Z" level=info msg=">><<-- response={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
{"level":"info","ts":1632438568.9987411,"caller":"nseinformer/nseInformerController.go:284","msg":"No endpoints to remove from Global registry.","app":"nse-discovery"}
{"level":"info","ts":1632438598.766123,"caller":"nseinformer/nseInformerController.go:123","msg":"NSE pod: &{{ } {examplecscn5 example nsm-system /apis/networkservicemesh.io/v1alpha1/namespaces/nsm-system/networkserviceendpoints/examplecscn5 429d782d-3493-4ea4-ad95-6bdada125d2f 2187 1 2021-09-23 23:08:32 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:example-kind-12_vl3-nse-example-dff8646dd-ch2hz wcm/nsr.addr:example.wcm-cisco.com wcm/nsr.port:443] map[] [] []  []} {example IP kind-12-control-plane} {RUNNING}} was updated with: &{{ } {examplecscn5 example nsm-system /apis/networkservicemesh.io/v1alpha1/namespaces/nsm-system/networkserviceendpoints/examplecscn5 429d782d-3493-4ea4-ad95-6bdada125d2f 2187 1 2021-09-23 23:08:32 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:example-kind-12_vl3-nse-example-dff8646dd-ch2hz wcm/nsr.addr:example.wcm-cisco.com wcm/nsr.port:443] map[] [] []  []} {example IP kind-12-control-plane} {RUNNING}}","app":"nse-discovery"}
{"level":"info","ts":1632438598.768148,"caller":"nseinformer/nseInformerController.go:123","msg":"NSE pod: &{{ } {example2kxlp example nsm-system /apis/networkservicemesh.io/v1alpha1/namespaces/nsm-system/networkserviceendpoints/example2kxlp 3b867dc3-b412-41b9-8d8b-17fa6d257ef9 2191 1 2021-09-23 23:08:32 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:example-kind-12_vl3-nse-example-dff8646dd-dgzfk wcm/nsr.addr:example.wcm-cisco.com wcm/nsr.port:443] map[] [] []  []} {example IP kind-12-control-plane} {RUNNING}} was updated with: &{{ } {example2kxlp example nsm-system /apis/networkservicemesh.io/v1alpha1/namespaces/nsm-system/networkserviceendpoints/example2kxlp 3b867dc3-b412-41b9-8d8b-17fa6d257ef9 2191 1 2021-09-23 23:08:32 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:example-kind-12_vl3-nse-example-dff8646dd-dgzfk wcm/nsr.addr:example.wcm-cisco.com wcm/nsr.port:443] map[] [] []  []} {example IP kind-12-control-plane} {RUNNING}}","app":"nse-discovery"}
{"level":"info","ts":1632438598.7681062,"caller":"nseinformer/nseInformerController.go:172","msg":"Processing NSE named examplecscn5...","app":"nse-discovery"}
{"level":"info","ts":1632438598.7684042,"caller":"nseinformer/nseInformerController.go:179","msg":"Found service name: example","app":"nse-discovery"}
{"level":"info","ts":1632438598.7684953,"caller":"nseinformer/nseInformerController.go:194","msg":"Getting endpoints from the local NSR","app":"nse-discovery"}
time="2021-09-23T23:09:58Z" level=info msg="==--> discovery.FindNetworkService() span:3cff567721940907:3cff567721940907:0000000000000000:1"
time="2021-09-23T23:09:58Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=3cff567721940907:3cff567721940907:0000000000000000:1"
time="2021-09-23T23:09:58Z" level=info msg=">><<-- nsrURL=\"wcm-proxy-nsmgr.nsm-system:5005\" span=3cff567721940907:3cff567721940907:0000000000000000:1"
time="2021-09-23T23:09:58Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-09-23T23:09:58Z" level=info msg="==----> initRegistryClient() span:3cff567721940907:70150124a00d5ede:3cff567721940907:1"
time="2021-09-23T23:09:58Z" level=info msg="Waiting for liveness probe: tcp:wcm-proxy-nsmgr.nsm-system:5005"
time="2021-09-23T23:09:58Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="3cff567721940907:70150124a00d5ede:3cff567721940907:1"
time="2021-09-23T23:09:58Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:09:58Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:09:58Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:09:58Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:09:58Z" level=info msg="Found the right tls certificate for target: wcm-proxy-nsmgr.nsm-system:5005"
time="2021-09-23T23:09:58Z" level=info msg="Successfully connected to wcm-proxy-nsmgr.nsm-system:5005" operation=initRegistryClient span="3cff567721940907:70150124a00d5ede:3cff567721940907:1"
2021/09/23 23:09:58 Reporting span 3cff567721940907:70150124a00d5ede:3cff567721940907:1
{"level":"info","ts":1632438598.8179033,"caller":"nseinformer/nseInformerController.go:426","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-09-23T23:09:58Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=3cff567721940907:3cff567721940907:0000000000000000:1"
time="2021-09-23T23:09:58Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=3cff567721940907:3cff567721940907:0000000000000000:1"
2021/09/23 23:09:58 Reporting span 3cff567721940907:4a7caf6d003804cf:3cff567721940907:1
time="2021-09-23T23:09:58Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-12-control-plane\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}]} span=3cff567721940907:3cff567721940907:0000000000000000:1"
2021/09/23 23:09:58 Reporting span 3cff567721940907:3cff567721940907:0000000000000000:1
{"level":"info","ts":1632438598.8256667,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name examplecscn5","app":"nse-discovery"}
{"level":"info","ts":1632438598.8257003,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example2kxlp","app":"nse-discovery"}
{"level":"info","ts":1632438598.8257132,"caller":"nseinformer/nseInformerController.go:202","msg":"Retrieved 2 endpoints from the local NSR","app":"nse-discovery"}
{"level":"info","ts":1632438598.8257246,"caller":"nseinformer/nseInformerController.go:205","msg":"Getting endpoints from the global NSR at: example.wcm-cisco.com:443","app":"nse-discovery"}
time="2021-09-23T23:09:58Z" level=info msg="==--> discovery.FindNetworkService() span:790a0d8a34df36ee:790a0d8a34df36ee:0000000000000000:1"
time="2021-09-23T23:09:58Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=790a0d8a34df36ee:790a0d8a34df36ee:0000000000000000:1"
time="2021-09-23T23:09:58Z" level=info msg=">><<-- nsrURL=\"example.wcm-cisco.com:443\" span=790a0d8a34df36ee:790a0d8a34df36ee:0000000000000000:1"
time="2021-09-23T23:09:58Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-09-23T23:09:58Z" level=info msg="==----> initRegistryClient() span:790a0d8a34df36ee:13953a5a468efa4a:790a0d8a34df36ee:1"
time="2021-09-23T23:09:58Z" level=info msg="Waiting for liveness probe: tcp:example.wcm-cisco.com:443"
time="2021-09-23T23:09:58Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="790a0d8a34df36ee:13953a5a468efa4a:790a0d8a34df36ee:1"
time="2021-09-23T23:09:58Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:09:58Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:09:58Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:09:58Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:09:58Z" level=info msg="Found the right tls certificate for target: example.wcm-cisco.com:443"
time="2021-09-23T23:09:58Z" level=info msg="Successfully connected to example.wcm-cisco.com:443" operation=initRegistryClient span="790a0d8a34df36ee:13953a5a468efa4a:790a0d8a34df36ee:1"
2021/09/23 23:09:58 Reporting span 790a0d8a34df36ee:13953a5a468efa4a:790a0d8a34df36ee:1
{"level":"info","ts":1632438598.864411,"caller":"nseinformer/nseInformerController.go:426","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-09-23T23:09:58Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=790a0d8a34df36ee:790a0d8a34df36ee:0000000000000000:1"
time="2021-09-23T23:09:58Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=790a0d8a34df36ee:790a0d8a34df36ee:0000000000000000:1"
2021/09/23 23:09:58 Reporting span 790a0d8a34df36ee:4ab4f920a87ac8d2:790a0d8a34df36ee:1
time="2021-09-23T23:09:58Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-11-control-plane\":{\"name\":\"kind-11-control-plane\",\"url\":\"172.17.0.3:5001\",\"expiration_time\":{\"seconds\":40},\"state\":\"RUNNING\"},\"kind-12-control-plane\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"expiration_time\":{\"seconds\":40},\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"example798f5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-11-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-11_vl3-nse-example-5859574cb9-vsm49\",\"wcm/cluster\":\"kind-11\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"exampler6q79\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-11-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-11_vl3-nse-example-5859574cb9-lzths\",\"wcm/cluster\":\"kind-11\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}]} span=790a0d8a34df36ee:790a0d8a34df36ee:0000000000000000:1"
2021/09/23 23:09:58 Reporting span 790a0d8a34df36ee:790a0d8a34df36ee:0000000000000000:1
{"level":"info","ts":1632438598.8684485,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example2kxlp","app":"nse-discovery"}
{"level":"info","ts":1632438598.8684664,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example798f5","app":"nse-discovery"}
{"level":"info","ts":1632438598.8684726,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name examplecscn5","app":"nse-discovery"}
{"level":"info","ts":1632438598.8684783,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name exampler6q79","app":"nse-discovery"}
{"level":"info","ts":1632438598.8684838,"caller":"nseinformer/nseInformerController.go:214","msg":"Retrieved 4 endpoints from the global NSR","app":"nse-discovery"}
{"level":"info","ts":1632438598.8685026,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438598.8685122,"caller":"nseinformer/nseInformerController.go:349","msg":"NSE diff:  For cluster kind-12, skipping endpoint 'example798f5'","app":"nse-discovery"}
{"level":"info","ts":1632438598.8685176,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438598.8685222,"caller":"nseinformer/nseInformerController.go:349","msg":"NSE diff:  For cluster kind-12, skipping endpoint 'exampler6q79'","app":"nse-discovery"}
{"level":"info","ts":1632438598.8685286,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438598.868534,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438598.8685393,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438598.868544,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438598.8685486,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438598.8685627,"caller":"nseinformer/nseInformerController.go:362","msg":"NSE diff:  For cluster kind-12, skip comparing endpoint 'example798f5'","app":"nse-discovery"}
{"level":"info","ts":1632438598.8685834,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438598.868592,"caller":"nseinformer/nseInformerController.go:362","msg":"NSE diff:  For cluster kind-12, skip comparing endpoint 'exampler6q79'","app":"nse-discovery"}
{"level":"info","ts":1632438598.8685977,"caller":"nseinformer/nseInformerController.go:219","msg":"Global NSE diff result: 0 new NSEs to add, 0 NSEs to delete","app":"nse-discovery"}
{"level":"info","ts":1632438598.868603,"caller":"nseinformer/nseInformerController.go:222","msg":"Registering 2 local NSEs to global registry","app":"nse-discovery"}
time="2021-09-23T23:09:58Z" level=info msg="Requesting NseRegistryClient..."
time="2021-09-23T23:09:58Z" level=info msg="==--> initRegistryClient() span:4ab5f184ebb16203:4ab5f184ebb16203:0000000000000000:1"
time="2021-09-23T23:09:58Z" level=info msg="Waiting for liveness probe: tcp:example.wcm-cisco.com:443"
time="2021-09-23T23:09:58Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="4ab5f184ebb16203:4ab5f184ebb16203:0000000000000000:1"
time="2021-09-23T23:09:58Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:09:58Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:09:58Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:09:58Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:10:03Z" level=error msg="Failed to get the right certificate for target: example.wcm-cisco.com:443"
time="2021-09-23T23:10:03Z" level=error msg="tls config is nil for target: example.wcm-cisco.com:443"
time="2021-09-23T23:10:03Z" level=error msg="Failed to dial Network Service Registry at example.wcm-cisco.com:443: tls config is nil for target: example.wcm-cisco.com:443" operation=initRegistryClient span="4ab5f184ebb16203:4ab5f184ebb16203:0000000000000000:1"
time="2021-09-23T23:10:03Z" level=info msg="Waiting for liveness probe: tcp:example.wcm-cisco.com:443"
time="2021-09-23T23:10:12Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="4ab5f184ebb16203:4ab5f184ebb16203:0000000000000000:1"
time="2021-09-23T23:10:12Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:10:12Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:10:12Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:10:12Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:10:12Z" level=info msg="Found the right tls certificate for target: example.wcm-cisco.com:443"
time="2021-09-23T23:10:12Z" level=info msg="Successfully connected to example.wcm-cisco.com:443" operation=initRegistryClient span="4ab5f184ebb16203:4ab5f184ebb16203:0000000000000000:1"
2021/09/23 23:10:12 Reporting span 4ab5f184ebb16203:4ab5f184ebb16203:0000000000000000:1
time="2021-09-23T23:10:12Z" level=info msg=">><<-- /registry.NetworkServiceRegistry/RegisterNSE()=\"\" span=<nil>"
time="2021-09-23T23:10:12Z" level=info msg=">><<-- request={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
2021/09/23 23:10:12 Reporting span 5317ad6b595d7341:5317ad6b595d7341:0000000000000000:1
time="2021-09-23T23:10:12Z" level=info msg=">><<-- response={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"expiration_time\":{\"seconds\":40},\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
time="2021-09-23T23:10:12Z" level=info msg=">><<-- /registry.NetworkServiceRegistry/RegisterNSE()=\"\" span=<nil>"
time="2021-09-23T23:10:12Z" level=info msg=">><<-- request={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
2021/09/23 23:10:12 Reporting span 6442612f736183f4:6442612f736183f4:0000000000000000:1
time="2021-09-23T23:10:12Z" level=info msg=">><<-- response={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"expiration_time\":{\"seconds\":40},\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
{"level":"info","ts":1632438612.2823935,"caller":"nseinformer/nseInformerController.go:284","msg":"No endpoints to remove from Global registry.","app":"nse-discovery"}
{"level":"info","ts":1632438612.282539,"caller":"nseinformer/nseInformerController.go:172","msg":"Processing NSE named example2kxlp...","app":"nse-discovery"}
{"level":"info","ts":1632438612.2825534,"caller":"nseinformer/nseInformerController.go:179","msg":"Found service name: example","app":"nse-discovery"}
{"level":"info","ts":1632438612.2825723,"caller":"nseinformer/nseInformerController.go:194","msg":"Getting endpoints from the local NSR","app":"nse-discovery"}
time="2021-09-23T23:10:12Z" level=info msg="==--> discovery.FindNetworkService() span:36e85d66dba014ae:36e85d66dba014ae:0000000000000000:1"
time="2021-09-23T23:10:12Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=36e85d66dba014ae:36e85d66dba014ae:0000000000000000:1"
time="2021-09-23T23:10:12Z" level=info msg=">><<-- nsrURL=\"wcm-proxy-nsmgr.nsm-system:5005\" span=36e85d66dba014ae:36e85d66dba014ae:0000000000000000:1"
time="2021-09-23T23:10:12Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-09-23T23:10:12Z" level=info msg="==----> initRegistryClient() span:36e85d66dba014ae:4a3d71f94a7d5323:36e85d66dba014ae:1"
time="2021-09-23T23:10:12Z" level=info msg="Waiting for liveness probe: tcp:wcm-proxy-nsmgr.nsm-system:5005"
time="2021-09-23T23:10:12Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="36e85d66dba014ae:4a3d71f94a7d5323:36e85d66dba014ae:1"
time="2021-09-23T23:10:12Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:10:12Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:10:12Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:10:12Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:10:12Z" level=info msg="Found the right tls certificate for target: wcm-proxy-nsmgr.nsm-system:5005"
time="2021-09-23T23:10:12Z" level=info msg="Successfully connected to wcm-proxy-nsmgr.nsm-system:5005" operation=initRegistryClient span="36e85d66dba014ae:4a3d71f94a7d5323:36e85d66dba014ae:1"
2021/09/23 23:10:12 Reporting span 36e85d66dba014ae:4a3d71f94a7d5323:36e85d66dba014ae:1
{"level":"info","ts":1632438612.3531606,"caller":"nseinformer/nseInformerController.go:426","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-09-23T23:10:12Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=36e85d66dba014ae:36e85d66dba014ae:0000000000000000:1"
time="2021-09-23T23:10:12Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=36e85d66dba014ae:36e85d66dba014ae:0000000000000000:1"
2021/09/23 23:10:12 Reporting span 36e85d66dba014ae:19d0a215cff4e2f8:36e85d66dba014ae:1
time="2021-09-23T23:10:12Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-12-control-plane\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}]} span=36e85d66dba014ae:36e85d66dba014ae:0000000000000000:1"
2021/09/23 23:10:12 Reporting span 36e85d66dba014ae:36e85d66dba014ae:0000000000000000:1
{"level":"info","ts":1632438612.3671827,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name examplecscn5","app":"nse-discovery"}
{"level":"info","ts":1632438612.3672936,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example2kxlp","app":"nse-discovery"}
{"level":"info","ts":1632438612.36733,"caller":"nseinformer/nseInformerController.go:202","msg":"Retrieved 2 endpoints from the local NSR","app":"nse-discovery"}
{"level":"info","ts":1632438612.3709972,"caller":"nseinformer/nseInformerController.go:205","msg":"Getting endpoints from the global NSR at: example.wcm-cisco.com:443","app":"nse-discovery"}
time="2021-09-23T23:10:12Z" level=info msg="==--> discovery.FindNetworkService() span:78f6c4000ef4a721:78f6c4000ef4a721:0000000000000000:1"
time="2021-09-23T23:10:12Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=78f6c4000ef4a721:78f6c4000ef4a721:0000000000000000:1"
time="2021-09-23T23:10:12Z" level=info msg=">><<-- nsrURL=\"example.wcm-cisco.com:443\" span=78f6c4000ef4a721:78f6c4000ef4a721:0000000000000000:1"
time="2021-09-23T23:10:12Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-09-23T23:10:12Z" level=info msg="==----> initRegistryClient() span:78f6c4000ef4a721:6f7a62c609ab7d6f:78f6c4000ef4a721:1"
time="2021-09-23T23:10:12Z" level=info msg="Waiting for liveness probe: tcp:example.wcm-cisco.com:443"
time="2021-09-23T23:10:12Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="78f6c4000ef4a721:6f7a62c609ab7d6f:78f6c4000ef4a721:1"
time="2021-09-23T23:10:12Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:10:12Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:10:12Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:10:12Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:10:17Z" level=error msg="Failed to get the right certificate for target: example.wcm-cisco.com:443"
time="2021-09-23T23:10:17Z" level=error msg="tls config is nil for target: example.wcm-cisco.com:443"
time="2021-09-23T23:10:17Z" level=error msg="Failed to dial Network Service Registry at example.wcm-cisco.com:443: tls config is nil for target: example.wcm-cisco.com:443" operation=initRegistryClient span="78f6c4000ef4a721:6f7a62c609ab7d6f:78f6c4000ef4a721:1"
time="2021-09-23T23:10:17Z" level=info msg="Waiting for liveness probe: tcp:example.wcm-cisco.com:443"
time="2021-09-23T23:10:17Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="78f6c4000ef4a721:6f7a62c609ab7d6f:78f6c4000ef4a721:1"
time="2021-09-23T23:10:17Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:10:17Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:10:17Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:10:17Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:10:17Z" level=info msg="Found the right tls certificate for target: example.wcm-cisco.com:443"
time="2021-09-23T23:10:24Z" level=info msg="Successfully connected to example.wcm-cisco.com:443" operation=initRegistryClient span="78f6c4000ef4a721:6f7a62c609ab7d6f:78f6c4000ef4a721:1"
2021/09/23 23:10:24 Reporting span 78f6c4000ef4a721:6f7a62c609ab7d6f:78f6c4000ef4a721:1
{"level":"info","ts":1632438624.10257,"caller":"nseinformer/nseInformerController.go:426","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-09-23T23:10:24Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=78f6c4000ef4a721:78f6c4000ef4a721:0000000000000000:1"
time="2021-09-23T23:10:24Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=78f6c4000ef4a721:78f6c4000ef4a721:0000000000000000:1"
2021/09/23 23:10:24 Reporting span 78f6c4000ef4a721:714665afbdca187c:78f6c4000ef4a721:1
time="2021-09-23T23:10:24Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-12-control-plane\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"expiration_time\":{\"seconds\":40},\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}]} span=78f6c4000ef4a721:78f6c4000ef4a721:0000000000000000:1"
2021/09/23 23:10:24 Reporting span 78f6c4000ef4a721:78f6c4000ef4a721:0000000000000000:1
{"level":"info","ts":1632438624.106087,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example2kxlp","app":"nse-discovery"}
{"level":"info","ts":1632438624.1061065,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name examplecscn5","app":"nse-discovery"}
{"level":"info","ts":1632438624.1061146,"caller":"nseinformer/nseInformerController.go:214","msg":"Retrieved 2 endpoints from the global NSR","app":"nse-discovery"}
{"level":"info","ts":1632438624.106127,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438624.1061368,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438624.1061509,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438624.1061594,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438624.1061647,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438624.1061711,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438624.1063766,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438624.1063826,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438624.106393,"caller":"nseinformer/nseInformerController.go:219","msg":"Global NSE diff result: 0 new NSEs to add, 0 NSEs to delete","app":"nse-discovery"}
{"level":"info","ts":1632438624.106403,"caller":"nseinformer/nseInformerController.go:222","msg":"Registering 2 local NSEs to global registry","app":"nse-discovery"}
time="2021-09-23T23:10:24Z" level=info msg="Requesting NseRegistryClient..."
time="2021-09-23T23:10:24Z" level=info msg="==--> initRegistryClient() span:74e190591768702f:74e190591768702f:0000000000000000:1"
time="2021-09-23T23:10:24Z" level=info msg="Waiting for liveness probe: tcp:example.wcm-cisco.com:443"
{"level":"info","ts":1632438628.7661335,"caller":"nseinformer/nseInformerController.go:123","msg":"NSE pod: &{{ } {examplecscn5 example nsm-system /apis/networkservicemesh.io/v1alpha1/namespaces/nsm-system/networkserviceendpoints/examplecscn5 429d782d-3493-4ea4-ad95-6bdada125d2f 2187 1 2021-09-23 23:08:32 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:example-kind-12_vl3-nse-example-dff8646dd-ch2hz wcm/nsr.addr:example.wcm-cisco.com wcm/nsr.port:443] map[] [] []  []} {example IP kind-12-control-plane} {RUNNING}} was updated with: &{{ } {examplecscn5 example nsm-system /apis/networkservicemesh.io/v1alpha1/namespaces/nsm-system/networkserviceendpoints/examplecscn5 429d782d-3493-4ea4-ad95-6bdada125d2f 2187 1 2021-09-23 23:08:32 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:example-kind-12_vl3-nse-example-dff8646dd-ch2hz wcm/nsr.addr:example.wcm-cisco.com wcm/nsr.port:443] map[] [] []  []} {example IP kind-12-control-plane} {RUNNING}}","app":"nse-discovery"}
{"level":"info","ts":1632438628.7665899,"caller":"nseinformer/nseInformerController.go:123","msg":"NSE pod: &{{ } {example2kxlp example nsm-system /apis/networkservicemesh.io/v1alpha1/namespaces/nsm-system/networkserviceendpoints/example2kxlp 3b867dc3-b412-41b9-8d8b-17fa6d257ef9 2191 1 2021-09-23 23:08:32 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:example-kind-12_vl3-nse-example-dff8646dd-dgzfk wcm/nsr.addr:example.wcm-cisco.com wcm/nsr.port:443] map[] [] []  []} {example IP kind-12-control-plane} {RUNNING}} was updated with: &{{ } {example2kxlp example nsm-system /apis/networkservicemesh.io/v1alpha1/namespaces/nsm-system/networkserviceendpoints/example2kxlp 3b867dc3-b412-41b9-8d8b-17fa6d257ef9 2191 1 2021-09-23 23:08:32 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:example-kind-12_vl3-nse-example-dff8646dd-dgzfk wcm/nsr.addr:example.wcm-cisco.com wcm/nsr.port:443] map[] [] []  []} {example IP kind-12-control-plane} {RUNNING}}","app":"nse-discovery"}
time="2021-09-23T23:10:34Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="74e190591768702f:74e190591768702f:0000000000000000:1"
time="2021-09-23T23:10:34Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:10:34Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:10:34Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:10:34Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:10:34Z" level=info msg="Found the right tls certificate for target: example.wcm-cisco.com:443"
time="2021-09-23T23:10:34Z" level=info msg="Successfully connected to example.wcm-cisco.com:443" operation=initRegistryClient span="74e190591768702f:74e190591768702f:0000000000000000:1"
2021/09/23 23:10:34 Reporting span 74e190591768702f:74e190591768702f:0000000000000000:1
time="2021-09-23T23:10:34Z" level=info msg=">><<-- /registry.NetworkServiceRegistry/RegisterNSE()=\"\" span=<nil>"
time="2021-09-23T23:10:34Z" level=info msg=">><<-- request={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
2021/09/23 23:10:34 Reporting span 2e4f6f0e0a1ea99c:2e4f6f0e0a1ea99c:0000000000000000:1
time="2021-09-23T23:10:34Z" level=info msg=">><<-- response={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
time="2021-09-23T23:10:34Z" level=info msg=">><<-- /registry.NetworkServiceRegistry/RegisterNSE()=\"\" span=<nil>"
time="2021-09-23T23:10:34Z" level=info msg=">><<-- request={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
2021/09/23 23:10:34 Reporting span 0e3790e6b0e5937c:0e3790e6b0e5937c:0000000000000000:1
time="2021-09-23T23:10:34Z" level=info msg=">><<-- response={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
{"level":"info","ts":1632438634.174263,"caller":"nseinformer/nseInformerController.go:284","msg":"No endpoints to remove from Global registry.","app":"nse-discovery"}
{"level":"info","ts":1632438634.1743011,"caller":"nseinformer/nseInformerController.go:172","msg":"Processing NSE named examplecscn5...","app":"nse-discovery"}
{"level":"info","ts":1632438634.1743276,"caller":"nseinformer/nseInformerController.go:179","msg":"Found service name: example","app":"nse-discovery"}
{"level":"info","ts":1632438634.1743355,"caller":"nseinformer/nseInformerController.go:194","msg":"Getting endpoints from the local NSR","app":"nse-discovery"}
time="2021-09-23T23:10:34Z" level=info msg="==--> discovery.FindNetworkService() span:740d92ec294e3630:740d92ec294e3630:0000000000000000:1"
time="2021-09-23T23:10:34Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=740d92ec294e3630:740d92ec294e3630:0000000000000000:1"
time="2021-09-23T23:10:34Z" level=info msg=">><<-- nsrURL=\"wcm-proxy-nsmgr.nsm-system:5005\" span=740d92ec294e3630:740d92ec294e3630:0000000000000000:1"
time="2021-09-23T23:10:34Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-09-23T23:10:34Z" level=info msg="==----> initRegistryClient() span:740d92ec294e3630:1841c7b5bda95b95:740d92ec294e3630:1"
time="2021-09-23T23:10:34Z" level=info msg="Waiting for liveness probe: tcp:wcm-proxy-nsmgr.nsm-system:5005"
time="2021-09-23T23:10:34Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="740d92ec294e3630:1841c7b5bda95b95:740d92ec294e3630:1"
time="2021-09-23T23:10:34Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:10:34Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:10:34Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:10:34Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:10:34Z" level=info msg="Found the right tls certificate for target: wcm-proxy-nsmgr.nsm-system:5005"
time="2021-09-23T23:10:34Z" level=info msg="Successfully connected to wcm-proxy-nsmgr.nsm-system:5005" operation=initRegistryClient span="740d92ec294e3630:1841c7b5bda95b95:740d92ec294e3630:1"
2021/09/23 23:10:34 Reporting span 740d92ec294e3630:1841c7b5bda95b95:740d92ec294e3630:1
{"level":"info","ts":1632438634.2077725,"caller":"nseinformer/nseInformerController.go:426","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-09-23T23:10:34Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=740d92ec294e3630:740d92ec294e3630:0000000000000000:1"
time="2021-09-23T23:10:34Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=740d92ec294e3630:740d92ec294e3630:0000000000000000:1"
2021/09/23 23:10:34 Reporting span 740d92ec294e3630:6f994eb719be1129:740d92ec294e3630:1
time="2021-09-23T23:10:34Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-12-control-plane\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}]} span=740d92ec294e3630:740d92ec294e3630:0000000000000000:1"
2021/09/23 23:10:34 Reporting span 740d92ec294e3630:740d92ec294e3630:0000000000000000:1
{"level":"info","ts":1632438634.2117424,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name examplecscn5","app":"nse-discovery"}
{"level":"info","ts":1632438634.2126994,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example2kxlp","app":"nse-discovery"}
{"level":"info","ts":1632438634.2127104,"caller":"nseinformer/nseInformerController.go:202","msg":"Retrieved 2 endpoints from the local NSR","app":"nse-discovery"}
{"level":"info","ts":1632438634.212752,"caller":"nseinformer/nseInformerController.go:205","msg":"Getting endpoints from the global NSR at: example.wcm-cisco.com:443","app":"nse-discovery"}
time="2021-09-23T23:10:34Z" level=info msg="==--> discovery.FindNetworkService() span:0ecf272f74157b5d:0ecf272f74157b5d:0000000000000000:1"
time="2021-09-23T23:10:34Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=0ecf272f74157b5d:0ecf272f74157b5d:0000000000000000:1"
time="2021-09-23T23:10:34Z" level=info msg=">><<-- nsrURL=\"example.wcm-cisco.com:443\" span=0ecf272f74157b5d:0ecf272f74157b5d:0000000000000000:1"
time="2021-09-23T23:10:34Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-09-23T23:10:34Z" level=info msg="==----> initRegistryClient() span:0ecf272f74157b5d:0a389bab9654d156:0ecf272f74157b5d:1"
time="2021-09-23T23:10:34Z" level=info msg="Waiting for liveness probe: tcp:example.wcm-cisco.com:443"
time="2021-09-23T23:10:34Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="0ecf272f74157b5d:0a389bab9654d156:0ecf272f74157b5d:1"
time="2021-09-23T23:10:34Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:10:34Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:10:34Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:10:34Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:10:34Z" level=info msg="Found the right tls certificate for target: example.wcm-cisco.com:443"
time="2021-09-23T23:10:34Z" level=info msg="Successfully connected to example.wcm-cisco.com:443" operation=initRegistryClient span="0ecf272f74157b5d:0a389bab9654d156:0ecf272f74157b5d:1"
2021/09/23 23:10:34 Reporting span 0ecf272f74157b5d:0a389bab9654d156:0ecf272f74157b5d:1
{"level":"info","ts":1632438634.2571454,"caller":"nseinformer/nseInformerController.go:426","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-09-23T23:10:34Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=0ecf272f74157b5d:0ecf272f74157b5d:0000000000000000:1"
time="2021-09-23T23:10:34Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=0ecf272f74157b5d:0ecf272f74157b5d:0000000000000000:1"
2021/09/23 23:10:34 Reporting span 0ecf272f74157b5d:58c4e9fded5006c5:0ecf272f74157b5d:1
time="2021-09-23T23:10:34Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-11-control-plane\":{\"name\":\"kind-11-control-plane\",\"url\":\"172.17.0.3:5001\",\"expiration_time\":{\"seconds\":40},\"state\":\"RUNNING\"},\"kind-12-control-plane\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"expiration_time\":{\"seconds\":40},\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"example798f5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-11-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-11_vl3-nse-example-5859574cb9-vsm49\",\"wcm/cluster\":\"kind-11\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"exampler6q79\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-11-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-11_vl3-nse-example-5859574cb9-lzths\",\"wcm/cluster\":\"kind-11\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}]} span=0ecf272f74157b5d:0ecf272f74157b5d:0000000000000000:1"
2021/09/23 23:10:34 Reporting span 0ecf272f74157b5d:0ecf272f74157b5d:0000000000000000:1
{"level":"info","ts":1632438634.2606463,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example2kxlp","app":"nse-discovery"}
{"level":"info","ts":1632438634.2607093,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example798f5","app":"nse-discovery"}
{"level":"info","ts":1632438634.2608836,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name examplecscn5","app":"nse-discovery"}
{"level":"info","ts":1632438634.260899,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name exampler6q79","app":"nse-discovery"}
{"level":"info","ts":1632438634.2609053,"caller":"nseinformer/nseInformerController.go:214","msg":"Retrieved 4 endpoints from the global NSR","app":"nse-discovery"}
{"level":"info","ts":1632438634.260935,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438634.2609413,"caller":"nseinformer/nseInformerController.go:349","msg":"NSE diff:  For cluster kind-12, skipping endpoint 'example798f5'","app":"nse-discovery"}
{"level":"info","ts":1632438634.2610004,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438634.2610073,"caller":"nseinformer/nseInformerController.go:349","msg":"NSE diff:  For cluster kind-12, skipping endpoint 'exampler6q79'","app":"nse-discovery"}
{"level":"info","ts":1632438634.2610137,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438634.2610192,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438634.2610242,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438634.261029,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438634.2610953,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438634.2611172,"caller":"nseinformer/nseInformerController.go:362","msg":"NSE diff:  For cluster kind-12, skip comparing endpoint 'example798f5'","app":"nse-discovery"}
{"level":"info","ts":1632438634.2611227,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438634.261181,"caller":"nseinformer/nseInformerController.go:362","msg":"NSE diff:  For cluster kind-12, skip comparing endpoint 'exampler6q79'","app":"nse-discovery"}
{"level":"info","ts":1632438634.261187,"caller":"nseinformer/nseInformerController.go:219","msg":"Global NSE diff result: 0 new NSEs to add, 0 NSEs to delete","app":"nse-discovery"}
{"level":"info","ts":1632438634.2612007,"caller":"nseinformer/nseInformerController.go:222","msg":"Registering 2 local NSEs to global registry","app":"nse-discovery"}
time="2021-09-23T23:10:34Z" level=info msg="Requesting NseRegistryClient..."
time="2021-09-23T23:10:34Z" level=info msg="==--> initRegistryClient() span:582c01e27d0f4405:582c01e27d0f4405:0000000000000000:1"
time="2021-09-23T23:10:34Z" level=info msg="Waiting for liveness probe: tcp:example.wcm-cisco.com:443"
time="2021-09-23T23:10:34Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="582c01e27d0f4405:582c01e27d0f4405:0000000000000000:1"
time="2021-09-23T23:10:34Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:10:34Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:10:34Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:10:34Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:10:34Z" level=info msg="Found the right tls certificate for target: example.wcm-cisco.com:443"
time="2021-09-23T23:10:34Z" level=info msg="Successfully connected to example.wcm-cisco.com:443" operation=initRegistryClient span="582c01e27d0f4405:582c01e27d0f4405:0000000000000000:1"
2021/09/23 23:10:34 Reporting span 582c01e27d0f4405:582c01e27d0f4405:0000000000000000:1
time="2021-09-23T23:10:34Z" level=info msg=">><<-- /registry.NetworkServiceRegistry/RegisterNSE()=\"\" span=<nil>"
time="2021-09-23T23:10:34Z" level=info msg=">><<-- request={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
2021/09/23 23:10:34 Reporting span 0717419cc5c0c6e0:0717419cc5c0c6e0:0000000000000000:1
time="2021-09-23T23:10:34Z" level=info msg=">><<-- response={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
time="2021-09-23T23:10:34Z" level=info msg=">><<-- /registry.NetworkServiceRegistry/RegisterNSE()=\"\" span=<nil>"
time="2021-09-23T23:10:34Z" level=info msg=">><<-- request={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
2021/09/23 23:10:34 Reporting span 0df6af171795f657:0df6af171795f657:0000000000000000:1
time="2021-09-23T23:10:34Z" level=info msg=">><<-- response={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
{"level":"info","ts":1632438634.3179507,"caller":"nseinformer/nseInformerController.go:284","msg":"No endpoints to remove from Global registry.","app":"nse-discovery"}
{"level":"info","ts":1632438634.3179836,"caller":"nseinformer/nseInformerController.go:172","msg":"Processing NSE named example2kxlp...","app":"nse-discovery"}
{"level":"info","ts":1632438634.3179922,"caller":"nseinformer/nseInformerController.go:179","msg":"Found service name: example","app":"nse-discovery"}
{"level":"info","ts":1632438634.3180218,"caller":"nseinformer/nseInformerController.go:194","msg":"Getting endpoints from the local NSR","app":"nse-discovery"}
time="2021-09-23T23:10:34Z" level=info msg="==--> discovery.FindNetworkService() span:01a2bad673cbda55:01a2bad673cbda55:0000000000000000:1"
time="2021-09-23T23:10:34Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=01a2bad673cbda55:01a2bad673cbda55:0000000000000000:1"
time="2021-09-23T23:10:34Z" level=info msg=">><<-- nsrURL=\"wcm-proxy-nsmgr.nsm-system:5005\" span=01a2bad673cbda55:01a2bad673cbda55:0000000000000000:1"
time="2021-09-23T23:10:34Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-09-23T23:10:34Z" level=info msg="==----> initRegistryClient() span:01a2bad673cbda55:5cd3ebc63a39ee56:01a2bad673cbda55:1"
time="2021-09-23T23:10:34Z" level=info msg="Waiting for liveness probe: tcp:wcm-proxy-nsmgr.nsm-system:5005"
time="2021-09-23T23:10:34Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="01a2bad673cbda55:5cd3ebc63a39ee56:01a2bad673cbda55:1"
time="2021-09-23T23:10:34Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:10:34Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:10:34Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:10:34Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:10:34Z" level=info msg="Found the right tls certificate for target: wcm-proxy-nsmgr.nsm-system:5005"
time="2021-09-23T23:10:34Z" level=info msg="Successfully connected to wcm-proxy-nsmgr.nsm-system:5005" operation=initRegistryClient span="01a2bad673cbda55:5cd3ebc63a39ee56:01a2bad673cbda55:1"
2021/09/23 23:10:34 Reporting span 01a2bad673cbda55:5cd3ebc63a39ee56:01a2bad673cbda55:1
{"level":"info","ts":1632438634.344079,"caller":"nseinformer/nseInformerController.go:426","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-09-23T23:10:34Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=01a2bad673cbda55:01a2bad673cbda55:0000000000000000:1"
time="2021-09-23T23:10:34Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=01a2bad673cbda55:01a2bad673cbda55:0000000000000000:1"
2021/09/23 23:10:34 Reporting span 01a2bad673cbda55:186b8893ddde0e5c:01a2bad673cbda55:1
time="2021-09-23T23:10:34Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-12-control-plane\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}]} span=01a2bad673cbda55:01a2bad673cbda55:0000000000000000:1"
2021/09/23 23:10:34 Reporting span 01a2bad673cbda55:01a2bad673cbda55:0000000000000000:1
{"level":"info","ts":1632438634.3482165,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name examplecscn5","app":"nse-discovery"}
{"level":"info","ts":1632438634.3482373,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example2kxlp","app":"nse-discovery"}
{"level":"info","ts":1632438634.348244,"caller":"nseinformer/nseInformerController.go:202","msg":"Retrieved 2 endpoints from the local NSR","app":"nse-discovery"}
{"level":"info","ts":1632438634.348253,"caller":"nseinformer/nseInformerController.go:205","msg":"Getting endpoints from the global NSR at: example.wcm-cisco.com:443","app":"nse-discovery"}
time="2021-09-23T23:10:34Z" level=info msg="==--> discovery.FindNetworkService() span:36c0c0e72be86f03:36c0c0e72be86f03:0000000000000000:1"
time="2021-09-23T23:10:34Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=36c0c0e72be86f03:36c0c0e72be86f03:0000000000000000:1"
time="2021-09-23T23:10:34Z" level=info msg=">><<-- nsrURL=\"example.wcm-cisco.com:443\" span=36c0c0e72be86f03:36c0c0e72be86f03:0000000000000000:1"
time="2021-09-23T23:10:34Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-09-23T23:10:34Z" level=info msg="==----> initRegistryClient() span:36c0c0e72be86f03:419f57c8d904e092:36c0c0e72be86f03:1"
time="2021-09-23T23:10:34Z" level=info msg="Waiting for liveness probe: tcp:example.wcm-cisco.com:443"
time="2021-09-23T23:10:34Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="36c0c0e72be86f03:419f57c8d904e092:36c0c0e72be86f03:1"
time="2021-09-23T23:10:34Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:10:34Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:10:34Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:10:34Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:10:34Z" level=info msg="Found the right tls certificate for target: example.wcm-cisco.com:443"
time="2021-09-23T23:10:34Z" level=info msg="Successfully connected to example.wcm-cisco.com:443" operation=initRegistryClient span="36c0c0e72be86f03:419f57c8d904e092:36c0c0e72be86f03:1"
2021/09/23 23:10:34 Reporting span 36c0c0e72be86f03:419f57c8d904e092:36c0c0e72be86f03:1
{"level":"info","ts":1632438634.3809514,"caller":"nseinformer/nseInformerController.go:426","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-09-23T23:10:34Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=36c0c0e72be86f03:36c0c0e72be86f03:0000000000000000:1"
time="2021-09-23T23:10:34Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=36c0c0e72be86f03:36c0c0e72be86f03:0000000000000000:1"
2021/09/23 23:10:34 Reporting span 36c0c0e72be86f03:413cbca56b4f6acb:36c0c0e72be86f03:1
time="2021-09-23T23:10:34Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-11-control-plane\":{\"name\":\"kind-11-control-plane\",\"url\":\"172.17.0.3:5001\",\"expiration_time\":{\"seconds\":40},\"state\":\"RUNNING\"},\"kind-12-control-plane\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"expiration_time\":{\"seconds\":40},\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"example798f5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-11-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-11_vl3-nse-example-5859574cb9-vsm49\",\"wcm/cluster\":\"kind-11\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"exampler6q79\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-11-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-11_vl3-nse-example-5859574cb9-lzths\",\"wcm/cluster\":\"kind-11\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}]} span=36c0c0e72be86f03:36c0c0e72be86f03:0000000000000000:1"
2021/09/23 23:10:34 Reporting span 36c0c0e72be86f03:36c0c0e72be86f03:0000000000000000:1
{"level":"info","ts":1632438634.3862214,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example2kxlp","app":"nse-discovery"}
{"level":"info","ts":1632438634.3862789,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example798f5","app":"nse-discovery"}
{"level":"info","ts":1632438634.386297,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name examplecscn5","app":"nse-discovery"}
{"level":"info","ts":1632438634.3863022,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name exampler6q79","app":"nse-discovery"}
{"level":"info","ts":1632438634.3863099,"caller":"nseinformer/nseInformerController.go:214","msg":"Retrieved 4 endpoints from the global NSR","app":"nse-discovery"}
{"level":"info","ts":1632438634.386318,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438634.3863468,"caller":"nseinformer/nseInformerController.go:349","msg":"NSE diff:  For cluster kind-12, skipping endpoint 'example798f5'","app":"nse-discovery"}
{"level":"info","ts":1632438634.3863544,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438634.3863595,"caller":"nseinformer/nseInformerController.go:349","msg":"NSE diff:  For cluster kind-12, skipping endpoint 'exampler6q79'","app":"nse-discovery"}
{"level":"info","ts":1632438634.3863652,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438634.3863707,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438634.3863754,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438634.3863795,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438634.3863838,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438634.3863888,"caller":"nseinformer/nseInformerController.go:362","msg":"NSE diff:  For cluster kind-12, skip comparing endpoint 'example798f5'","app":"nse-discovery"}
{"level":"info","ts":1632438634.3864563,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438634.3864617,"caller":"nseinformer/nseInformerController.go:362","msg":"NSE diff:  For cluster kind-12, skip comparing endpoint 'exampler6q79'","app":"nse-discovery"}
{"level":"info","ts":1632438634.3864686,"caller":"nseinformer/nseInformerController.go:219","msg":"Global NSE diff result: 0 new NSEs to add, 0 NSEs to delete","app":"nse-discovery"}
{"level":"info","ts":1632438634.386476,"caller":"nseinformer/nseInformerController.go:222","msg":"Registering 2 local NSEs to global registry","app":"nse-discovery"}
time="2021-09-23T23:10:34Z" level=info msg="Requesting NseRegistryClient..."
time="2021-09-23T23:10:34Z" level=info msg="==--> initRegistryClient() span:292c289a13fc9399:292c289a13fc9399:0000000000000000:1"
time="2021-09-23T23:10:34Z" level=info msg="Waiting for liveness probe: tcp:example.wcm-cisco.com:443"
time="2021-09-23T23:10:34Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="292c289a13fc9399:292c289a13fc9399:0000000000000000:1"
time="2021-09-23T23:10:34Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:10:34Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:10:34Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:10:34Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:10:34Z" level=info msg="Found the right tls certificate for target: example.wcm-cisco.com:443"
time="2021-09-23T23:10:34Z" level=info msg="Successfully connected to example.wcm-cisco.com:443" operation=initRegistryClient span="292c289a13fc9399:292c289a13fc9399:0000000000000000:1"
2021/09/23 23:10:34 Reporting span 292c289a13fc9399:292c289a13fc9399:0000000000000000:1
time="2021-09-23T23:10:34Z" level=info msg=">><<-- /registry.NetworkServiceRegistry/RegisterNSE()=\"\" span=<nil>"
time="2021-09-23T23:10:34Z" level=info msg=">><<-- request={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
2021/09/23 23:10:34 Reporting span 3c592c6b6be0e3e0:3c592c6b6be0e3e0:0000000000000000:1
time="2021-09-23T23:10:34Z" level=info msg=">><<-- response={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
time="2021-09-23T23:10:34Z" level=info msg=">><<-- /registry.NetworkServiceRegistry/RegisterNSE()=\"\" span=<nil>"
time="2021-09-23T23:10:34Z" level=info msg=">><<-- request={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
2021/09/23 23:10:34 Reporting span 2d8c4b7636a12d49:2d8c4b7636a12d49:0000000000000000:1
time="2021-09-23T23:10:34Z" level=info msg=">><<-- response={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
{"level":"info","ts":1632438634.4353907,"caller":"nseinformer/nseInformerController.go:284","msg":"No endpoints to remove from Global registry.","app":"nse-discovery"}
{"level":"info","ts":1632438658.7666159,"caller":"nseinformer/nseInformerController.go:123","msg":"NSE pod: &{{ } {example2kxlp example nsm-system /apis/networkservicemesh.io/v1alpha1/namespaces/nsm-system/networkserviceendpoints/example2kxlp 3b867dc3-b412-41b9-8d8b-17fa6d257ef9 2191 1 2021-09-23 23:08:32 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:example-kind-12_vl3-nse-example-dff8646dd-dgzfk wcm/nsr.addr:example.wcm-cisco.com wcm/nsr.port:443] map[] [] []  []} {example IP kind-12-control-plane} {RUNNING}} was updated with: &{{ } {example2kxlp example nsm-system /apis/networkservicemesh.io/v1alpha1/namespaces/nsm-system/networkserviceendpoints/example2kxlp 3b867dc3-b412-41b9-8d8b-17fa6d257ef9 2191 1 2021-09-23 23:08:32 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:example-kind-12_vl3-nse-example-dff8646dd-dgzfk wcm/nsr.addr:example.wcm-cisco.com wcm/nsr.port:443] map[] [] []  []} {example IP kind-12-control-plane} {RUNNING}}","app":"nse-discovery"}
{"level":"info","ts":1632438658.7669322,"caller":"nseinformer/nseInformerController.go:172","msg":"Processing NSE named example2kxlp...","app":"nse-discovery"}
{"level":"info","ts":1632438658.7670326,"caller":"nseinformer/nseInformerController.go:179","msg":"Found service name: example","app":"nse-discovery"}
{"level":"info","ts":1632438658.7673173,"caller":"nseinformer/nseInformerController.go:194","msg":"Getting endpoints from the local NSR","app":"nse-discovery"}
time="2021-09-23T23:10:58Z" level=info msg="==--> discovery.FindNetworkService() span:00ec0132e2c53cd7:00ec0132e2c53cd7:0000000000000000:1"
{"level":"info","ts":1632438658.7678242,"caller":"nseinformer/nseInformerController.go:123","msg":"NSE pod: &{{ } {examplecscn5 example nsm-system /apis/networkservicemesh.io/v1alpha1/namespaces/nsm-system/networkserviceendpoints/examplecscn5 429d782d-3493-4ea4-ad95-6bdada125d2f 2187 1 2021-09-23 23:08:32 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:example-kind-12_vl3-nse-example-dff8646dd-ch2hz wcm/nsr.addr:example.wcm-cisco.com wcm/nsr.port:443] map[] [] []  []} {example IP kind-12-control-plane} {RUNNING}} was updated with: &{{ } {examplecscn5 example nsm-system /apis/networkservicemesh.io/v1alpha1/namespaces/nsm-system/networkserviceendpoints/examplecscn5 429d782d-3493-4ea4-ad95-6bdada125d2f 2187 1 2021-09-23 23:08:32 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:example-kind-12_vl3-nse-example-dff8646dd-ch2hz wcm/nsr.addr:example.wcm-cisco.com wcm/nsr.port:443] map[] [] []  []} {example IP kind-12-control-plane} {RUNNING}}","app":"nse-discovery"}
time="2021-09-23T23:10:58Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=00ec0132e2c53cd7:00ec0132e2c53cd7:0000000000000000:1"
time="2021-09-23T23:10:58Z" level=info msg=">><<-- nsrURL=\"wcm-proxy-nsmgr.nsm-system:5005\" span=00ec0132e2c53cd7:00ec0132e2c53cd7:0000000000000000:1"
time="2021-09-23T23:10:58Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-09-23T23:10:58Z" level=info msg="==----> initRegistryClient() span:00ec0132e2c53cd7:5194ae418be3fede:00ec0132e2c53cd7:1"
time="2021-09-23T23:10:58Z" level=info msg="Waiting for liveness probe: tcp:wcm-proxy-nsmgr.nsm-system:5005"
time="2021-09-23T23:10:58Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="00ec0132e2c53cd7:5194ae418be3fede:00ec0132e2c53cd7:1"
time="2021-09-23T23:10:58Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:10:58Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:10:58Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:10:58Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:10:58Z" level=info msg="Found the right tls certificate for target: wcm-proxy-nsmgr.nsm-system:5005"
time="2021-09-23T23:10:58Z" level=info msg="Successfully connected to wcm-proxy-nsmgr.nsm-system:5005" operation=initRegistryClient span="00ec0132e2c53cd7:5194ae418be3fede:00ec0132e2c53cd7:1"
2021/09/23 23:10:58 Reporting span 00ec0132e2c53cd7:5194ae418be3fede:00ec0132e2c53cd7:1
{"level":"info","ts":1632438658.8032901,"caller":"nseinformer/nseInformerController.go:426","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-09-23T23:10:58Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=00ec0132e2c53cd7:00ec0132e2c53cd7:0000000000000000:1"
time="2021-09-23T23:10:58Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=00ec0132e2c53cd7:00ec0132e2c53cd7:0000000000000000:1"
2021/09/23 23:10:58 Reporting span 00ec0132e2c53cd7:6d53e59e2c375fa1:00ec0132e2c53cd7:1
time="2021-09-23T23:10:58Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-12-control-plane\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}]} span=00ec0132e2c53cd7:00ec0132e2c53cd7:0000000000000000:1"
2021/09/23 23:10:58 Reporting span 00ec0132e2c53cd7:00ec0132e2c53cd7:0000000000000000:1
{"level":"info","ts":1632438658.821222,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name examplecscn5","app":"nse-discovery"}
{"level":"info","ts":1632438658.8212647,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example2kxlp","app":"nse-discovery"}
{"level":"info","ts":1632438658.8212724,"caller":"nseinformer/nseInformerController.go:202","msg":"Retrieved 2 endpoints from the local NSR","app":"nse-discovery"}
{"level":"info","ts":1632438658.8212788,"caller":"nseinformer/nseInformerController.go:205","msg":"Getting endpoints from the global NSR at: example.wcm-cisco.com:443","app":"nse-discovery"}
time="2021-09-23T23:10:58Z" level=info msg="==--> discovery.FindNetworkService() span:3b65869d32e0021e:3b65869d32e0021e:0000000000000000:1"
time="2021-09-23T23:10:58Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=3b65869d32e0021e:3b65869d32e0021e:0000000000000000:1"
time="2021-09-23T23:10:58Z" level=info msg=">><<-- nsrURL=\"example.wcm-cisco.com:443\" span=3b65869d32e0021e:3b65869d32e0021e:0000000000000000:1"
time="2021-09-23T23:10:58Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-09-23T23:10:58Z" level=info msg="==----> initRegistryClient() span:3b65869d32e0021e:60fe5c4b98826864:3b65869d32e0021e:1"
time="2021-09-23T23:10:58Z" level=info msg="Waiting for liveness probe: tcp:example.wcm-cisco.com:443"
time="2021-09-23T23:10:58Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="3b65869d32e0021e:60fe5c4b98826864:3b65869d32e0021e:1"
time="2021-09-23T23:10:58Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:10:58Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:10:58Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:10:58Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:10:58Z" level=info msg="Found the right tls certificate for target: example.wcm-cisco.com:443"
time="2021-09-23T23:10:58Z" level=info msg="Successfully connected to example.wcm-cisco.com:443" operation=initRegistryClient span="3b65869d32e0021e:60fe5c4b98826864:3b65869d32e0021e:1"
2021/09/23 23:10:58 Reporting span 3b65869d32e0021e:60fe5c4b98826864:3b65869d32e0021e:1
{"level":"info","ts":1632438658.8511877,"caller":"nseinformer/nseInformerController.go:426","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-09-23T23:10:58Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=3b65869d32e0021e:3b65869d32e0021e:0000000000000000:1"
time="2021-09-23T23:10:58Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=3b65869d32e0021e:3b65869d32e0021e:0000000000000000:1"
2021/09/23 23:10:58 Reporting span 3b65869d32e0021e:08b00dcf4bd8ec3c:3b65869d32e0021e:1
time="2021-09-23T23:10:58Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-11-control-plane\":{\"name\":\"kind-11-control-plane\",\"url\":\"172.17.0.3:5001\",\"expiration_time\":{\"seconds\":40},\"state\":\"RUNNING\"},\"kind-12-control-plane\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"expiration_time\":{\"seconds\":40},\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"example798f5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-11-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-11_vl3-nse-example-5859574cb9-vsm49\",\"wcm/cluster\":\"kind-11\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"exampler6q79\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-11-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-11_vl3-nse-example-5859574cb9-lzths\",\"wcm/cluster\":\"kind-11\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}]} span=3b65869d32e0021e:3b65869d32e0021e:0000000000000000:1"
2021/09/23 23:10:58 Reporting span 3b65869d32e0021e:3b65869d32e0021e:0000000000000000:1
{"level":"info","ts":1632438658.8561146,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example2kxlp","app":"nse-discovery"}
{"level":"info","ts":1632438658.8561409,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example798f5","app":"nse-discovery"}
{"level":"info","ts":1632438658.8561518,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name examplecscn5","app":"nse-discovery"}
{"level":"info","ts":1632438658.8561578,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name exampler6q79","app":"nse-discovery"}
{"level":"info","ts":1632438658.8561637,"caller":"nseinformer/nseInformerController.go:214","msg":"Retrieved 4 endpoints from the global NSR","app":"nse-discovery"}
{"level":"info","ts":1632438658.8561754,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438658.8561904,"caller":"nseinformer/nseInformerController.go:349","msg":"NSE diff:  For cluster kind-12, skipping endpoint 'example798f5'","app":"nse-discovery"}
{"level":"info","ts":1632438658.8562007,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438658.8562067,"caller":"nseinformer/nseInformerController.go:349","msg":"NSE diff:  For cluster kind-12, skipping endpoint 'exampler6q79'","app":"nse-discovery"}
{"level":"info","ts":1632438658.856213,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438658.8562186,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438658.8562295,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438658.8562357,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438658.8562455,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438658.8562517,"caller":"nseinformer/nseInformerController.go:362","msg":"NSE diff:  For cluster kind-12, skip comparing endpoint 'example798f5'","app":"nse-discovery"}
{"level":"info","ts":1632438658.8562577,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438658.8562775,"caller":"nseinformer/nseInformerController.go:362","msg":"NSE diff:  For cluster kind-12, skip comparing endpoint 'exampler6q79'","app":"nse-discovery"}
{"level":"info","ts":1632438658.856289,"caller":"nseinformer/nseInformerController.go:219","msg":"Global NSE diff result: 0 new NSEs to add, 0 NSEs to delete","app":"nse-discovery"}
{"level":"info","ts":1632438658.856299,"caller":"nseinformer/nseInformerController.go:222","msg":"Registering 2 local NSEs to global registry","app":"nse-discovery"}
time="2021-09-23T23:10:58Z" level=info msg="Requesting NseRegistryClient..."
time="2021-09-23T23:10:58Z" level=info msg="==--> initRegistryClient() span:7fa1b165172919e4:7fa1b165172919e4:0000000000000000:1"
time="2021-09-23T23:10:58Z" level=info msg="Waiting for liveness probe: tcp:example.wcm-cisco.com:443"
time="2021-09-23T23:10:58Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="7fa1b165172919e4:7fa1b165172919e4:0000000000000000:1"
time="2021-09-23T23:10:58Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:10:58Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:10:58Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:10:58Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:10:58Z" level=info msg="Found the right tls certificate for target: example.wcm-cisco.com:443"
time="2021-09-23T23:10:58Z" level=info msg="Successfully connected to example.wcm-cisco.com:443" operation=initRegistryClient span="7fa1b165172919e4:7fa1b165172919e4:0000000000000000:1"
2021/09/23 23:10:58 Reporting span 7fa1b165172919e4:7fa1b165172919e4:0000000000000000:1
time="2021-09-23T23:10:58Z" level=info msg=">><<-- /registry.NetworkServiceRegistry/RegisterNSE()=\"\" span=<nil>"
time="2021-09-23T23:10:58Z" level=info msg=">><<-- request={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
2021/09/23 23:10:58 Reporting span 240f198e72e9fb5c:240f198e72e9fb5c:0000000000000000:1
time="2021-09-23T23:10:58Z" level=info msg=">><<-- response={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
time="2021-09-23T23:10:58Z" level=info msg=">><<-- /registry.NetworkServiceRegistry/RegisterNSE()=\"\" span=<nil>"
time="2021-09-23T23:10:58Z" level=info msg=">><<-- request={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
2021/09/23 23:10:58 Reporting span 730a58c226ad88d0:730a58c226ad88d0:0000000000000000:1
time="2021-09-23T23:10:58Z" level=info msg=">><<-- response={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
{"level":"info","ts":1632438658.926225,"caller":"nseinformer/nseInformerController.go:284","msg":"No endpoints to remove from Global registry.","app":"nse-discovery"}
{"level":"info","ts":1632438658.9262562,"caller":"nseinformer/nseInformerController.go:172","msg":"Processing NSE named examplecscn5...","app":"nse-discovery"}
{"level":"info","ts":1632438658.9262626,"caller":"nseinformer/nseInformerController.go:179","msg":"Found service name: example","app":"nse-discovery"}
{"level":"info","ts":1632438658.9262702,"caller":"nseinformer/nseInformerController.go:194","msg":"Getting endpoints from the local NSR","app":"nse-discovery"}
time="2021-09-23T23:10:58Z" level=info msg="==--> discovery.FindNetworkService() span:7d9fa90d23ec5009:7d9fa90d23ec5009:0000000000000000:1"
time="2021-09-23T23:10:58Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=7d9fa90d23ec5009:7d9fa90d23ec5009:0000000000000000:1"
time="2021-09-23T23:10:58Z" level=info msg=">><<-- nsrURL=\"wcm-proxy-nsmgr.nsm-system:5005\" span=7d9fa90d23ec5009:7d9fa90d23ec5009:0000000000000000:1"
time="2021-09-23T23:10:58Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-09-23T23:10:58Z" level=info msg="==----> initRegistryClient() span:7d9fa90d23ec5009:447531b93e80e1c5:7d9fa90d23ec5009:1"
time="2021-09-23T23:10:58Z" level=info msg="Waiting for liveness probe: tcp:wcm-proxy-nsmgr.nsm-system:5005"
time="2021-09-23T23:10:58Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="7d9fa90d23ec5009:447531b93e80e1c5:7d9fa90d23ec5009:1"
time="2021-09-23T23:10:58Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:10:58Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:10:58Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:10:58Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:10:58Z" level=info msg="Found the right tls certificate for target: wcm-proxy-nsmgr.nsm-system:5005"
time="2021-09-23T23:10:58Z" level=info msg="Successfully connected to wcm-proxy-nsmgr.nsm-system:5005" operation=initRegistryClient span="7d9fa90d23ec5009:447531b93e80e1c5:7d9fa90d23ec5009:1"
2021/09/23 23:10:58 Reporting span 7d9fa90d23ec5009:447531b93e80e1c5:7d9fa90d23ec5009:1
{"level":"info","ts":1632438658.9626415,"caller":"nseinformer/nseInformerController.go:426","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-09-23T23:10:58Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=7d9fa90d23ec5009:7d9fa90d23ec5009:0000000000000000:1"
time="2021-09-23T23:10:58Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=7d9fa90d23ec5009:7d9fa90d23ec5009:0000000000000000:1"
2021/09/23 23:10:58 Reporting span 7d9fa90d23ec5009:333ef2726c299218:7d9fa90d23ec5009:1
time="2021-09-23T23:10:58Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-12-control-plane\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}]} span=7d9fa90d23ec5009:7d9fa90d23ec5009:0000000000000000:1"
2021/09/23 23:10:58 Reporting span 7d9fa90d23ec5009:7d9fa90d23ec5009:0000000000000000:1
{"level":"info","ts":1632438658.9698305,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name examplecscn5","app":"nse-discovery"}
{"level":"info","ts":1632438658.970058,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example2kxlp","app":"nse-discovery"}
{"level":"info","ts":1632438658.9700813,"caller":"nseinformer/nseInformerController.go:202","msg":"Retrieved 2 endpoints from the local NSR","app":"nse-discovery"}
{"level":"info","ts":1632438658.9700887,"caller":"nseinformer/nseInformerController.go:205","msg":"Getting endpoints from the global NSR at: example.wcm-cisco.com:443","app":"nse-discovery"}
time="2021-09-23T23:10:58Z" level=info msg="==--> discovery.FindNetworkService() span:23d8f68b8b2ff854:23d8f68b8b2ff854:0000000000000000:1"
time="2021-09-23T23:10:58Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=23d8f68b8b2ff854:23d8f68b8b2ff854:0000000000000000:1"
time="2021-09-23T23:10:58Z" level=info msg=">><<-- nsrURL=\"example.wcm-cisco.com:443\" span=23d8f68b8b2ff854:23d8f68b8b2ff854:0000000000000000:1"
time="2021-09-23T23:10:58Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-09-23T23:10:58Z" level=info msg="==----> initRegistryClient() span:23d8f68b8b2ff854:2a2ca7aefe91515a:23d8f68b8b2ff854:1"
time="2021-09-23T23:10:58Z" level=info msg="Waiting for liveness probe: tcp:example.wcm-cisco.com:443"
time="2021-09-23T23:10:58Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="23d8f68b8b2ff854:2a2ca7aefe91515a:23d8f68b8b2ff854:1"
time="2021-09-23T23:10:58Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:10:58Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:10:58Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:10:58Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:10:58Z" level=info msg="Found the right tls certificate for target: example.wcm-cisco.com:443"
time="2021-09-23T23:10:59Z" level=info msg="Successfully connected to example.wcm-cisco.com:443" operation=initRegistryClient span="23d8f68b8b2ff854:2a2ca7aefe91515a:23d8f68b8b2ff854:1"
2021/09/23 23:10:59 Reporting span 23d8f68b8b2ff854:2a2ca7aefe91515a:23d8f68b8b2ff854:1
{"level":"info","ts":1632438659.0006473,"caller":"nseinformer/nseInformerController.go:426","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-09-23T23:10:59Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=23d8f68b8b2ff854:23d8f68b8b2ff854:0000000000000000:1"
time="2021-09-23T23:10:59Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=23d8f68b8b2ff854:23d8f68b8b2ff854:0000000000000000:1"
2021/09/23 23:10:59 Reporting span 23d8f68b8b2ff854:1257ce9abf546bb3:23d8f68b8b2ff854:1
time="2021-09-23T23:10:59Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-11-control-plane\":{\"name\":\"kind-11-control-plane\",\"url\":\"172.17.0.3:5001\",\"expiration_time\":{\"seconds\":40},\"state\":\"RUNNING\"},\"kind-12-control-plane\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"expiration_time\":{\"seconds\":40},\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"example798f5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-11-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-11_vl3-nse-example-5859574cb9-vsm49\",\"wcm/cluster\":\"kind-11\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"exampler6q79\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-11-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-11_vl3-nse-example-5859574cb9-lzths\",\"wcm/cluster\":\"kind-11\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}]} span=23d8f68b8b2ff854:23d8f68b8b2ff854:0000000000000000:1"
2021/09/23 23:10:59 Reporting span 23d8f68b8b2ff854:23d8f68b8b2ff854:0000000000000000:1
{"level":"info","ts":1632438659.00382,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example2kxlp","app":"nse-discovery"}
{"level":"info","ts":1632438659.0038393,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example798f5","app":"nse-discovery"}
{"level":"info","ts":1632438659.0038457,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name examplecscn5","app":"nse-discovery"}
{"level":"info","ts":1632438659.0038512,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name exampler6q79","app":"nse-discovery"}
{"level":"info","ts":1632438659.003857,"caller":"nseinformer/nseInformerController.go:214","msg":"Retrieved 4 endpoints from the global NSR","app":"nse-discovery"}
{"level":"info","ts":1632438659.003865,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438659.0038707,"caller":"nseinformer/nseInformerController.go:349","msg":"NSE diff:  For cluster kind-12, skipping endpoint 'example798f5'","app":"nse-discovery"}
{"level":"info","ts":1632438659.0038755,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438659.0038807,"caller":"nseinformer/nseInformerController.go:349","msg":"NSE diff:  For cluster kind-12, skipping endpoint 'exampler6q79'","app":"nse-discovery"}
{"level":"info","ts":1632438659.0038981,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438659.0039046,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438659.0039117,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438659.0039167,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438659.0039222,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438659.0039275,"caller":"nseinformer/nseInformerController.go:362","msg":"NSE diff:  For cluster kind-12, skip comparing endpoint 'example798f5'","app":"nse-discovery"}
{"level":"info","ts":1632438659.0039327,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438659.0039372,"caller":"nseinformer/nseInformerController.go:362","msg":"NSE diff:  For cluster kind-12, skip comparing endpoint 'exampler6q79'","app":"nse-discovery"}
{"level":"info","ts":1632438659.0039465,"caller":"nseinformer/nseInformerController.go:219","msg":"Global NSE diff result: 0 new NSEs to add, 0 NSEs to delete","app":"nse-discovery"}
{"level":"info","ts":1632438659.003952,"caller":"nseinformer/nseInformerController.go:222","msg":"Registering 2 local NSEs to global registry","app":"nse-discovery"}
time="2021-09-23T23:10:59Z" level=info msg="Requesting NseRegistryClient..."
time="2021-09-23T23:10:59Z" level=info msg="==--> initRegistryClient() span:0053cb2137e8301e:0053cb2137e8301e:0000000000000000:1"
time="2021-09-23T23:10:59Z" level=info msg="Waiting for liveness probe: tcp:example.wcm-cisco.com:443"
time="2021-09-23T23:10:59Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="0053cb2137e8301e:0053cb2137e8301e:0000000000000000:1"
time="2021-09-23T23:10:59Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:10:59Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:10:59Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:10:59Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:10:59Z" level=info msg="Found the right tls certificate for target: example.wcm-cisco.com:443"
time="2021-09-23T23:10:59Z" level=info msg="Successfully connected to example.wcm-cisco.com:443" operation=initRegistryClient span="0053cb2137e8301e:0053cb2137e8301e:0000000000000000:1"
2021/09/23 23:10:59 Reporting span 0053cb2137e8301e:0053cb2137e8301e:0000000000000000:1
time="2021-09-23T23:10:59Z" level=info msg=">><<-- /registry.NetworkServiceRegistry/RegisterNSE()=\"\" span=<nil>"
time="2021-09-23T23:10:59Z" level=info msg=">><<-- request={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
2021/09/23 23:10:59 Reporting span 2a07426752fc443e:2a07426752fc443e:0000000000000000:1
time="2021-09-23T23:10:59Z" level=info msg=">><<-- response={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
time="2021-09-23T23:10:59Z" level=info msg=">><<-- /registry.NetworkServiceRegistry/RegisterNSE()=\"\" span=<nil>"
time="2021-09-23T23:10:59Z" level=info msg=">><<-- request={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
2021/09/23 23:10:59 Reporting span 39ce71e58497141f:39ce71e58497141f:0000000000000000:1
time="2021-09-23T23:10:59Z" level=info msg=">><<-- response={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
{"level":"info","ts":1632438659.0621457,"caller":"nseinformer/nseInformerController.go:284","msg":"No endpoints to remove from Global registry.","app":"nse-discovery"}
{"level":"info","ts":1632438688.766954,"caller":"nseinformer/nseInformerController.go:123","msg":"NSE pod: &{{ } {examplecscn5 example nsm-system /apis/networkservicemesh.io/v1alpha1/namespaces/nsm-system/networkserviceendpoints/examplecscn5 429d782d-3493-4ea4-ad95-6bdada125d2f 2187 1 2021-09-23 23:08:32 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:example-kind-12_vl3-nse-example-dff8646dd-ch2hz wcm/nsr.addr:example.wcm-cisco.com wcm/nsr.port:443] map[] [] []  []} {example IP kind-12-control-plane} {RUNNING}} was updated with: &{{ } {examplecscn5 example nsm-system /apis/networkservicemesh.io/v1alpha1/namespaces/nsm-system/networkserviceendpoints/examplecscn5 429d782d-3493-4ea4-ad95-6bdada125d2f 2187 1 2021-09-23 23:08:32 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:example-kind-12_vl3-nse-example-dff8646dd-ch2hz wcm/nsr.addr:example.wcm-cisco.com wcm/nsr.port:443] map[] [] []  []} {example IP kind-12-control-plane} {RUNNING}}","app":"nse-discovery"}
{"level":"info","ts":1632438688.7672865,"caller":"nseinformer/nseInformerController.go:123","msg":"NSE pod: &{{ } {example2kxlp example nsm-system /apis/networkservicemesh.io/v1alpha1/namespaces/nsm-system/networkserviceendpoints/example2kxlp 3b867dc3-b412-41b9-8d8b-17fa6d257ef9 2191 1 2021-09-23 23:08:32 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:example-kind-12_vl3-nse-example-dff8646dd-dgzfk wcm/nsr.addr:example.wcm-cisco.com wcm/nsr.port:443] map[] [] []  []} {example IP kind-12-control-plane} {RUNNING}} was updated with: &{{ } {example2kxlp example nsm-system /apis/networkservicemesh.io/v1alpha1/namespaces/nsm-system/networkserviceendpoints/example2kxlp 3b867dc3-b412-41b9-8d8b-17fa6d257ef9 2191 1 2021-09-23 23:08:32 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:example-kind-12_vl3-nse-example-dff8646dd-dgzfk wcm/nsr.addr:example.wcm-cisco.com wcm/nsr.port:443] map[] [] []  []} {example IP kind-12-control-plane} {RUNNING}}","app":"nse-discovery"}
{"level":"info","ts":1632438688.767386,"caller":"nseinformer/nseInformerController.go:172","msg":"Processing NSE named examplecscn5...","app":"nse-discovery"}
{"level":"info","ts":1632438688.7674222,"caller":"nseinformer/nseInformerController.go:179","msg":"Found service name: example","app":"nse-discovery"}
{"level":"info","ts":1632438688.767448,"caller":"nseinformer/nseInformerController.go:194","msg":"Getting endpoints from the local NSR","app":"nse-discovery"}
time="2021-09-23T23:11:28Z" level=info msg="==--> discovery.FindNetworkService() span:50b87237bf0ba472:50b87237bf0ba472:0000000000000000:1"
time="2021-09-23T23:11:28Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=50b87237bf0ba472:50b87237bf0ba472:0000000000000000:1"
time="2021-09-23T23:11:28Z" level=info msg=">><<-- nsrURL=\"wcm-proxy-nsmgr.nsm-system:5005\" span=50b87237bf0ba472:50b87237bf0ba472:0000000000000000:1"
time="2021-09-23T23:11:28Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-09-23T23:11:28Z" level=info msg="==----> initRegistryClient() span:50b87237bf0ba472:4703c143551494ba:50b87237bf0ba472:1"
time="2021-09-23T23:11:28Z" level=info msg="Waiting for liveness probe: tcp:wcm-proxy-nsmgr.nsm-system:5005"
time="2021-09-23T23:11:28Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="50b87237bf0ba472:4703c143551494ba:50b87237bf0ba472:1"
time="2021-09-23T23:11:28Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:11:28Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:11:28Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:11:28Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:11:28Z" level=info msg="Found the right tls certificate for target: wcm-proxy-nsmgr.nsm-system:5005"
time="2021-09-23T23:11:28Z" level=info msg="Successfully connected to wcm-proxy-nsmgr.nsm-system:5005" operation=initRegistryClient span="50b87237bf0ba472:4703c143551494ba:50b87237bf0ba472:1"
2021/09/23 23:11:28 Reporting span 50b87237bf0ba472:4703c143551494ba:50b87237bf0ba472:1
{"level":"info","ts":1632438688.8033984,"caller":"nseinformer/nseInformerController.go:426","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-09-23T23:11:28Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=50b87237bf0ba472:50b87237bf0ba472:0000000000000000:1"
time="2021-09-23T23:11:28Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=50b87237bf0ba472:50b87237bf0ba472:0000000000000000:1"
2021/09/23 23:11:28 Reporting span 50b87237bf0ba472:68dfb4b6111a2c25:50b87237bf0ba472:1
time="2021-09-23T23:11:28Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-12-control-plane\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}]} span=50b87237bf0ba472:50b87237bf0ba472:0000000000000000:1"
2021/09/23 23:11:28 Reporting span 50b87237bf0ba472:50b87237bf0ba472:0000000000000000:1
{"level":"info","ts":1632438688.8140101,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name examplecscn5","app":"nse-discovery"}
{"level":"info","ts":1632438688.814076,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example2kxlp","app":"nse-discovery"}
{"level":"info","ts":1632438688.8140857,"caller":"nseinformer/nseInformerController.go:202","msg":"Retrieved 2 endpoints from the local NSR","app":"nse-discovery"}
{"level":"info","ts":1632438688.814094,"caller":"nseinformer/nseInformerController.go:205","msg":"Getting endpoints from the global NSR at: example.wcm-cisco.com:443","app":"nse-discovery"}
time="2021-09-23T23:11:28Z" level=info msg="==--> discovery.FindNetworkService() span:5e3e2c5658dfe002:5e3e2c5658dfe002:0000000000000000:1"
time="2021-09-23T23:11:28Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=5e3e2c5658dfe002:5e3e2c5658dfe002:0000000000000000:1"
time="2021-09-23T23:11:28Z" level=info msg=">><<-- nsrURL=\"example.wcm-cisco.com:443\" span=5e3e2c5658dfe002:5e3e2c5658dfe002:0000000000000000:1"
time="2021-09-23T23:11:28Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-09-23T23:11:28Z" level=info msg="==----> initRegistryClient() span:5e3e2c5658dfe002:042628945cdd50d0:5e3e2c5658dfe002:1"
time="2021-09-23T23:11:28Z" level=info msg="Waiting for liveness probe: tcp:example.wcm-cisco.com:443"
time="2021-09-23T23:11:28Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="5e3e2c5658dfe002:042628945cdd50d0:5e3e2c5658dfe002:1"
time="2021-09-23T23:11:28Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:11:28Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:11:28Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:11:28Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:11:28Z" level=info msg="Found the right tls certificate for target: example.wcm-cisco.com:443"
time="2021-09-23T23:11:28Z" level=info msg="Successfully connected to example.wcm-cisco.com:443" operation=initRegistryClient span="5e3e2c5658dfe002:042628945cdd50d0:5e3e2c5658dfe002:1"
2021/09/23 23:11:28 Reporting span 5e3e2c5658dfe002:042628945cdd50d0:5e3e2c5658dfe002:1
{"level":"info","ts":1632438688.8684855,"caller":"nseinformer/nseInformerController.go:426","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-09-23T23:11:28Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=5e3e2c5658dfe002:5e3e2c5658dfe002:0000000000000000:1"
time="2021-09-23T23:11:28Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=5e3e2c5658dfe002:5e3e2c5658dfe002:0000000000000000:1"
2021/09/23 23:11:28 Reporting span 5e3e2c5658dfe002:44a3099b1b2f4323:5e3e2c5658dfe002:1
time="2021-09-23T23:11:28Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-11-control-plane\":{\"name\":\"kind-11-control-plane\",\"url\":\"172.17.0.3:5001\",\"expiration_time\":{\"seconds\":40},\"state\":\"RUNNING\"},\"kind-12-control-plane\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"expiration_time\":{\"seconds\":40},\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"example798f5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-11-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-11_vl3-nse-example-5859574cb9-vsm49\",\"wcm/cluster\":\"kind-11\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"exampler6q79\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-11-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-11_vl3-nse-example-5859574cb9-lzths\",\"wcm/cluster\":\"kind-11\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}]} span=5e3e2c5658dfe002:5e3e2c5658dfe002:0000000000000000:1"
2021/09/23 23:11:28 Reporting span 5e3e2c5658dfe002:5e3e2c5658dfe002:0000000000000000:1
{"level":"info","ts":1632438688.8781264,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example2kxlp","app":"nse-discovery"}
{"level":"info","ts":1632438688.8781521,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example798f5","app":"nse-discovery"}
{"level":"info","ts":1632438688.8781583,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name examplecscn5","app":"nse-discovery"}
{"level":"info","ts":1632438688.878164,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name exampler6q79","app":"nse-discovery"}
{"level":"info","ts":1632438688.8781703,"caller":"nseinformer/nseInformerController.go:214","msg":"Retrieved 4 endpoints from the global NSR","app":"nse-discovery"}
{"level":"info","ts":1632438688.8781784,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438688.87819,"caller":"nseinformer/nseInformerController.go:349","msg":"NSE diff:  For cluster kind-12, skipping endpoint 'example798f5'","app":"nse-discovery"}
{"level":"info","ts":1632438688.8781955,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438688.878201,"caller":"nseinformer/nseInformerController.go:349","msg":"NSE diff:  For cluster kind-12, skipping endpoint 'exampler6q79'","app":"nse-discovery"}
{"level":"info","ts":1632438688.8782082,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438688.8782136,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438688.878223,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438688.8782275,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438688.878232,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438688.8782413,"caller":"nseinformer/nseInformerController.go:362","msg":"NSE diff:  For cluster kind-12, skip comparing endpoint 'example798f5'","app":"nse-discovery"}
{"level":"info","ts":1632438688.8782463,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438688.8782508,"caller":"nseinformer/nseInformerController.go:362","msg":"NSE diff:  For cluster kind-12, skip comparing endpoint 'exampler6q79'","app":"nse-discovery"}
{"level":"info","ts":1632438688.878261,"caller":"nseinformer/nseInformerController.go:219","msg":"Global NSE diff result: 0 new NSEs to add, 0 NSEs to delete","app":"nse-discovery"}
{"level":"info","ts":1632438688.8782663,"caller":"nseinformer/nseInformerController.go:222","msg":"Registering 2 local NSEs to global registry","app":"nse-discovery"}
time="2021-09-23T23:11:28Z" level=info msg="Requesting NseRegistryClient..."
time="2021-09-23T23:11:28Z" level=info msg="==--> initRegistryClient() span:774fdc6f805f05de:774fdc6f805f05de:0000000000000000:1"
time="2021-09-23T23:11:28Z" level=info msg="Waiting for liveness probe: tcp:example.wcm-cisco.com:443"
time="2021-09-23T23:11:28Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="774fdc6f805f05de:774fdc6f805f05de:0000000000000000:1"
time="2021-09-23T23:11:28Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:11:28Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:11:28Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:11:28Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:11:28Z" level=info msg="Found the right tls certificate for target: example.wcm-cisco.com:443"
time="2021-09-23T23:11:28Z" level=info msg="Successfully connected to example.wcm-cisco.com:443" operation=initRegistryClient span="774fdc6f805f05de:774fdc6f805f05de:0000000000000000:1"
2021/09/23 23:11:28 Reporting span 774fdc6f805f05de:774fdc6f805f05de:0000000000000000:1
time="2021-09-23T23:11:28Z" level=info msg=">><<-- /registry.NetworkServiceRegistry/RegisterNSE()=\"\" span=<nil>"
time="2021-09-23T23:11:28Z" level=info msg=">><<-- request={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
2021/09/23 23:11:28 Reporting span 1b22c18fda743437:1b22c18fda743437:0000000000000000:1
time="2021-09-23T23:11:28Z" level=info msg=">><<-- response={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
time="2021-09-23T23:11:28Z" level=info msg=">><<-- /registry.NetworkServiceRegistry/RegisterNSE()=\"\" span=<nil>"
time="2021-09-23T23:11:28Z" level=info msg=">><<-- request={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
2021/09/23 23:11:28 Reporting span 28109bac35bc4bcf:28109bac35bc4bcf:0000000000000000:1
time="2021-09-23T23:11:28Z" level=info msg=">><<-- response={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
{"level":"info","ts":1632438688.9339364,"caller":"nseinformer/nseInformerController.go:284","msg":"No endpoints to remove from Global registry.","app":"nse-discovery"}
{"level":"info","ts":1632438688.933968,"caller":"nseinformer/nseInformerController.go:172","msg":"Processing NSE named example2kxlp...","app":"nse-discovery"}
{"level":"info","ts":1632438688.9339743,"caller":"nseinformer/nseInformerController.go:179","msg":"Found service name: example","app":"nse-discovery"}
{"level":"info","ts":1632438688.9339817,"caller":"nseinformer/nseInformerController.go:194","msg":"Getting endpoints from the local NSR","app":"nse-discovery"}
time="2021-09-23T23:11:28Z" level=info msg="==--> discovery.FindNetworkService() span:38a323ad66fa3d39:38a323ad66fa3d39:0000000000000000:1"
time="2021-09-23T23:11:28Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=38a323ad66fa3d39:38a323ad66fa3d39:0000000000000000:1"
time="2021-09-23T23:11:28Z" level=info msg=">><<-- nsrURL=\"wcm-proxy-nsmgr.nsm-system:5005\" span=38a323ad66fa3d39:38a323ad66fa3d39:0000000000000000:1"
time="2021-09-23T23:11:28Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-09-23T23:11:28Z" level=info msg="==----> initRegistryClient() span:38a323ad66fa3d39:40c3b4177c837e69:38a323ad66fa3d39:1"
time="2021-09-23T23:11:28Z" level=info msg="Waiting for liveness probe: tcp:wcm-proxy-nsmgr.nsm-system:5005"
time="2021-09-23T23:11:28Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="38a323ad66fa3d39:40c3b4177c837e69:38a323ad66fa3d39:1"
time="2021-09-23T23:11:28Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:11:28Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:11:28Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:11:28Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:11:28Z" level=info msg="Found the right tls certificate for target: wcm-proxy-nsmgr.nsm-system:5005"
time="2021-09-23T23:11:28Z" level=info msg="Successfully connected to wcm-proxy-nsmgr.nsm-system:5005" operation=initRegistryClient span="38a323ad66fa3d39:40c3b4177c837e69:38a323ad66fa3d39:1"
2021/09/23 23:11:28 Reporting span 38a323ad66fa3d39:40c3b4177c837e69:38a323ad66fa3d39:1
{"level":"info","ts":1632438688.9704778,"caller":"nseinformer/nseInformerController.go:426","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-09-23T23:11:28Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=38a323ad66fa3d39:38a323ad66fa3d39:0000000000000000:1"
time="2021-09-23T23:11:28Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=38a323ad66fa3d39:38a323ad66fa3d39:0000000000000000:1"
2021/09/23 23:11:28 Reporting span 38a323ad66fa3d39:2dba795ac78effad:38a323ad66fa3d39:1
time="2021-09-23T23:11:28Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-12-control-plane\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}]} span=38a323ad66fa3d39:38a323ad66fa3d39:0000000000000000:1"
2021/09/23 23:11:28 Reporting span 38a323ad66fa3d39:38a323ad66fa3d39:0000000000000000:1
{"level":"info","ts":1632438688.976532,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name examplecscn5","app":"nse-discovery"}
{"level":"info","ts":1632438688.9765837,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example2kxlp","app":"nse-discovery"}
{"level":"info","ts":1632438688.976594,"caller":"nseinformer/nseInformerController.go:202","msg":"Retrieved 2 endpoints from the local NSR","app":"nse-discovery"}
{"level":"info","ts":1632438688.9766006,"caller":"nseinformer/nseInformerController.go:205","msg":"Getting endpoints from the global NSR at: example.wcm-cisco.com:443","app":"nse-discovery"}
time="2021-09-23T23:11:28Z" level=info msg="==--> discovery.FindNetworkService() span:3eedd8e10949f9d6:3eedd8e10949f9d6:0000000000000000:1"
time="2021-09-23T23:11:28Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=3eedd8e10949f9d6:3eedd8e10949f9d6:0000000000000000:1"
time="2021-09-23T23:11:28Z" level=info msg=">><<-- nsrURL=\"example.wcm-cisco.com:443\" span=3eedd8e10949f9d6:3eedd8e10949f9d6:0000000000000000:1"
time="2021-09-23T23:11:28Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-09-23T23:11:28Z" level=info msg="==----> initRegistryClient() span:3eedd8e10949f9d6:367256f4f180b9c0:3eedd8e10949f9d6:1"
time="2021-09-23T23:11:28Z" level=info msg="Waiting for liveness probe: tcp:example.wcm-cisco.com:443"
time="2021-09-23T23:11:28Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="3eedd8e10949f9d6:367256f4f180b9c0:3eedd8e10949f9d6:1"
time="2021-09-23T23:11:28Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:11:28Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:11:28Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:11:28Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:11:29Z" level=info msg="Found the right tls certificate for target: example.wcm-cisco.com:443"
time="2021-09-23T23:11:29Z" level=info msg="Successfully connected to example.wcm-cisco.com:443" operation=initRegistryClient span="3eedd8e10949f9d6:367256f4f180b9c0:3eedd8e10949f9d6:1"
2021/09/23 23:11:29 Reporting span 3eedd8e10949f9d6:367256f4f180b9c0:3eedd8e10949f9d6:1
{"level":"info","ts":1632438689.030438,"caller":"nseinformer/nseInformerController.go:426","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-09-23T23:11:29Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=3eedd8e10949f9d6:3eedd8e10949f9d6:0000000000000000:1"
time="2021-09-23T23:11:29Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=3eedd8e10949f9d6:3eedd8e10949f9d6:0000000000000000:1"
2021/09/23 23:11:29 Reporting span 3eedd8e10949f9d6:737bccb593d16d78:3eedd8e10949f9d6:1
time="2021-09-23T23:11:29Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-11-control-plane\":{\"name\":\"kind-11-control-plane\",\"url\":\"172.17.0.3:5001\",\"expiration_time\":{\"seconds\":40},\"state\":\"RUNNING\"},\"kind-12-control-plane\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"expiration_time\":{\"seconds\":40},\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"example798f5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-11-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-11_vl3-nse-example-5859574cb9-vsm49\",\"wcm/cluster\":\"kind-11\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"exampler6q79\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-11-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-11_vl3-nse-example-5859574cb9-lzths\",\"wcm/cluster\":\"kind-11\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}]} span=3eedd8e10949f9d6:3eedd8e10949f9d6:0000000000000000:1"
2021/09/23 23:11:29 Reporting span 3eedd8e10949f9d6:3eedd8e10949f9d6:0000000000000000:1
{"level":"info","ts":1632438689.0380192,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example2kxlp","app":"nse-discovery"}
{"level":"info","ts":1632438689.0381052,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example798f5","app":"nse-discovery"}
{"level":"info","ts":1632438689.0381598,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name examplecscn5","app":"nse-discovery"}
{"level":"info","ts":1632438689.0382109,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name exampler6q79","app":"nse-discovery"}
{"level":"info","ts":1632438689.0382624,"caller":"nseinformer/nseInformerController.go:214","msg":"Retrieved 4 endpoints from the global NSR","app":"nse-discovery"}
{"level":"info","ts":1632438689.0383246,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438689.0385332,"caller":"nseinformer/nseInformerController.go:349","msg":"NSE diff:  For cluster kind-12, skipping endpoint 'example798f5'","app":"nse-discovery"}
{"level":"info","ts":1632438689.0386245,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438689.0386827,"caller":"nseinformer/nseInformerController.go:349","msg":"NSE diff:  For cluster kind-12, skipping endpoint 'exampler6q79'","app":"nse-discovery"}
{"level":"info","ts":1632438689.0387337,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438689.0388305,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438689.0389419,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438689.0390198,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438689.0391002,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438689.0391726,"caller":"nseinformer/nseInformerController.go:362","msg":"NSE diff:  For cluster kind-12, skip comparing endpoint 'example798f5'","app":"nse-discovery"}
{"level":"info","ts":1632438689.0392241,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438689.0393407,"caller":"nseinformer/nseInformerController.go:362","msg":"NSE diff:  For cluster kind-12, skip comparing endpoint 'exampler6q79'","app":"nse-discovery"}
{"level":"info","ts":1632438689.039391,"caller":"nseinformer/nseInformerController.go:219","msg":"Global NSE diff result: 0 new NSEs to add, 0 NSEs to delete","app":"nse-discovery"}
{"level":"info","ts":1632438689.0394652,"caller":"nseinformer/nseInformerController.go:222","msg":"Registering 2 local NSEs to global registry","app":"nse-discovery"}
time="2021-09-23T23:11:29Z" level=info msg="Requesting NseRegistryClient..."
time="2021-09-23T23:11:29Z" level=info msg="==--> initRegistryClient() span:0ae63689af639618:0ae63689af639618:0000000000000000:1"
time="2021-09-23T23:11:29Z" level=info msg="Waiting for liveness probe: tcp:example.wcm-cisco.com:443"
time="2021-09-23T23:11:29Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="0ae63689af639618:0ae63689af639618:0000000000000000:1"
time="2021-09-23T23:11:29Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:11:29Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:11:29Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:11:29Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:11:29Z" level=info msg="Found the right tls certificate for target: example.wcm-cisco.com:443"
time="2021-09-23T23:11:29Z" level=info msg="Successfully connected to example.wcm-cisco.com:443" operation=initRegistryClient span="0ae63689af639618:0ae63689af639618:0000000000000000:1"
2021/09/23 23:11:29 Reporting span 0ae63689af639618:0ae63689af639618:0000000000000000:1
time="2021-09-23T23:11:29Z" level=info msg=">><<-- /registry.NetworkServiceRegistry/RegisterNSE()=\"\" span=<nil>"
time="2021-09-23T23:11:29Z" level=info msg=">><<-- request={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
2021/09/23 23:11:29 Reporting span 5eaed97e98935749:5eaed97e98935749:0000000000000000:1
time="2021-09-23T23:11:29Z" level=info msg=">><<-- response={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
time="2021-09-23T23:11:29Z" level=info msg=">><<-- /registry.NetworkServiceRegistry/RegisterNSE()=\"\" span=<nil>"
time="2021-09-23T23:11:29Z" level=info msg=">><<-- request={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
2021/09/23 23:11:29 Reporting span 54b31ede4b479a32:54b31ede4b479a32:0000000000000000:1
time="2021-09-23T23:11:29Z" level=info msg=">><<-- response={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
{"level":"info","ts":1632438689.1142173,"caller":"nseinformer/nseInformerController.go:284","msg":"No endpoints to remove from Global registry.","app":"nse-discovery"}
{"level":"info","ts":1632438718.766906,"caller":"nseinformer/nseInformerController.go:123","msg":"NSE pod: &{{ } {examplecscn5 example nsm-system /apis/networkservicemesh.io/v1alpha1/namespaces/nsm-system/networkserviceendpoints/examplecscn5 429d782d-3493-4ea4-ad95-6bdada125d2f 2187 1 2021-09-23 23:08:32 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:example-kind-12_vl3-nse-example-dff8646dd-ch2hz wcm/nsr.addr:example.wcm-cisco.com wcm/nsr.port:443] map[] [] []  []} {example IP kind-12-control-plane} {RUNNING}} was updated with: &{{ } {examplecscn5 example nsm-system /apis/networkservicemesh.io/v1alpha1/namespaces/nsm-system/networkserviceendpoints/examplecscn5 429d782d-3493-4ea4-ad95-6bdada125d2f 2187 1 2021-09-23 23:08:32 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:example-kind-12_vl3-nse-example-dff8646dd-ch2hz wcm/nsr.addr:example.wcm-cisco.com wcm/nsr.port:443] map[] [] []  []} {example IP kind-12-control-plane} {RUNNING}}","app":"nse-discovery"}
{"level":"info","ts":1632438718.7671633,"caller":"nseinformer/nseInformerController.go:123","msg":"NSE pod: &{{ } {example2kxlp example nsm-system /apis/networkservicemesh.io/v1alpha1/namespaces/nsm-system/networkserviceendpoints/example2kxlp 3b867dc3-b412-41b9-8d8b-17fa6d257ef9 2191 1 2021-09-23 23:08:32 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:example-kind-12_vl3-nse-example-dff8646dd-dgzfk wcm/nsr.addr:example.wcm-cisco.com wcm/nsr.port:443] map[] [] []  []} {example IP kind-12-control-plane} {RUNNING}} was updated with: &{{ } {example2kxlp example nsm-system /apis/networkservicemesh.io/v1alpha1/namespaces/nsm-system/networkserviceendpoints/example2kxlp 3b867dc3-b412-41b9-8d8b-17fa6d257ef9 2191 1 2021-09-23 23:08:32 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:example-kind-12_vl3-nse-example-dff8646dd-dgzfk wcm/nsr.addr:example.wcm-cisco.com wcm/nsr.port:443] map[] [] []  []} {example IP kind-12-control-plane} {RUNNING}}","app":"nse-discovery"}
{"level":"info","ts":1632438718.767213,"caller":"nseinformer/nseInformerController.go:172","msg":"Processing NSE named examplecscn5...","app":"nse-discovery"}
{"level":"info","ts":1632438718.7672377,"caller":"nseinformer/nseInformerController.go:179","msg":"Found service name: example","app":"nse-discovery"}
{"level":"info","ts":1632438718.767265,"caller":"nseinformer/nseInformerController.go:194","msg":"Getting endpoints from the local NSR","app":"nse-discovery"}
time="2021-09-23T23:11:58Z" level=info msg="==--> discovery.FindNetworkService() span:6cb56dbea4e3ed83:6cb56dbea4e3ed83:0000000000000000:1"
time="2021-09-23T23:11:58Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=6cb56dbea4e3ed83:6cb56dbea4e3ed83:0000000000000000:1"
time="2021-09-23T23:11:58Z" level=info msg=">><<-- nsrURL=\"wcm-proxy-nsmgr.nsm-system:5005\" span=6cb56dbea4e3ed83:6cb56dbea4e3ed83:0000000000000000:1"
time="2021-09-23T23:11:58Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-09-23T23:11:58Z" level=info msg="==----> initRegistryClient() span:6cb56dbea4e3ed83:5473a0796bcfec4b:6cb56dbea4e3ed83:1"
time="2021-09-23T23:11:58Z" level=info msg="Waiting for liveness probe: tcp:wcm-proxy-nsmgr.nsm-system:5005"
time="2021-09-23T23:11:58Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="6cb56dbea4e3ed83:5473a0796bcfec4b:6cb56dbea4e3ed83:1"
time="2021-09-23T23:11:58Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:11:58Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:11:58Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:11:58Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:11:58Z" level=info msg="Found the right tls certificate for target: wcm-proxy-nsmgr.nsm-system:5005"
time="2021-09-23T23:11:58Z" level=info msg="Successfully connected to wcm-proxy-nsmgr.nsm-system:5005" operation=initRegistryClient span="6cb56dbea4e3ed83:5473a0796bcfec4b:6cb56dbea4e3ed83:1"
2021/09/23 23:11:58 Reporting span 6cb56dbea4e3ed83:5473a0796bcfec4b:6cb56dbea4e3ed83:1
{"level":"info","ts":1632438718.8113718,"caller":"nseinformer/nseInformerController.go:426","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-09-23T23:11:58Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=6cb56dbea4e3ed83:6cb56dbea4e3ed83:0000000000000000:1"
time="2021-09-23T23:11:58Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=6cb56dbea4e3ed83:6cb56dbea4e3ed83:0000000000000000:1"
2021/09/23 23:11:58 Reporting span 6cb56dbea4e3ed83:7106c2a587a83916:6cb56dbea4e3ed83:1
time="2021-09-23T23:11:58Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-12-control-plane\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}]} span=6cb56dbea4e3ed83:6cb56dbea4e3ed83:0000000000000000:1"
2021/09/23 23:11:58 Reporting span 6cb56dbea4e3ed83:6cb56dbea4e3ed83:0000000000000000:1
{"level":"info","ts":1632438718.8196278,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name examplecscn5","app":"nse-discovery"}
{"level":"info","ts":1632438718.8196702,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example2kxlp","app":"nse-discovery"}
{"level":"info","ts":1632438718.819695,"caller":"nseinformer/nseInformerController.go:202","msg":"Retrieved 2 endpoints from the local NSR","app":"nse-discovery"}
{"level":"info","ts":1632438718.8197124,"caller":"nseinformer/nseInformerController.go:205","msg":"Getting endpoints from the global NSR at: example.wcm-cisco.com:443","app":"nse-discovery"}
time="2021-09-23T23:11:58Z" level=info msg="==--> discovery.FindNetworkService() span:61e2531be9322fb1:61e2531be9322fb1:0000000000000000:1"
time="2021-09-23T23:11:58Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=61e2531be9322fb1:61e2531be9322fb1:0000000000000000:1"
time="2021-09-23T23:11:58Z" level=info msg=">><<-- nsrURL=\"example.wcm-cisco.com:443\" span=61e2531be9322fb1:61e2531be9322fb1:0000000000000000:1"
time="2021-09-23T23:11:58Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-09-23T23:11:58Z" level=info msg="==----> initRegistryClient() span:61e2531be9322fb1:46d6c92c476e81aa:61e2531be9322fb1:1"
time="2021-09-23T23:11:58Z" level=info msg="Waiting for liveness probe: tcp:example.wcm-cisco.com:443"
time="2021-09-23T23:11:58Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="61e2531be9322fb1:46d6c92c476e81aa:61e2531be9322fb1:1"
time="2021-09-23T23:11:58Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:11:58Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:11:58Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:11:58Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:11:58Z" level=info msg="Found the right tls certificate for target: example.wcm-cisco.com:443"
time="2021-09-23T23:11:58Z" level=info msg="Successfully connected to example.wcm-cisco.com:443" operation=initRegistryClient span="61e2531be9322fb1:46d6c92c476e81aa:61e2531be9322fb1:1"
2021/09/23 23:11:58 Reporting span 61e2531be9322fb1:46d6c92c476e81aa:61e2531be9322fb1:1
{"level":"info","ts":1632438718.8619843,"caller":"nseinformer/nseInformerController.go:426","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-09-23T23:11:58Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=61e2531be9322fb1:61e2531be9322fb1:0000000000000000:1"
time="2021-09-23T23:11:58Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=61e2531be9322fb1:61e2531be9322fb1:0000000000000000:1"
2021/09/23 23:11:58 Reporting span 61e2531be9322fb1:7ec3dd1bdcdb8ab6:61e2531be9322fb1:1
time="2021-09-23T23:11:58Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-11-control-plane\":{\"name\":\"kind-11-control-plane\",\"url\":\"172.17.0.3:5001\",\"expiration_time\":{\"seconds\":40},\"state\":\"RUNNING\"},\"kind-12-control-plane\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"expiration_time\":{\"seconds\":40},\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"example798f5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-11-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-11_vl3-nse-example-5859574cb9-vsm49\",\"wcm/cluster\":\"kind-11\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"exampler6q79\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-11-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-11_vl3-nse-example-5859574cb9-lzths\",\"wcm/cluster\":\"kind-11\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}]} span=61e2531be9322fb1:61e2531be9322fb1:0000000000000000:1"
2021/09/23 23:11:58 Reporting span 61e2531be9322fb1:61e2531be9322fb1:0000000000000000:1
{"level":"info","ts":1632438718.8682437,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example2kxlp","app":"nse-discovery"}
{"level":"info","ts":1632438718.8683279,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example798f5","app":"nse-discovery"}
{"level":"info","ts":1632438718.8683405,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name examplecscn5","app":"nse-discovery"}
{"level":"info","ts":1632438718.8683465,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name exampler6q79","app":"nse-discovery"}
{"level":"info","ts":1632438718.868417,"caller":"nseinformer/nseInformerController.go:214","msg":"Retrieved 4 endpoints from the global NSR","app":"nse-discovery"}
{"level":"info","ts":1632438718.8684344,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438718.8684773,"caller":"nseinformer/nseInformerController.go:349","msg":"NSE diff:  For cluster kind-12, skipping endpoint 'example798f5'","app":"nse-discovery"}
{"level":"info","ts":1632438718.8684878,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438718.8684943,"caller":"nseinformer/nseInformerController.go:349","msg":"NSE diff:  For cluster kind-12, skipping endpoint 'exampler6q79'","app":"nse-discovery"}
{"level":"info","ts":1632438718.8685052,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438718.868512,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438718.8685434,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438718.8685532,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438718.8685586,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438718.8685822,"caller":"nseinformer/nseInformerController.go:362","msg":"NSE diff:  For cluster kind-12, skip comparing endpoint 'example798f5'","app":"nse-discovery"}
{"level":"info","ts":1632438718.8685935,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438718.868599,"caller":"nseinformer/nseInformerController.go:362","msg":"NSE diff:  For cluster kind-12, skip comparing endpoint 'exampler6q79'","app":"nse-discovery"}
{"level":"info","ts":1632438718.8686366,"caller":"nseinformer/nseInformerController.go:219","msg":"Global NSE diff result: 0 new NSEs to add, 0 NSEs to delete","app":"nse-discovery"}
{"level":"info","ts":1632438718.8686469,"caller":"nseinformer/nseInformerController.go:222","msg":"Registering 2 local NSEs to global registry","app":"nse-discovery"}
time="2021-09-23T23:11:58Z" level=info msg="Requesting NseRegistryClient..."
time="2021-09-23T23:11:58Z" level=info msg="==--> initRegistryClient() span:63436bffd4f9ccc1:63436bffd4f9ccc1:0000000000000000:1"
time="2021-09-23T23:11:58Z" level=info msg="Waiting for liveness probe: tcp:example.wcm-cisco.com:443"
time="2021-09-23T23:11:58Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="63436bffd4f9ccc1:63436bffd4f9ccc1:0000000000000000:1"
time="2021-09-23T23:11:58Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:11:58Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:11:58Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:11:58Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:11:58Z" level=info msg="Found the right tls certificate for target: example.wcm-cisco.com:443"
time="2021-09-23T23:11:58Z" level=info msg="Successfully connected to example.wcm-cisco.com:443" operation=initRegistryClient span="63436bffd4f9ccc1:63436bffd4f9ccc1:0000000000000000:1"
2021/09/23 23:11:58 Reporting span 63436bffd4f9ccc1:63436bffd4f9ccc1:0000000000000000:1
time="2021-09-23T23:11:58Z" level=info msg=">><<-- /registry.NetworkServiceRegistry/RegisterNSE()=\"\" span=<nil>"
time="2021-09-23T23:11:58Z" level=info msg=">><<-- request={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
2021/09/23 23:11:58 Reporting span 6855191d700113b4:6855191d700113b4:0000000000000000:1
time="2021-09-23T23:11:58Z" level=info msg=">><<-- response={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
time="2021-09-23T23:11:58Z" level=info msg=">><<-- /registry.NetworkServiceRegistry/RegisterNSE()=\"\" span=<nil>"
time="2021-09-23T23:11:58Z" level=info msg=">><<-- request={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
2021/09/23 23:11:58 Reporting span 79f14fbbb5f8e6c9:79f14fbbb5f8e6c9:0000000000000000:1
time="2021-09-23T23:11:58Z" level=info msg=">><<-- response={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
{"level":"info","ts":1632438718.9445763,"caller":"nseinformer/nseInformerController.go:284","msg":"No endpoints to remove from Global registry.","app":"nse-discovery"}
{"level":"info","ts":1632438718.9448369,"caller":"nseinformer/nseInformerController.go:172","msg":"Processing NSE named example2kxlp...","app":"nse-discovery"}
{"level":"info","ts":1632438718.9449174,"caller":"nseinformer/nseInformerController.go:179","msg":"Found service name: example","app":"nse-discovery"}
{"level":"info","ts":1632438718.944983,"caller":"nseinformer/nseInformerController.go:194","msg":"Getting endpoints from the local NSR","app":"nse-discovery"}
time="2021-09-23T23:11:58Z" level=info msg="==--> discovery.FindNetworkService() span:7eaacda65ead19c3:7eaacda65ead19c3:0000000000000000:1"
time="2021-09-23T23:11:58Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=7eaacda65ead19c3:7eaacda65ead19c3:0000000000000000:1"
time="2021-09-23T23:11:58Z" level=info msg=">><<-- nsrURL=\"wcm-proxy-nsmgr.nsm-system:5005\" span=7eaacda65ead19c3:7eaacda65ead19c3:0000000000000000:1"
time="2021-09-23T23:11:58Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-09-23T23:11:58Z" level=info msg="==----> initRegistryClient() span:7eaacda65ead19c3:1f8289ac82a1d75a:7eaacda65ead19c3:1"
time="2021-09-23T23:11:58Z" level=info msg="Waiting for liveness probe: tcp:wcm-proxy-nsmgr.nsm-system:5005"
time="2021-09-23T23:11:58Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="7eaacda65ead19c3:1f8289ac82a1d75a:7eaacda65ead19c3:1"
time="2021-09-23T23:11:58Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:11:58Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:11:58Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:11:58Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:11:58Z" level=info msg="Found the right tls certificate for target: wcm-proxy-nsmgr.nsm-system:5005"
time="2021-09-23T23:11:58Z" level=info msg="Successfully connected to wcm-proxy-nsmgr.nsm-system:5005" operation=initRegistryClient span="7eaacda65ead19c3:1f8289ac82a1d75a:7eaacda65ead19c3:1"
2021/09/23 23:11:58 Reporting span 7eaacda65ead19c3:1f8289ac82a1d75a:7eaacda65ead19c3:1
{"level":"info","ts":1632438718.9747317,"caller":"nseinformer/nseInformerController.go:426","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-09-23T23:11:58Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=7eaacda65ead19c3:7eaacda65ead19c3:0000000000000000:1"
time="2021-09-23T23:11:58Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=7eaacda65ead19c3:7eaacda65ead19c3:0000000000000000:1"
2021/09/23 23:11:58 Reporting span 7eaacda65ead19c3:52218be8b2890469:7eaacda65ead19c3:1
time="2021-09-23T23:11:58Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-12-control-plane\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}]} span=7eaacda65ead19c3:7eaacda65ead19c3:0000000000000000:1"
2021/09/23 23:11:58 Reporting span 7eaacda65ead19c3:7eaacda65ead19c3:0000000000000000:1
{"level":"info","ts":1632438718.9808106,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name examplecscn5","app":"nse-discovery"}
{"level":"info","ts":1632438718.9808538,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example2kxlp","app":"nse-discovery"}
{"level":"info","ts":1632438718.9808607,"caller":"nseinformer/nseInformerController.go:202","msg":"Retrieved 2 endpoints from the local NSR","app":"nse-discovery"}
{"level":"info","ts":1632438718.9808693,"caller":"nseinformer/nseInformerController.go:205","msg":"Getting endpoints from the global NSR at: example.wcm-cisco.com:443","app":"nse-discovery"}
time="2021-09-23T23:11:58Z" level=info msg="==--> discovery.FindNetworkService() span:5afe291bd5ae63f5:5afe291bd5ae63f5:0000000000000000:1"
time="2021-09-23T23:11:58Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=5afe291bd5ae63f5:5afe291bd5ae63f5:0000000000000000:1"
time="2021-09-23T23:11:58Z" level=info msg=">><<-- nsrURL=\"example.wcm-cisco.com:443\" span=5afe291bd5ae63f5:5afe291bd5ae63f5:0000000000000000:1"
time="2021-09-23T23:11:58Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-09-23T23:11:58Z" level=info msg="==----> initRegistryClient() span:5afe291bd5ae63f5:29e4a1e7f08833c2:5afe291bd5ae63f5:1"
time="2021-09-23T23:11:58Z" level=info msg="Waiting for liveness probe: tcp:example.wcm-cisco.com:443"
time="2021-09-23T23:11:58Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="5afe291bd5ae63f5:29e4a1e7f08833c2:5afe291bd5ae63f5:1"
time="2021-09-23T23:11:59Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:11:59Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:11:59Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:11:59Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:11:59Z" level=info msg="Found the right tls certificate for target: example.wcm-cisco.com:443"
time="2021-09-23T23:11:59Z" level=info msg="Successfully connected to example.wcm-cisco.com:443" operation=initRegistryClient span="5afe291bd5ae63f5:29e4a1e7f08833c2:5afe291bd5ae63f5:1"
2021/09/23 23:11:59 Reporting span 5afe291bd5ae63f5:29e4a1e7f08833c2:5afe291bd5ae63f5:1
{"level":"info","ts":1632438719.0137122,"caller":"nseinformer/nseInformerController.go:426","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-09-23T23:11:59Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=5afe291bd5ae63f5:5afe291bd5ae63f5:0000000000000000:1"
time="2021-09-23T23:11:59Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=5afe291bd5ae63f5:5afe291bd5ae63f5:0000000000000000:1"
2021/09/23 23:11:59 Reporting span 5afe291bd5ae63f5:4bb149917750e22f:5afe291bd5ae63f5:1
time="2021-09-23T23:11:59Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-11-control-plane\":{\"name\":\"kind-11-control-plane\",\"url\":\"172.17.0.3:5001\",\"expiration_time\":{\"seconds\":40},\"state\":\"RUNNING\"},\"kind-12-control-plane\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"expiration_time\":{\"seconds\":40},\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"example798f5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-11-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-11_vl3-nse-example-5859574cb9-vsm49\",\"wcm/cluster\":\"kind-11\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"exampler6q79\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-11-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-11_vl3-nse-example-5859574cb9-lzths\",\"wcm/cluster\":\"kind-11\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}]} span=5afe291bd5ae63f5:5afe291bd5ae63f5:0000000000000000:1"
2021/09/23 23:11:59 Reporting span 5afe291bd5ae63f5:5afe291bd5ae63f5:0000000000000000:1
{"level":"info","ts":1632438719.0168698,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example2kxlp","app":"nse-discovery"}
{"level":"info","ts":1632438719.016889,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example798f5","app":"nse-discovery"}
{"level":"info","ts":1632438719.0168953,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name examplecscn5","app":"nse-discovery"}
{"level":"info","ts":1632438719.0169005,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name exampler6q79","app":"nse-discovery"}
{"level":"info","ts":1632438719.0169063,"caller":"nseinformer/nseInformerController.go:214","msg":"Retrieved 4 endpoints from the global NSR","app":"nse-discovery"}
{"level":"info","ts":1632438719.016914,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438719.0169203,"caller":"nseinformer/nseInformerController.go:349","msg":"NSE diff:  For cluster kind-12, skipping endpoint 'example798f5'","app":"nse-discovery"}
{"level":"info","ts":1632438719.016925,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438719.0169299,"caller":"nseinformer/nseInformerController.go:349","msg":"NSE diff:  For cluster kind-12, skipping endpoint 'exampler6q79'","app":"nse-discovery"}
{"level":"info","ts":1632438719.0169365,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438719.016942,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438719.0169525,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438719.0169573,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438719.0169618,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438719.0169675,"caller":"nseinformer/nseInformerController.go:362","msg":"NSE diff:  For cluster kind-12, skip comparing endpoint 'example798f5'","app":"nse-discovery"}
{"level":"info","ts":1632438719.0169723,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438719.0169766,"caller":"nseinformer/nseInformerController.go:362","msg":"NSE diff:  For cluster kind-12, skip comparing endpoint 'exampler6q79'","app":"nse-discovery"}
{"level":"info","ts":1632438719.0169818,"caller":"nseinformer/nseInformerController.go:219","msg":"Global NSE diff result: 0 new NSEs to add, 0 NSEs to delete","app":"nse-discovery"}
{"level":"info","ts":1632438719.0169866,"caller":"nseinformer/nseInformerController.go:222","msg":"Registering 2 local NSEs to global registry","app":"nse-discovery"}
time="2021-09-23T23:11:59Z" level=info msg="Requesting NseRegistryClient..."
time="2021-09-23T23:11:59Z" level=info msg="==--> initRegistryClient() span:35aa76d86cdb2118:35aa76d86cdb2118:0000000000000000:1"
time="2021-09-23T23:11:59Z" level=info msg="Waiting for liveness probe: tcp:example.wcm-cisco.com:443"
time="2021-09-23T23:11:59Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="35aa76d86cdb2118:35aa76d86cdb2118:0000000000000000:1"
time="2021-09-23T23:11:59Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:11:59Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:11:59Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:11:59Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:11:59Z" level=info msg="Found the right tls certificate for target: example.wcm-cisco.com:443"
time="2021-09-23T23:11:59Z" level=info msg="Successfully connected to example.wcm-cisco.com:443" operation=initRegistryClient span="35aa76d86cdb2118:35aa76d86cdb2118:0000000000000000:1"
2021/09/23 23:11:59 Reporting span 35aa76d86cdb2118:35aa76d86cdb2118:0000000000000000:1
time="2021-09-23T23:11:59Z" level=info msg=">><<-- /registry.NetworkServiceRegistry/RegisterNSE()=\"\" span=<nil>"
time="2021-09-23T23:11:59Z" level=info msg=">><<-- request={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
2021/09/23 23:11:59 Reporting span 375e486a7170fa3c:375e486a7170fa3c:0000000000000000:1
time="2021-09-23T23:11:59Z" level=info msg=">><<-- response={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
time="2021-09-23T23:11:59Z" level=info msg=">><<-- /registry.NetworkServiceRegistry/RegisterNSE()=\"\" span=<nil>"
time="2021-09-23T23:11:59Z" level=info msg=">><<-- request={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
2021/09/23 23:11:59 Reporting span 79f07fc116092826:79f07fc116092826:0000000000000000:1
time="2021-09-23T23:11:59Z" level=info msg=">><<-- response={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
{"level":"info","ts":1632438719.084537,"caller":"nseinformer/nseInformerController.go:284","msg":"No endpoints to remove from Global registry.","app":"nse-discovery"}
{"level":"info","ts":1632438748.767467,"caller":"nseinformer/nseInformerController.go:123","msg":"NSE pod: &{{ } {examplecscn5 example nsm-system /apis/networkservicemesh.io/v1alpha1/namespaces/nsm-system/networkserviceendpoints/examplecscn5 429d782d-3493-4ea4-ad95-6bdada125d2f 2187 1 2021-09-23 23:08:32 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:example-kind-12_vl3-nse-example-dff8646dd-ch2hz wcm/nsr.addr:example.wcm-cisco.com wcm/nsr.port:443] map[] [] []  []} {example IP kind-12-control-plane} {RUNNING}} was updated with: &{{ } {examplecscn5 example nsm-system /apis/networkservicemesh.io/v1alpha1/namespaces/nsm-system/networkserviceendpoints/examplecscn5 429d782d-3493-4ea4-ad95-6bdada125d2f 2187 1 2021-09-23 23:08:32 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:example-kind-12_vl3-nse-example-dff8646dd-ch2hz wcm/nsr.addr:example.wcm-cisco.com wcm/nsr.port:443] map[] [] []  []} {example IP kind-12-control-plane} {RUNNING}}","app":"nse-discovery"}
{"level":"info","ts":1632438748.767701,"caller":"nseinformer/nseInformerController.go:123","msg":"NSE pod: &{{ } {example2kxlp example nsm-system /apis/networkservicemesh.io/v1alpha1/namespaces/nsm-system/networkserviceendpoints/example2kxlp 3b867dc3-b412-41b9-8d8b-17fa6d257ef9 2191 1 2021-09-23 23:08:32 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:example-kind-12_vl3-nse-example-dff8646dd-dgzfk wcm/nsr.addr:example.wcm-cisco.com wcm/nsr.port:443] map[] [] []  []} {example IP kind-12-control-plane} {RUNNING}} was updated with: &{{ } {example2kxlp example nsm-system /apis/networkservicemesh.io/v1alpha1/namespaces/nsm-system/networkserviceendpoints/example2kxlp 3b867dc3-b412-41b9-8d8b-17fa6d257ef9 2191 1 2021-09-23 23:08:32 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:example-kind-12_vl3-nse-example-dff8646dd-dgzfk wcm/nsr.addr:example.wcm-cisco.com wcm/nsr.port:443] map[] [] []  []} {example IP kind-12-control-plane} {RUNNING}}","app":"nse-discovery"}
{"level":"info","ts":1632438748.7677772,"caller":"nseinformer/nseInformerController.go:172","msg":"Processing NSE named examplecscn5...","app":"nse-discovery"}
{"level":"info","ts":1632438748.767868,"caller":"nseinformer/nseInformerController.go:179","msg":"Found service name: example","app":"nse-discovery"}
{"level":"info","ts":1632438748.767901,"caller":"nseinformer/nseInformerController.go:194","msg":"Getting endpoints from the local NSR","app":"nse-discovery"}
time="2021-09-23T23:12:28Z" level=info msg="==--> discovery.FindNetworkService() span:03f0e6693cde9436:03f0e6693cde9436:0000000000000000:1"
time="2021-09-23T23:12:28Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=03f0e6693cde9436:03f0e6693cde9436:0000000000000000:1"
time="2021-09-23T23:12:28Z" level=info msg=">><<-- nsrURL=\"wcm-proxy-nsmgr.nsm-system:5005\" span=03f0e6693cde9436:03f0e6693cde9436:0000000000000000:1"
time="2021-09-23T23:12:28Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-09-23T23:12:28Z" level=info msg="==----> initRegistryClient() span:03f0e6693cde9436:6303017835eb93b8:03f0e6693cde9436:1"
time="2021-09-23T23:12:28Z" level=info msg="Waiting for liveness probe: tcp:wcm-proxy-nsmgr.nsm-system:5005"
time="2021-09-23T23:12:28Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="03f0e6693cde9436:6303017835eb93b8:03f0e6693cde9436:1"
time="2021-09-23T23:12:28Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:12:28Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:12:28Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:12:28Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:12:28Z" level=info msg="Found the right tls certificate for target: wcm-proxy-nsmgr.nsm-system:5005"
time="2021-09-23T23:12:28Z" level=info msg="Successfully connected to wcm-proxy-nsmgr.nsm-system:5005" operation=initRegistryClient span="03f0e6693cde9436:6303017835eb93b8:03f0e6693cde9436:1"
2021/09/23 23:12:28 Reporting span 03f0e6693cde9436:6303017835eb93b8:03f0e6693cde9436:1
{"level":"info","ts":1632438748.812026,"caller":"nseinformer/nseInformerController.go:426","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-09-23T23:12:28Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=03f0e6693cde9436:03f0e6693cde9436:0000000000000000:1"
time="2021-09-23T23:12:28Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=03f0e6693cde9436:03f0e6693cde9436:0000000000000000:1"
2021/09/23 23:12:28 Reporting span 03f0e6693cde9436:5495f95f337bd574:03f0e6693cde9436:1
time="2021-09-23T23:12:28Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-12-control-plane\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}]} span=03f0e6693cde9436:03f0e6693cde9436:0000000000000000:1"
2021/09/23 23:12:28 Reporting span 03f0e6693cde9436:03f0e6693cde9436:0000000000000000:1
{"level":"info","ts":1632438748.8333962,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name examplecscn5","app":"nse-discovery"}
{"level":"info","ts":1632438748.8343115,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example2kxlp","app":"nse-discovery"}
{"level":"info","ts":1632438748.8343306,"caller":"nseinformer/nseInformerController.go:202","msg":"Retrieved 2 endpoints from the local NSR","app":"nse-discovery"}
{"level":"info","ts":1632438748.8343408,"caller":"nseinformer/nseInformerController.go:205","msg":"Getting endpoints from the global NSR at: example.wcm-cisco.com:443","app":"nse-discovery"}
time="2021-09-23T23:12:28Z" level=info msg="==--> discovery.FindNetworkService() span:43fda1cee2ae739d:43fda1cee2ae739d:0000000000000000:1"
time="2021-09-23T23:12:28Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=43fda1cee2ae739d:43fda1cee2ae739d:0000000000000000:1"
time="2021-09-23T23:12:28Z" level=info msg=">><<-- nsrURL=\"example.wcm-cisco.com:443\" span=43fda1cee2ae739d:43fda1cee2ae739d:0000000000000000:1"
time="2021-09-23T23:12:28Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-09-23T23:12:28Z" level=info msg="==----> initRegistryClient() span:43fda1cee2ae739d:4a15f5d49f0655b3:43fda1cee2ae739d:1"
time="2021-09-23T23:12:28Z" level=info msg="Waiting for liveness probe: tcp:example.wcm-cisco.com:443"
time="2021-09-23T23:12:28Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="43fda1cee2ae739d:4a15f5d49f0655b3:43fda1cee2ae739d:1"
time="2021-09-23T23:12:28Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:12:28Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:12:28Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:12:28Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:12:28Z" level=info msg="Found the right tls certificate for target: example.wcm-cisco.com:443"
time="2021-09-23T23:12:28Z" level=info msg="Successfully connected to example.wcm-cisco.com:443" operation=initRegistryClient span="43fda1cee2ae739d:4a15f5d49f0655b3:43fda1cee2ae739d:1"
2021/09/23 23:12:28 Reporting span 43fda1cee2ae739d:4a15f5d49f0655b3:43fda1cee2ae739d:1
{"level":"info","ts":1632438748.9129682,"caller":"nseinformer/nseInformerController.go:426","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-09-23T23:12:28Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=43fda1cee2ae739d:43fda1cee2ae739d:0000000000000000:1"
time="2021-09-23T23:12:28Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=43fda1cee2ae739d:43fda1cee2ae739d:0000000000000000:1"
2021/09/23 23:12:28 Reporting span 43fda1cee2ae739d:5746fedf05bd8450:43fda1cee2ae739d:1
time="2021-09-23T23:12:28Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-11-control-plane\":{\"name\":\"kind-11-control-plane\",\"url\":\"172.17.0.3:5001\",\"expiration_time\":{\"seconds\":40},\"state\":\"RUNNING\"},\"kind-12-control-plane\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"expiration_time\":{\"seconds\":40},\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"example798f5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-11-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-11_vl3-nse-example-5859574cb9-vsm49\",\"wcm/cluster\":\"kind-11\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"exampler6q79\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-11-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-11_vl3-nse-example-5859574cb9-lzths\",\"wcm/cluster\":\"kind-11\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}]} span=43fda1cee2ae739d:43fda1cee2ae739d:0000000000000000:1"
2021/09/23 23:12:28 Reporting span 43fda1cee2ae739d:43fda1cee2ae739d:0000000000000000:1
{"level":"info","ts":1632438748.9165013,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example2kxlp","app":"nse-discovery"}
{"level":"info","ts":1632438748.9166288,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example798f5","app":"nse-discovery"}
{"level":"info","ts":1632438748.9166372,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name examplecscn5","app":"nse-discovery"}
{"level":"info","ts":1632438748.9166427,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name exampler6q79","app":"nse-discovery"}
{"level":"info","ts":1632438748.9166486,"caller":"nseinformer/nseInformerController.go:214","msg":"Retrieved 4 endpoints from the global NSR","app":"nse-discovery"}
{"level":"info","ts":1632438748.916657,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438748.9166703,"caller":"nseinformer/nseInformerController.go:349","msg":"NSE diff:  For cluster kind-12, skipping endpoint 'example798f5'","app":"nse-discovery"}
{"level":"info","ts":1632438748.9166756,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438748.9166803,"caller":"nseinformer/nseInformerController.go:349","msg":"NSE diff:  For cluster kind-12, skipping endpoint 'exampler6q79'","app":"nse-discovery"}
{"level":"info","ts":1632438748.9166865,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438748.9166918,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438748.9166963,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438748.9167008,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438748.9167056,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438748.9167144,"caller":"nseinformer/nseInformerController.go:362","msg":"NSE diff:  For cluster kind-12, skip comparing endpoint 'example798f5'","app":"nse-discovery"}
{"level":"info","ts":1632438748.9168034,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438748.9168081,"caller":"nseinformer/nseInformerController.go:362","msg":"NSE diff:  For cluster kind-12, skip comparing endpoint 'exampler6q79'","app":"nse-discovery"}
{"level":"info","ts":1632438748.9168181,"caller":"nseinformer/nseInformerController.go:219","msg":"Global NSE diff result: 0 new NSEs to add, 0 NSEs to delete","app":"nse-discovery"}
{"level":"info","ts":1632438748.916824,"caller":"nseinformer/nseInformerController.go:222","msg":"Registering 2 local NSEs to global registry","app":"nse-discovery"}
time="2021-09-23T23:12:28Z" level=info msg="Requesting NseRegistryClient..."
time="2021-09-23T23:12:28Z" level=info msg="==--> initRegistryClient() span:1a8d1b8fb85b5634:1a8d1b8fb85b5634:0000000000000000:1"
time="2021-09-23T23:12:28Z" level=info msg="Waiting for liveness probe: tcp:example.wcm-cisco.com:443"
time="2021-09-23T23:12:28Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="1a8d1b8fb85b5634:1a8d1b8fb85b5634:0000000000000000:1"
time="2021-09-23T23:12:28Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:12:28Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:12:28Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:12:28Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:12:28Z" level=info msg="Found the right tls certificate for target: example.wcm-cisco.com:443"
time="2021-09-23T23:12:28Z" level=info msg="Successfully connected to example.wcm-cisco.com:443" operation=initRegistryClient span="1a8d1b8fb85b5634:1a8d1b8fb85b5634:0000000000000000:1"
2021/09/23 23:12:28 Reporting span 1a8d1b8fb85b5634:1a8d1b8fb85b5634:0000000000000000:1
time="2021-09-23T23:12:28Z" level=info msg=">><<-- /registry.NetworkServiceRegistry/RegisterNSE()=\"\" span=<nil>"
time="2021-09-23T23:12:28Z" level=info msg=">><<-- request={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
2021/09/23 23:12:28 Reporting span 52f6cbf4c29baf5e:52f6cbf4c29baf5e:0000000000000000:1
time="2021-09-23T23:12:28Z" level=info msg=">><<-- response={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
time="2021-09-23T23:12:28Z" level=info msg=">><<-- /registry.NetworkServiceRegistry/RegisterNSE()=\"\" span=<nil>"
time="2021-09-23T23:12:28Z" level=info msg=">><<-- request={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
2021/09/23 23:12:28 Reporting span 1d3fdf5bf39ab4e2:1d3fdf5bf39ab4e2:0000000000000000:1
time="2021-09-23T23:12:28Z" level=info msg=">><<-- response={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
{"level":"info","ts":1632438748.9878328,"caller":"nseinformer/nseInformerController.go:284","msg":"No endpoints to remove from Global registry.","app":"nse-discovery"}
{"level":"info","ts":1632438748.987967,"caller":"nseinformer/nseInformerController.go:172","msg":"Processing NSE named example2kxlp...","app":"nse-discovery"}
{"level":"info","ts":1632438748.9879751,"caller":"nseinformer/nseInformerController.go:179","msg":"Found service name: example","app":"nse-discovery"}
{"level":"info","ts":1632438748.9880168,"caller":"nseinformer/nseInformerController.go:194","msg":"Getting endpoints from the local NSR","app":"nse-discovery"}
time="2021-09-23T23:12:28Z" level=info msg="==--> discovery.FindNetworkService() span:1fce30d9052303d1:1fce30d9052303d1:0000000000000000:1"
time="2021-09-23T23:12:28Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=1fce30d9052303d1:1fce30d9052303d1:0000000000000000:1"
time="2021-09-23T23:12:28Z" level=info msg=">><<-- nsrURL=\"wcm-proxy-nsmgr.nsm-system:5005\" span=1fce30d9052303d1:1fce30d9052303d1:0000000000000000:1"
time="2021-09-23T23:12:28Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-09-23T23:12:28Z" level=info msg="==----> initRegistryClient() span:1fce30d9052303d1:25a5974490f39479:1fce30d9052303d1:1"
time="2021-09-23T23:12:28Z" level=info msg="Waiting for liveness probe: tcp:wcm-proxy-nsmgr.nsm-system:5005"
time="2021-09-23T23:12:28Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="1fce30d9052303d1:25a5974490f39479:1fce30d9052303d1:1"
time="2021-09-23T23:12:29Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:12:29Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:12:29Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:12:29Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:12:29Z" level=info msg="Found the right tls certificate for target: wcm-proxy-nsmgr.nsm-system:5005"
time="2021-09-23T23:12:29Z" level=info msg="Successfully connected to wcm-proxy-nsmgr.nsm-system:5005" operation=initRegistryClient span="1fce30d9052303d1:25a5974490f39479:1fce30d9052303d1:1"
2021/09/23 23:12:29 Reporting span 1fce30d9052303d1:25a5974490f39479:1fce30d9052303d1:1
{"level":"info","ts":1632438749.0188043,"caller":"nseinformer/nseInformerController.go:426","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-09-23T23:12:29Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=1fce30d9052303d1:1fce30d9052303d1:0000000000000000:1"
time="2021-09-23T23:12:29Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=1fce30d9052303d1:1fce30d9052303d1:0000000000000000:1"
2021/09/23 23:12:29 Reporting span 1fce30d9052303d1:63695f8d91b86029:1fce30d9052303d1:1
time="2021-09-23T23:12:29Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-12-control-plane\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}]} span=1fce30d9052303d1:1fce30d9052303d1:0000000000000000:1"
2021/09/23 23:12:29 Reporting span 1fce30d9052303d1:1fce30d9052303d1:0000000000000000:1
{"level":"info","ts":1632438749.0256598,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name examplecscn5","app":"nse-discovery"}
{"level":"info","ts":1632438749.025684,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example2kxlp","app":"nse-discovery"}
{"level":"info","ts":1632438749.025691,"caller":"nseinformer/nseInformerController.go:202","msg":"Retrieved 2 endpoints from the local NSR","app":"nse-discovery"}
{"level":"info","ts":1632438749.0256977,"caller":"nseinformer/nseInformerController.go:205","msg":"Getting endpoints from the global NSR at: example.wcm-cisco.com:443","app":"nse-discovery"}
time="2021-09-23T23:12:29Z" level=info msg="==--> discovery.FindNetworkService() span:4f3ab859326e78d7:4f3ab859326e78d7:0000000000000000:1"
time="2021-09-23T23:12:29Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=4f3ab859326e78d7:4f3ab859326e78d7:0000000000000000:1"
time="2021-09-23T23:12:29Z" level=info msg=">><<-- nsrURL=\"example.wcm-cisco.com:443\" span=4f3ab859326e78d7:4f3ab859326e78d7:0000000000000000:1"
time="2021-09-23T23:12:29Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-09-23T23:12:29Z" level=info msg="==----> initRegistryClient() span:4f3ab859326e78d7:758d991a97bb419a:4f3ab859326e78d7:1"
time="2021-09-23T23:12:29Z" level=info msg="Waiting for liveness probe: tcp:example.wcm-cisco.com:443"
time="2021-09-23T23:12:29Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="4f3ab859326e78d7:758d991a97bb419a:4f3ab859326e78d7:1"
time="2021-09-23T23:12:29Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:12:29Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:12:29Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:12:29Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:12:29Z" level=info msg="Found the right tls certificate for target: example.wcm-cisco.com:443"
time="2021-09-23T23:12:29Z" level=info msg="Successfully connected to example.wcm-cisco.com:443" operation=initRegistryClient span="4f3ab859326e78d7:758d991a97bb419a:4f3ab859326e78d7:1"
2021/09/23 23:12:29 Reporting span 4f3ab859326e78d7:758d991a97bb419a:4f3ab859326e78d7:1
{"level":"info","ts":1632438749.068706,"caller":"nseinformer/nseInformerController.go:426","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-09-23T23:12:29Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=4f3ab859326e78d7:4f3ab859326e78d7:0000000000000000:1"
time="2021-09-23T23:12:29Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=4f3ab859326e78d7:4f3ab859326e78d7:0000000000000000:1"
2021/09/23 23:12:29 Reporting span 4f3ab859326e78d7:1dd7a79476994502:4f3ab859326e78d7:1
time="2021-09-23T23:12:29Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-11-control-plane\":{\"name\":\"kind-11-control-plane\",\"url\":\"172.17.0.3:5001\",\"expiration_time\":{\"seconds\":40},\"state\":\"RUNNING\"},\"kind-12-control-plane\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"expiration_time\":{\"seconds\":40},\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"example798f5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-11-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-11_vl3-nse-example-5859574cb9-vsm49\",\"wcm/cluster\":\"kind-11\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"exampler6q79\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-11-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-11_vl3-nse-example-5859574cb9-lzths\",\"wcm/cluster\":\"kind-11\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}]} span=4f3ab859326e78d7:4f3ab859326e78d7:0000000000000000:1"
2021/09/23 23:12:29 Reporting span 4f3ab859326e78d7:4f3ab859326e78d7:0000000000000000:1
{"level":"info","ts":1632438749.0741086,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example2kxlp","app":"nse-discovery"}
{"level":"info","ts":1632438749.0741534,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example798f5","app":"nse-discovery"}
{"level":"info","ts":1632438749.0741875,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name examplecscn5","app":"nse-discovery"}
{"level":"info","ts":1632438749.074205,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name exampler6q79","app":"nse-discovery"}
{"level":"info","ts":1632438749.0742154,"caller":"nseinformer/nseInformerController.go:214","msg":"Retrieved 4 endpoints from the global NSR","app":"nse-discovery"}
{"level":"info","ts":1632438749.0742362,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438749.0743115,"caller":"nseinformer/nseInformerController.go:349","msg":"NSE diff:  For cluster kind-12, skipping endpoint 'example798f5'","app":"nse-discovery"}
{"level":"info","ts":1632438749.0743253,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438749.0744464,"caller":"nseinformer/nseInformerController.go:349","msg":"NSE diff:  For cluster kind-12, skipping endpoint 'exampler6q79'","app":"nse-discovery"}
{"level":"info","ts":1632438749.0744646,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438749.0744734,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438749.0744872,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438749.0745323,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438749.0745418,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438749.07455,"caller":"nseinformer/nseInformerController.go:362","msg":"NSE diff:  For cluster kind-12, skip comparing endpoint 'example798f5'","app":"nse-discovery"}
{"level":"info","ts":1632438749.074573,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438749.0746136,"caller":"nseinformer/nseInformerController.go:362","msg":"NSE diff:  For cluster kind-12, skip comparing endpoint 'exampler6q79'","app":"nse-discovery"}
{"level":"info","ts":1632438749.074627,"caller":"nseinformer/nseInformerController.go:219","msg":"Global NSE diff result: 0 new NSEs to add, 0 NSEs to delete","app":"nse-discovery"}
{"level":"info","ts":1632438749.074636,"caller":"nseinformer/nseInformerController.go:222","msg":"Registering 2 local NSEs to global registry","app":"nse-discovery"}
time="2021-09-23T23:12:29Z" level=info msg="Requesting NseRegistryClient..."
time="2021-09-23T23:12:29Z" level=info msg="==--> initRegistryClient() span:24cfa3bbac712f96:24cfa3bbac712f96:0000000000000000:1"
time="2021-09-23T23:12:29Z" level=info msg="Waiting for liveness probe: tcp:example.wcm-cisco.com:443"
time="2021-09-23T23:12:29Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="24cfa3bbac712f96:24cfa3bbac712f96:0000000000000000:1"
time="2021-09-23T23:12:29Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:12:29Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:12:29Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:12:29Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:12:29Z" level=info msg="Found the right tls certificate for target: example.wcm-cisco.com:443"
time="2021-09-23T23:12:29Z" level=info msg="Successfully connected to example.wcm-cisco.com:443" operation=initRegistryClient span="24cfa3bbac712f96:24cfa3bbac712f96:0000000000000000:1"
2021/09/23 23:12:29 Reporting span 24cfa3bbac712f96:24cfa3bbac712f96:0000000000000000:1
time="2021-09-23T23:12:29Z" level=info msg=">><<-- /registry.NetworkServiceRegistry/RegisterNSE()=\"\" span=<nil>"
time="2021-09-23T23:12:29Z" level=info msg=">><<-- request={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
2021/09/23 23:12:29 Reporting span 0c20442c5da6dbbb:0c20442c5da6dbbb:0000000000000000:1
time="2021-09-23T23:12:29Z" level=info msg=">><<-- response={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
time="2021-09-23T23:12:29Z" level=info msg=">><<-- /registry.NetworkServiceRegistry/RegisterNSE()=\"\" span=<nil>"
time="2021-09-23T23:12:29Z" level=info msg=">><<-- request={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
2021/09/23 23:12:29 Reporting span 5668afeb18dc05e8:5668afeb18dc05e8:0000000000000000:1
time="2021-09-23T23:12:29Z" level=info msg=">><<-- response={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
{"level":"info","ts":1632438749.1458693,"caller":"nseinformer/nseInformerController.go:284","msg":"No endpoints to remove from Global registry.","app":"nse-discovery"}
{"level":"info","ts":1632438778.7675967,"caller":"nseinformer/nseInformerController.go:123","msg":"NSE pod: &{{ } {examplecscn5 example nsm-system /apis/networkservicemesh.io/v1alpha1/namespaces/nsm-system/networkserviceendpoints/examplecscn5 429d782d-3493-4ea4-ad95-6bdada125d2f 2187 1 2021-09-23 23:08:32 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:example-kind-12_vl3-nse-example-dff8646dd-ch2hz wcm/nsr.addr:example.wcm-cisco.com wcm/nsr.port:443] map[] [] []  []} {example IP kind-12-control-plane} {RUNNING}} was updated with: &{{ } {examplecscn5 example nsm-system /apis/networkservicemesh.io/v1alpha1/namespaces/nsm-system/networkserviceendpoints/examplecscn5 429d782d-3493-4ea4-ad95-6bdada125d2f 2187 1 2021-09-23 23:08:32 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:example-kind-12_vl3-nse-example-dff8646dd-ch2hz wcm/nsr.addr:example.wcm-cisco.com wcm/nsr.port:443] map[] [] []  []} {example IP kind-12-control-plane} {RUNNING}}","app":"nse-discovery"}
{"level":"info","ts":1632438778.767921,"caller":"nseinformer/nseInformerController.go:172","msg":"Processing NSE named examplecscn5...","app":"nse-discovery"}
{"level":"info","ts":1632438778.7679403,"caller":"nseinformer/nseInformerController.go:179","msg":"Found service name: example","app":"nse-discovery"}
{"level":"info","ts":1632438778.7679853,"caller":"nseinformer/nseInformerController.go:194","msg":"Getting endpoints from the local NSR","app":"nse-discovery"}
time="2021-09-23T23:12:58Z" level=info msg="==--> discovery.FindNetworkService() span:2a248b13e76c69bd:2a248b13e76c69bd:0000000000000000:1"
time="2021-09-23T23:12:58Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=2a248b13e76c69bd:2a248b13e76c69bd:0000000000000000:1"
time="2021-09-23T23:12:58Z" level=info msg=">><<-- nsrURL=\"wcm-proxy-nsmgr.nsm-system:5005\" span=2a248b13e76c69bd:2a248b13e76c69bd:0000000000000000:1"
time="2021-09-23T23:12:58Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-09-23T23:12:58Z" level=info msg="==----> initRegistryClient() span:2a248b13e76c69bd:1b78cc4e363d843b:2a248b13e76c69bd:1"
time="2021-09-23T23:12:58Z" level=info msg="Waiting for liveness probe: tcp:wcm-proxy-nsmgr.nsm-system:5005"
{"level":"info","ts":1632438778.7678604,"caller":"nseinformer/nseInformerController.go:123","msg":"NSE pod: &{{ } {example2kxlp example nsm-system /apis/networkservicemesh.io/v1alpha1/namespaces/nsm-system/networkserviceendpoints/example2kxlp 3b867dc3-b412-41b9-8d8b-17fa6d257ef9 2191 1 2021-09-23 23:08:32 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:example-kind-12_vl3-nse-example-dff8646dd-dgzfk wcm/nsr.addr:example.wcm-cisco.com wcm/nsr.port:443] map[] [] []  []} {example IP kind-12-control-plane} {RUNNING}} was updated with: &{{ } {example2kxlp example nsm-system /apis/networkservicemesh.io/v1alpha1/namespaces/nsm-system/networkserviceendpoints/example2kxlp 3b867dc3-b412-41b9-8d8b-17fa6d257ef9 2191 1 2021-09-23 23:08:32 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:example-kind-12_vl3-nse-example-dff8646dd-dgzfk wcm/nsr.addr:example.wcm-cisco.com wcm/nsr.port:443] map[] [] []  []} {example IP kind-12-control-plane} {RUNNING}}","app":"nse-discovery"}
time="2021-09-23T23:12:58Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="2a248b13e76c69bd:1b78cc4e363d843b:2a248b13e76c69bd:1"
time="2021-09-23T23:12:58Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:12:58Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:12:58Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:12:58Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:12:58Z" level=info msg="Found the right tls certificate for target: wcm-proxy-nsmgr.nsm-system:5005"
time="2021-09-23T23:12:58Z" level=info msg="Successfully connected to wcm-proxy-nsmgr.nsm-system:5005" operation=initRegistryClient span="2a248b13e76c69bd:1b78cc4e363d843b:2a248b13e76c69bd:1"
2021/09/23 23:12:58 Reporting span 2a248b13e76c69bd:1b78cc4e363d843b:2a248b13e76c69bd:1
{"level":"info","ts":1632438778.7982605,"caller":"nseinformer/nseInformerController.go:426","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-09-23T23:12:58Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=2a248b13e76c69bd:2a248b13e76c69bd:0000000000000000:1"
time="2021-09-23T23:12:58Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=2a248b13e76c69bd:2a248b13e76c69bd:0000000000000000:1"
2021/09/23 23:12:58 Reporting span 2a248b13e76c69bd:0e9bce1c801720af:2a248b13e76c69bd:1
time="2021-09-23T23:12:58Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-12-control-plane\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}]} span=2a248b13e76c69bd:2a248b13e76c69bd:0000000000000000:1"
2021/09/23 23:12:58 Reporting span 2a248b13e76c69bd:2a248b13e76c69bd:0000000000000000:1
{"level":"info","ts":1632438778.8073099,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name examplecscn5","app":"nse-discovery"}
{"level":"info","ts":1632438778.807475,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example2kxlp","app":"nse-discovery"}
{"level":"info","ts":1632438778.8074853,"caller":"nseinformer/nseInformerController.go:202","msg":"Retrieved 2 endpoints from the local NSR","app":"nse-discovery"}
{"level":"info","ts":1632438778.8076077,"caller":"nseinformer/nseInformerController.go:205","msg":"Getting endpoints from the global NSR at: example.wcm-cisco.com:443","app":"nse-discovery"}
time="2021-09-23T23:12:58Z" level=info msg="==--> discovery.FindNetworkService() span:40df81e823db4a1f:40df81e823db4a1f:0000000000000000:1"
time="2021-09-23T23:12:58Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=40df81e823db4a1f:40df81e823db4a1f:0000000000000000:1"
time="2021-09-23T23:12:58Z" level=info msg=">><<-- nsrURL=\"example.wcm-cisco.com:443\" span=40df81e823db4a1f:40df81e823db4a1f:0000000000000000:1"
time="2021-09-23T23:12:58Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-09-23T23:12:58Z" level=info msg="==----> initRegistryClient() span:40df81e823db4a1f:6802eb507c93b973:40df81e823db4a1f:1"
time="2021-09-23T23:12:58Z" level=info msg="Waiting for liveness probe: tcp:example.wcm-cisco.com:443"
time="2021-09-23T23:12:58Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="40df81e823db4a1f:6802eb507c93b973:40df81e823db4a1f:1"
time="2021-09-23T23:12:58Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:12:58Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:12:58Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:12:58Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:12:58Z" level=info msg="Found the right tls certificate for target: example.wcm-cisco.com:443"
time="2021-09-23T23:12:58Z" level=info msg="Successfully connected to example.wcm-cisco.com:443" operation=initRegistryClient span="40df81e823db4a1f:6802eb507c93b973:40df81e823db4a1f:1"
2021/09/23 23:12:58 Reporting span 40df81e823db4a1f:6802eb507c93b973:40df81e823db4a1f:1
{"level":"info","ts":1632438778.8452718,"caller":"nseinformer/nseInformerController.go:426","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-09-23T23:12:58Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=40df81e823db4a1f:40df81e823db4a1f:0000000000000000:1"
time="2021-09-23T23:12:58Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=40df81e823db4a1f:40df81e823db4a1f:0000000000000000:1"
2021/09/23 23:12:58 Reporting span 40df81e823db4a1f:667d930270bf4d8b:40df81e823db4a1f:1
time="2021-09-23T23:12:58Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-11-control-plane\":{\"name\":\"kind-11-control-plane\",\"url\":\"172.17.0.3:5001\",\"expiration_time\":{\"seconds\":40},\"state\":\"RUNNING\"},\"kind-12-control-plane\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"expiration_time\":{\"seconds\":40},\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"example798f5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-11-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-11_vl3-nse-example-5859574cb9-vsm49\",\"wcm/cluster\":\"kind-11\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"exampler6q79\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-11-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-11_vl3-nse-example-5859574cb9-lzths\",\"wcm/cluster\":\"kind-11\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}]} span=40df81e823db4a1f:40df81e823db4a1f:0000000000000000:1"
2021/09/23 23:12:58 Reporting span 40df81e823db4a1f:40df81e823db4a1f:0000000000000000:1
{"level":"info","ts":1632438778.8485854,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example2kxlp","app":"nse-discovery"}
{"level":"info","ts":1632438778.8486476,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example798f5","app":"nse-discovery"}
{"level":"info","ts":1632438778.8487124,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name examplecscn5","app":"nse-discovery"}
{"level":"info","ts":1632438778.8488371,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name exampler6q79","app":"nse-discovery"}
{"level":"info","ts":1632438778.848844,"caller":"nseinformer/nseInformerController.go:214","msg":"Retrieved 4 endpoints from the global NSR","app":"nse-discovery"}
{"level":"info","ts":1632438778.8488514,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438778.8488917,"caller":"nseinformer/nseInformerController.go:349","msg":"NSE diff:  For cluster kind-12, skipping endpoint 'example798f5'","app":"nse-discovery"}
{"level":"info","ts":1632438778.8489027,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438778.848908,"caller":"nseinformer/nseInformerController.go:349","msg":"NSE diff:  For cluster kind-12, skipping endpoint 'exampler6q79'","app":"nse-discovery"}
{"level":"info","ts":1632438778.8489146,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438778.848922,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438778.8489935,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438778.8489985,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438778.8490038,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438778.8490622,"caller":"nseinformer/nseInformerController.go:362","msg":"NSE diff:  For cluster kind-12, skip comparing endpoint 'example798f5'","app":"nse-discovery"}
{"level":"info","ts":1632438778.8490825,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438778.8490872,"caller":"nseinformer/nseInformerController.go:362","msg":"NSE diff:  For cluster kind-12, skip comparing endpoint 'exampler6q79'","app":"nse-discovery"}
{"level":"info","ts":1632438778.8490977,"caller":"nseinformer/nseInformerController.go:219","msg":"Global NSE diff result: 0 new NSEs to add, 0 NSEs to delete","app":"nse-discovery"}
{"level":"info","ts":1632438778.8491056,"caller":"nseinformer/nseInformerController.go:222","msg":"Registering 2 local NSEs to global registry","app":"nse-discovery"}
time="2021-09-23T23:12:58Z" level=info msg="Requesting NseRegistryClient..."
time="2021-09-23T23:12:58Z" level=info msg="==--> initRegistryClient() span:7f1374dccf7776c6:7f1374dccf7776c6:0000000000000000:1"
time="2021-09-23T23:12:58Z" level=info msg="Waiting for liveness probe: tcp:example.wcm-cisco.com:443"
time="2021-09-23T23:12:58Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="7f1374dccf7776c6:7f1374dccf7776c6:0000000000000000:1"
time="2021-09-23T23:12:58Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:12:58Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:12:58Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:12:58Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:12:58Z" level=info msg="Found the right tls certificate for target: example.wcm-cisco.com:443"
time="2021-09-23T23:12:58Z" level=info msg="Successfully connected to example.wcm-cisco.com:443" operation=initRegistryClient span="7f1374dccf7776c6:7f1374dccf7776c6:0000000000000000:1"
2021/09/23 23:12:58 Reporting span 7f1374dccf7776c6:7f1374dccf7776c6:0000000000000000:1
time="2021-09-23T23:12:58Z" level=info msg=">><<-- /registry.NetworkServiceRegistry/RegisterNSE()=\"\" span=<nil>"
time="2021-09-23T23:12:58Z" level=info msg=">><<-- request={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
2021/09/23 23:12:58 Reporting span 1e5c6dc1b30807ca:1e5c6dc1b30807ca:0000000000000000:1
time="2021-09-23T23:12:58Z" level=info msg=">><<-- response={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
time="2021-09-23T23:12:58Z" level=info msg=">><<-- /registry.NetworkServiceRegistry/RegisterNSE()=\"\" span=<nil>"
time="2021-09-23T23:12:58Z" level=info msg=">><<-- request={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
2021/09/23 23:12:58 Reporting span 72b3fbd537a8283a:72b3fbd537a8283a:0000000000000000:1
time="2021-09-23T23:12:58Z" level=info msg=">><<-- response={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
{"level":"info","ts":1632438778.8997962,"caller":"nseinformer/nseInformerController.go:284","msg":"No endpoints to remove from Global registry.","app":"nse-discovery"}
{"level":"info","ts":1632438778.899848,"caller":"nseinformer/nseInformerController.go:172","msg":"Processing NSE named example2kxlp...","app":"nse-discovery"}
{"level":"info","ts":1632438778.8998568,"caller":"nseinformer/nseInformerController.go:179","msg":"Found service name: example","app":"nse-discovery"}
{"level":"info","ts":1632438778.8998659,"caller":"nseinformer/nseInformerController.go:194","msg":"Getting endpoints from the local NSR","app":"nse-discovery"}
time="2021-09-23T23:12:58Z" level=info msg="==--> discovery.FindNetworkService() span:6bc5e039962877d8:6bc5e039962877d8:0000000000000000:1"
time="2021-09-23T23:12:58Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=6bc5e039962877d8:6bc5e039962877d8:0000000000000000:1"
time="2021-09-23T23:12:58Z" level=info msg=">><<-- nsrURL=\"wcm-proxy-nsmgr.nsm-system:5005\" span=6bc5e039962877d8:6bc5e039962877d8:0000000000000000:1"
time="2021-09-23T23:12:58Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-09-23T23:12:58Z" level=info msg="==----> initRegistryClient() span:6bc5e039962877d8:1dde0790c49e82b7:6bc5e039962877d8:1"
time="2021-09-23T23:12:58Z" level=info msg="Waiting for liveness probe: tcp:wcm-proxy-nsmgr.nsm-system:5005"
time="2021-09-23T23:12:58Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="6bc5e039962877d8:1dde0790c49e82b7:6bc5e039962877d8:1"
time="2021-09-23T23:12:58Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:12:58Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:12:58Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:12:58Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:12:58Z" level=info msg="Found the right tls certificate for target: wcm-proxy-nsmgr.nsm-system:5005"
time="2021-09-23T23:12:58Z" level=info msg="Successfully connected to wcm-proxy-nsmgr.nsm-system:5005" operation=initRegistryClient span="6bc5e039962877d8:1dde0790c49e82b7:6bc5e039962877d8:1"
2021/09/23 23:12:58 Reporting span 6bc5e039962877d8:1dde0790c49e82b7:6bc5e039962877d8:1
{"level":"info","ts":1632438778.939101,"caller":"nseinformer/nseInformerController.go:426","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-09-23T23:12:58Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=6bc5e039962877d8:6bc5e039962877d8:0000000000000000:1"
time="2021-09-23T23:12:58Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=6bc5e039962877d8:6bc5e039962877d8:0000000000000000:1"
2021/09/23 23:12:58 Reporting span 6bc5e039962877d8:49a43e2b3515dd66:6bc5e039962877d8:1
time="2021-09-23T23:12:58Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-12-control-plane\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}]} span=6bc5e039962877d8:6bc5e039962877d8:0000000000000000:1"
2021/09/23 23:12:58 Reporting span 6bc5e039962877d8:6bc5e039962877d8:0000000000000000:1
{"level":"info","ts":1632438778.948828,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name examplecscn5","app":"nse-discovery"}
{"level":"info","ts":1632438778.9488533,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example2kxlp","app":"nse-discovery"}
{"level":"info","ts":1632438778.9488604,"caller":"nseinformer/nseInformerController.go:202","msg":"Retrieved 2 endpoints from the local NSR","app":"nse-discovery"}
{"level":"info","ts":1632438778.9488668,"caller":"nseinformer/nseInformerController.go:205","msg":"Getting endpoints from the global NSR at: example.wcm-cisco.com:443","app":"nse-discovery"}
time="2021-09-23T23:12:58Z" level=info msg="==--> discovery.FindNetworkService() span:223bbac4af12cc05:223bbac4af12cc05:0000000000000000:1"
time="2021-09-23T23:12:58Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=223bbac4af12cc05:223bbac4af12cc05:0000000000000000:1"
time="2021-09-23T23:12:58Z" level=info msg=">><<-- nsrURL=\"example.wcm-cisco.com:443\" span=223bbac4af12cc05:223bbac4af12cc05:0000000000000000:1"
time="2021-09-23T23:12:58Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-09-23T23:12:58Z" level=info msg="==----> initRegistryClient() span:223bbac4af12cc05:577c60c9934d54ed:223bbac4af12cc05:1"
time="2021-09-23T23:12:58Z" level=info msg="Waiting for liveness probe: tcp:example.wcm-cisco.com:443"
time="2021-09-23T23:12:58Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="223bbac4af12cc05:577c60c9934d54ed:223bbac4af12cc05:1"
time="2021-09-23T23:12:58Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:12:58Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:12:58Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:12:58Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:12:58Z" level=info msg="Found the right tls certificate for target: example.wcm-cisco.com:443"
time="2021-09-23T23:12:58Z" level=info msg="Successfully connected to example.wcm-cisco.com:443" operation=initRegistryClient span="223bbac4af12cc05:577c60c9934d54ed:223bbac4af12cc05:1"
2021/09/23 23:12:58 Reporting span 223bbac4af12cc05:577c60c9934d54ed:223bbac4af12cc05:1
{"level":"info","ts":1632438778.9840286,"caller":"nseinformer/nseInformerController.go:426","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-09-23T23:12:58Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=223bbac4af12cc05:223bbac4af12cc05:0000000000000000:1"
time="2021-09-23T23:12:58Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=223bbac4af12cc05:223bbac4af12cc05:0000000000000000:1"
2021/09/23 23:12:58 Reporting span 223bbac4af12cc05:3abf68c11ffb0a8c:223bbac4af12cc05:1
time="2021-09-23T23:12:58Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-11-control-plane\":{\"name\":\"kind-11-control-plane\",\"url\":\"172.17.0.3:5001\",\"expiration_time\":{\"seconds\":40},\"state\":\"RUNNING\"},\"kind-12-control-plane\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"expiration_time\":{\"seconds\":40},\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"example798f5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-11-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-11_vl3-nse-example-5859574cb9-vsm49\",\"wcm/cluster\":\"kind-11\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"exampler6q79\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-11-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-11_vl3-nse-example-5859574cb9-lzths\",\"wcm/cluster\":\"kind-11\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}]} span=223bbac4af12cc05:223bbac4af12cc05:0000000000000000:1"
2021/09/23 23:12:58 Reporting span 223bbac4af12cc05:223bbac4af12cc05:0000000000000000:1
{"level":"info","ts":1632438778.9883342,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example2kxlp","app":"nse-discovery"}
{"level":"info","ts":1632438778.9885075,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example798f5","app":"nse-discovery"}
{"level":"info","ts":1632438778.9885237,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name examplecscn5","app":"nse-discovery"}
{"level":"info","ts":1632438778.9885297,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name exampler6q79","app":"nse-discovery"}
{"level":"info","ts":1632438778.988536,"caller":"nseinformer/nseInformerController.go:214","msg":"Retrieved 4 endpoints from the global NSR","app":"nse-discovery"}
{"level":"info","ts":1632438778.9885445,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438778.9885738,"caller":"nseinformer/nseInformerController.go:349","msg":"NSE diff:  For cluster kind-12, skipping endpoint 'example798f5'","app":"nse-discovery"}
{"level":"info","ts":1632438778.9885793,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438778.9885845,"caller":"nseinformer/nseInformerController.go:349","msg":"NSE diff:  For cluster kind-12, skipping endpoint 'exampler6q79'","app":"nse-discovery"}
{"level":"info","ts":1632438778.9885905,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438778.9885993,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438778.9886043,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438778.9886122,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438778.9886172,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438778.988623,"caller":"nseinformer/nseInformerController.go:362","msg":"NSE diff:  For cluster kind-12, skip comparing endpoint 'example798f5'","app":"nse-discovery"}
{"level":"info","ts":1632438778.9889522,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438778.9889681,"caller":"nseinformer/nseInformerController.go:362","msg":"NSE diff:  For cluster kind-12, skip comparing endpoint 'exampler6q79'","app":"nse-discovery"}
{"level":"info","ts":1632438778.9889743,"caller":"nseinformer/nseInformerController.go:219","msg":"Global NSE diff result: 0 new NSEs to add, 0 NSEs to delete","app":"nse-discovery"}
{"level":"info","ts":1632438778.9889805,"caller":"nseinformer/nseInformerController.go:222","msg":"Registering 2 local NSEs to global registry","app":"nse-discovery"}
time="2021-09-23T23:12:58Z" level=info msg="Requesting NseRegistryClient..."
time="2021-09-23T23:12:58Z" level=info msg="==--> initRegistryClient() span:4f5bea9cac3c2be1:4f5bea9cac3c2be1:0000000000000000:1"
time="2021-09-23T23:12:58Z" level=info msg="Waiting for liveness probe: tcp:example.wcm-cisco.com:443"
time="2021-09-23T23:12:58Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="4f5bea9cac3c2be1:4f5bea9cac3c2be1:0000000000000000:1"
time="2021-09-23T23:12:59Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:12:59Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:12:59Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:12:59Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:12:59Z" level=info msg="Found the right tls certificate for target: example.wcm-cisco.com:443"
time="2021-09-23T23:12:59Z" level=info msg="Successfully connected to example.wcm-cisco.com:443" operation=initRegistryClient span="4f5bea9cac3c2be1:4f5bea9cac3c2be1:0000000000000000:1"
2021/09/23 23:12:59 Reporting span 4f5bea9cac3c2be1:4f5bea9cac3c2be1:0000000000000000:1
time="2021-09-23T23:12:59Z" level=info msg=">><<-- /registry.NetworkServiceRegistry/RegisterNSE()=\"\" span=<nil>"
time="2021-09-23T23:12:59Z" level=info msg=">><<-- request={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
2021/09/23 23:12:59 Reporting span 7ce25a5a85744300:7ce25a5a85744300:0000000000000000:1
time="2021-09-23T23:12:59Z" level=info msg=">><<-- response={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
time="2021-09-23T23:12:59Z" level=info msg=">><<-- /registry.NetworkServiceRegistry/RegisterNSE()=\"\" span=<nil>"
time="2021-09-23T23:12:59Z" level=info msg=">><<-- request={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
2021/09/23 23:12:59 Reporting span 6974abba2f0c38c6:6974abba2f0c38c6:0000000000000000:1
time="2021-09-23T23:12:59Z" level=info msg=">><<-- response={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
{"level":"info","ts":1632438779.0463214,"caller":"nseinformer/nseInformerController.go:284","msg":"No endpoints to remove from Global registry.","app":"nse-discovery"}
{"level":"info","ts":1632438808.767881,"caller":"nseinformer/nseInformerController.go:123","msg":"NSE pod: &{{ } {examplecscn5 example nsm-system /apis/networkservicemesh.io/v1alpha1/namespaces/nsm-system/networkserviceendpoints/examplecscn5 429d782d-3493-4ea4-ad95-6bdada125d2f 2187 1 2021-09-23 23:08:32 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:example-kind-12_vl3-nse-example-dff8646dd-ch2hz wcm/nsr.addr:example.wcm-cisco.com wcm/nsr.port:443] map[] [] []  []} {example IP kind-12-control-plane} {RUNNING}} was updated with: &{{ } {examplecscn5 example nsm-system /apis/networkservicemesh.io/v1alpha1/namespaces/nsm-system/networkserviceendpoints/examplecscn5 429d782d-3493-4ea4-ad95-6bdada125d2f 2187 1 2021-09-23 23:08:32 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:example-kind-12_vl3-nse-example-dff8646dd-ch2hz wcm/nsr.addr:example.wcm-cisco.com wcm/nsr.port:443] map[] [] []  []} {example IP kind-12-control-plane} {RUNNING}}","app":"nse-discovery"}
{"level":"info","ts":1632438808.7681131,"caller":"nseinformer/nseInformerController.go:123","msg":"NSE pod: &{{ } {example2kxlp example nsm-system /apis/networkservicemesh.io/v1alpha1/namespaces/nsm-system/networkserviceendpoints/example2kxlp 3b867dc3-b412-41b9-8d8b-17fa6d257ef9 2191 1 2021-09-23 23:08:32 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:example-kind-12_vl3-nse-example-dff8646dd-dgzfk wcm/nsr.addr:example.wcm-cisco.com wcm/nsr.port:443] map[] [] []  []} {example IP kind-12-control-plane} {RUNNING}} was updated with: &{{ } {example2kxlp example nsm-system /apis/networkservicemesh.io/v1alpha1/namespaces/nsm-system/networkserviceendpoints/example2kxlp 3b867dc3-b412-41b9-8d8b-17fa6d257ef9 2191 1 2021-09-23 23:08:32 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:example-kind-12_vl3-nse-example-dff8646dd-dgzfk wcm/nsr.addr:example.wcm-cisco.com wcm/nsr.port:443] map[] [] []  []} {example IP kind-12-control-plane} {RUNNING}}","app":"nse-discovery"}
{"level":"info","ts":1632438808.7681453,"caller":"nseinformer/nseInformerController.go:172","msg":"Processing NSE named examplecscn5...","app":"nse-discovery"}
{"level":"info","ts":1632438808.7681594,"caller":"nseinformer/nseInformerController.go:179","msg":"Found service name: example","app":"nse-discovery"}
{"level":"info","ts":1632438808.768181,"caller":"nseinformer/nseInformerController.go:194","msg":"Getting endpoints from the local NSR","app":"nse-discovery"}
time="2021-09-23T23:13:28Z" level=info msg="==--> discovery.FindNetworkService() span:0a4610309bfb33f7:0a4610309bfb33f7:0000000000000000:1"
time="2021-09-23T23:13:28Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=0a4610309bfb33f7:0a4610309bfb33f7:0000000000000000:1"
time="2021-09-23T23:13:28Z" level=info msg=">><<-- nsrURL=\"wcm-proxy-nsmgr.nsm-system:5005\" span=0a4610309bfb33f7:0a4610309bfb33f7:0000000000000000:1"
time="2021-09-23T23:13:28Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-09-23T23:13:28Z" level=info msg="==----> initRegistryClient() span:0a4610309bfb33f7:2add03f1eb9f0098:0a4610309bfb33f7:1"
time="2021-09-23T23:13:28Z" level=info msg="Waiting for liveness probe: tcp:wcm-proxy-nsmgr.nsm-system:5005"
time="2021-09-23T23:13:28Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="0a4610309bfb33f7:2add03f1eb9f0098:0a4610309bfb33f7:1"
time="2021-09-23T23:13:28Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:13:28Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:13:28Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:13:28Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:13:28Z" level=info msg="Found the right tls certificate for target: wcm-proxy-nsmgr.nsm-system:5005"
time="2021-09-23T23:13:28Z" level=info msg="Successfully connected to wcm-proxy-nsmgr.nsm-system:5005" operation=initRegistryClient span="0a4610309bfb33f7:2add03f1eb9f0098:0a4610309bfb33f7:1"
2021/09/23 23:13:28 Reporting span 0a4610309bfb33f7:2add03f1eb9f0098:0a4610309bfb33f7:1
{"level":"info","ts":1632438808.8200104,"caller":"nseinformer/nseInformerController.go:426","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-09-23T23:13:28Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=0a4610309bfb33f7:0a4610309bfb33f7:0000000000000000:1"
time="2021-09-23T23:13:28Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=0a4610309bfb33f7:0a4610309bfb33f7:0000000000000000:1"
2021/09/23 23:13:28 Reporting span 0a4610309bfb33f7:3085e3ce0735d66b:0a4610309bfb33f7:1
time="2021-09-23T23:13:28Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-12-control-plane\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}]} span=0a4610309bfb33f7:0a4610309bfb33f7:0000000000000000:1"
2021/09/23 23:13:28 Reporting span 0a4610309bfb33f7:0a4610309bfb33f7:0000000000000000:1
{"level":"info","ts":1632438808.8407094,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name examplecscn5","app":"nse-discovery"}
{"level":"info","ts":1632438808.840845,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example2kxlp","app":"nse-discovery"}
{"level":"info","ts":1632438808.8408525,"caller":"nseinformer/nseInformerController.go:202","msg":"Retrieved 2 endpoints from the local NSR","app":"nse-discovery"}
{"level":"info","ts":1632438808.8408592,"caller":"nseinformer/nseInformerController.go:205","msg":"Getting endpoints from the global NSR at: example.wcm-cisco.com:443","app":"nse-discovery"}
time="2021-09-23T23:13:28Z" level=info msg="==--> discovery.FindNetworkService() span:5b857abb99671a1d:5b857abb99671a1d:0000000000000000:1"
time="2021-09-23T23:13:28Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=5b857abb99671a1d:5b857abb99671a1d:0000000000000000:1"
time="2021-09-23T23:13:28Z" level=info msg=">><<-- nsrURL=\"example.wcm-cisco.com:443\" span=5b857abb99671a1d:5b857abb99671a1d:0000000000000000:1"
time="2021-09-23T23:13:28Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-09-23T23:13:28Z" level=info msg="==----> initRegistryClient() span:5b857abb99671a1d:3120b149ade9a4b1:5b857abb99671a1d:1"
time="2021-09-23T23:13:28Z" level=info msg="Waiting for liveness probe: tcp:example.wcm-cisco.com:443"
time="2021-09-23T23:13:28Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="5b857abb99671a1d:3120b149ade9a4b1:5b857abb99671a1d:1"
time="2021-09-23T23:13:28Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:13:28Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:13:28Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:13:28Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:13:28Z" level=info msg="Found the right tls certificate for target: example.wcm-cisco.com:443"
time="2021-09-23T23:13:28Z" level=info msg="Successfully connected to example.wcm-cisco.com:443" operation=initRegistryClient span="5b857abb99671a1d:3120b149ade9a4b1:5b857abb99671a1d:1"
2021/09/23 23:13:28 Reporting span 5b857abb99671a1d:3120b149ade9a4b1:5b857abb99671a1d:1
{"level":"info","ts":1632438808.9370186,"caller":"nseinformer/nseInformerController.go:426","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-09-23T23:13:28Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=5b857abb99671a1d:5b857abb99671a1d:0000000000000000:1"
time="2021-09-23T23:13:28Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=5b857abb99671a1d:5b857abb99671a1d:0000000000000000:1"
2021/09/23 23:13:28 Reporting span 5b857abb99671a1d:28caa552a9181ad8:5b857abb99671a1d:1
time="2021-09-23T23:13:28Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-11-control-plane\":{\"name\":\"kind-11-control-plane\",\"url\":\"172.17.0.3:5001\",\"expiration_time\":{\"seconds\":40},\"state\":\"RUNNING\"},\"kind-12-control-plane\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"expiration_time\":{\"seconds\":40},\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"example798f5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-11-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-11_vl3-nse-example-5859574cb9-vsm49\",\"wcm/cluster\":\"kind-11\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"exampler6q79\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-11-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-11_vl3-nse-example-5859574cb9-lzths\",\"wcm/cluster\":\"kind-11\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}]} span=5b857abb99671a1d:5b857abb99671a1d:0000000000000000:1"
2021/09/23 23:13:28 Reporting span 5b857abb99671a1d:5b857abb99671a1d:0000000000000000:1
{"level":"info","ts":1632438808.9431047,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example2kxlp","app":"nse-discovery"}
{"level":"info","ts":1632438808.9493477,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example798f5","app":"nse-discovery"}
{"level":"info","ts":1632438808.9493887,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name examplecscn5","app":"nse-discovery"}
{"level":"info","ts":1632438808.9493964,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name exampler6q79","app":"nse-discovery"}
{"level":"info","ts":1632438808.949405,"caller":"nseinformer/nseInformerController.go:214","msg":"Retrieved 4 endpoints from the global NSR","app":"nse-discovery"}
{"level":"info","ts":1632438808.9494169,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438808.949551,"caller":"nseinformer/nseInformerController.go:349","msg":"NSE diff:  For cluster kind-12, skipping endpoint 'example798f5'","app":"nse-discovery"}
{"level":"info","ts":1632438808.9496021,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438808.9496143,"caller":"nseinformer/nseInformerController.go:349","msg":"NSE diff:  For cluster kind-12, skipping endpoint 'exampler6q79'","app":"nse-discovery"}
{"level":"info","ts":1632438808.9496262,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438808.9496799,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438808.9496925,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438808.9496994,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438808.949746,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438808.9498048,"caller":"nseinformer/nseInformerController.go:362","msg":"NSE diff:  For cluster kind-12, skip comparing endpoint 'example798f5'","app":"nse-discovery"}
{"level":"info","ts":1632438808.949817,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438808.949824,"caller":"nseinformer/nseInformerController.go:362","msg":"NSE diff:  For cluster kind-12, skip comparing endpoint 'exampler6q79'","app":"nse-discovery"}
{"level":"info","ts":1632438808.9498994,"caller":"nseinformer/nseInformerController.go:219","msg":"Global NSE diff result: 0 new NSEs to add, 0 NSEs to delete","app":"nse-discovery"}
{"level":"info","ts":1632438808.9499152,"caller":"nseinformer/nseInformerController.go:222","msg":"Registering 2 local NSEs to global registry","app":"nse-discovery"}
time="2021-09-23T23:13:28Z" level=info msg="Requesting NseRegistryClient..."
time="2021-09-23T23:13:28Z" level=info msg="==--> initRegistryClient() span:02856497bff99e61:02856497bff99e61:0000000000000000:1"
time="2021-09-23T23:13:28Z" level=info msg="Waiting for liveness probe: tcp:example.wcm-cisco.com:443"
time="2021-09-23T23:13:28Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="02856497bff99e61:02856497bff99e61:0000000000000000:1"
time="2021-09-23T23:13:28Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:13:28Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:13:28Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:13:28Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:13:28Z" level=info msg="Found the right tls certificate for target: example.wcm-cisco.com:443"
time="2021-09-23T23:13:28Z" level=info msg="Successfully connected to example.wcm-cisco.com:443" operation=initRegistryClient span="02856497bff99e61:02856497bff99e61:0000000000000000:1"
2021/09/23 23:13:28 Reporting span 02856497bff99e61:02856497bff99e61:0000000000000000:1
time="2021-09-23T23:13:28Z" level=info msg=">><<-- /registry.NetworkServiceRegistry/RegisterNSE()=\"\" span=<nil>"
time="2021-09-23T23:13:28Z" level=info msg=">><<-- request={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
2021/09/23 23:13:29 Reporting span 4214509c05738abd:4214509c05738abd:0000000000000000:1
time="2021-09-23T23:13:29Z" level=info msg=">><<-- response={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
time="2021-09-23T23:13:29Z" level=info msg=">><<-- /registry.NetworkServiceRegistry/RegisterNSE()=\"\" span=<nil>"
time="2021-09-23T23:13:29Z" level=info msg=">><<-- request={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
2021/09/23 23:13:29 Reporting span 4474606bb9dad878:4474606bb9dad878:0000000000000000:1
time="2021-09-23T23:13:29Z" level=info msg=">><<-- response={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
{"level":"info","ts":1632438809.0146198,"caller":"nseinformer/nseInformerController.go:284","msg":"No endpoints to remove from Global registry.","app":"nse-discovery"}
{"level":"info","ts":1632438809.0146666,"caller":"nseinformer/nseInformerController.go:172","msg":"Processing NSE named example2kxlp...","app":"nse-discovery"}
{"level":"info","ts":1632438809.0147064,"caller":"nseinformer/nseInformerController.go:179","msg":"Found service name: example","app":"nse-discovery"}
{"level":"info","ts":1632438809.0147283,"caller":"nseinformer/nseInformerController.go:194","msg":"Getting endpoints from the local NSR","app":"nse-discovery"}
time="2021-09-23T23:13:29Z" level=info msg="==--> discovery.FindNetworkService() span:350e1b41b65a0a2e:350e1b41b65a0a2e:0000000000000000:1"
time="2021-09-23T23:13:29Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=350e1b41b65a0a2e:350e1b41b65a0a2e:0000000000000000:1"
time="2021-09-23T23:13:29Z" level=info msg=">><<-- nsrURL=\"wcm-proxy-nsmgr.nsm-system:5005\" span=350e1b41b65a0a2e:350e1b41b65a0a2e:0000000000000000:1"
time="2021-09-23T23:13:29Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-09-23T23:13:29Z" level=info msg="==----> initRegistryClient() span:350e1b41b65a0a2e:3fe3cea9e57e7597:350e1b41b65a0a2e:1"
time="2021-09-23T23:13:29Z" level=info msg="Waiting for liveness probe: tcp:wcm-proxy-nsmgr.nsm-system:5005"
time="2021-09-23T23:13:29Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="350e1b41b65a0a2e:3fe3cea9e57e7597:350e1b41b65a0a2e:1"
time="2021-09-23T23:13:29Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:13:29Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:13:29Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:13:29Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:13:29Z" level=info msg="Found the right tls certificate for target: wcm-proxy-nsmgr.nsm-system:5005"
time="2021-09-23T23:13:29Z" level=info msg="Successfully connected to wcm-proxy-nsmgr.nsm-system:5005" operation=initRegistryClient span="350e1b41b65a0a2e:3fe3cea9e57e7597:350e1b41b65a0a2e:1"
2021/09/23 23:13:29 Reporting span 350e1b41b65a0a2e:3fe3cea9e57e7597:350e1b41b65a0a2e:1
{"level":"info","ts":1632438809.0553162,"caller":"nseinformer/nseInformerController.go:426","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-09-23T23:13:29Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=350e1b41b65a0a2e:350e1b41b65a0a2e:0000000000000000:1"
time="2021-09-23T23:13:29Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=350e1b41b65a0a2e:350e1b41b65a0a2e:0000000000000000:1"
2021/09/23 23:13:29 Reporting span 350e1b41b65a0a2e:5a7065c51ad38ebb:350e1b41b65a0a2e:1
time="2021-09-23T23:13:29Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-12-control-plane\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}]} span=350e1b41b65a0a2e:350e1b41b65a0a2e:0000000000000000:1"
2021/09/23 23:13:29 Reporting span 350e1b41b65a0a2e:350e1b41b65a0a2e:0000000000000000:1
{"level":"info","ts":1632438809.0646713,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name examplecscn5","app":"nse-discovery"}
{"level":"info","ts":1632438809.0648496,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example2kxlp","app":"nse-discovery"}
{"level":"info","ts":1632438809.0649452,"caller":"nseinformer/nseInformerController.go:202","msg":"Retrieved 2 endpoints from the local NSR","app":"nse-discovery"}
{"level":"info","ts":1632438809.065053,"caller":"nseinformer/nseInformerController.go:205","msg":"Getting endpoints from the global NSR at: example.wcm-cisco.com:443","app":"nse-discovery"}
time="2021-09-23T23:13:29Z" level=info msg="==--> discovery.FindNetworkService() span:680457b5b8e3561f:680457b5b8e3561f:0000000000000000:1"
time="2021-09-23T23:13:29Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=680457b5b8e3561f:680457b5b8e3561f:0000000000000000:1"
time="2021-09-23T23:13:29Z" level=info msg=">><<-- nsrURL=\"example.wcm-cisco.com:443\" span=680457b5b8e3561f:680457b5b8e3561f:0000000000000000:1"
time="2021-09-23T23:13:29Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-09-23T23:13:29Z" level=info msg="==----> initRegistryClient() span:680457b5b8e3561f:4c772b09518e6c44:680457b5b8e3561f:1"
time="2021-09-23T23:13:29Z" level=info msg="Waiting for liveness probe: tcp:example.wcm-cisco.com:443"
time="2021-09-23T23:13:29Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="680457b5b8e3561f:4c772b09518e6c44:680457b5b8e3561f:1"
time="2021-09-23T23:13:29Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:13:29Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:13:29Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:13:29Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:13:29Z" level=info msg="Found the right tls certificate for target: example.wcm-cisco.com:443"
time="2021-09-23T23:13:29Z" level=info msg="Successfully connected to example.wcm-cisco.com:443" operation=initRegistryClient span="680457b5b8e3561f:4c772b09518e6c44:680457b5b8e3561f:1"
2021/09/23 23:13:29 Reporting span 680457b5b8e3561f:4c772b09518e6c44:680457b5b8e3561f:1
{"level":"info","ts":1632438809.1099422,"caller":"nseinformer/nseInformerController.go:426","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-09-23T23:13:29Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=680457b5b8e3561f:680457b5b8e3561f:0000000000000000:1"
time="2021-09-23T23:13:29Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=680457b5b8e3561f:680457b5b8e3561f:0000000000000000:1"
2021/09/23 23:13:29 Reporting span 680457b5b8e3561f:72dd6320cb89045c:680457b5b8e3561f:1
time="2021-09-23T23:13:29Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-11-control-plane\":{\"name\":\"kind-11-control-plane\",\"url\":\"172.17.0.3:5001\",\"expiration_time\":{\"seconds\":40},\"state\":\"RUNNING\"},\"kind-12-control-plane\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"expiration_time\":{\"seconds\":40},\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"example798f5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-11-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-11_vl3-nse-example-5859574cb9-vsm49\",\"wcm/cluster\":\"kind-11\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"exampler6q79\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-11-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-11_vl3-nse-example-5859574cb9-lzths\",\"wcm/cluster\":\"kind-11\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}]} span=680457b5b8e3561f:680457b5b8e3561f:0000000000000000:1"
2021/09/23 23:13:29 Reporting span 680457b5b8e3561f:680457b5b8e3561f:0000000000000000:1
{"level":"info","ts":1632438809.1177266,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example2kxlp","app":"nse-discovery"}
{"level":"info","ts":1632438809.117882,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example798f5","app":"nse-discovery"}
{"level":"info","ts":1632438809.1179886,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name examplecscn5","app":"nse-discovery"}
{"level":"info","ts":1632438809.1181006,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name exampler6q79","app":"nse-discovery"}
{"level":"info","ts":1632438809.1181598,"caller":"nseinformer/nseInformerController.go:214","msg":"Retrieved 4 endpoints from the global NSR","app":"nse-discovery"}
{"level":"info","ts":1632438809.118235,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438809.1183176,"caller":"nseinformer/nseInformerController.go:349","msg":"NSE diff:  For cluster kind-12, skipping endpoint 'example798f5'","app":"nse-discovery"}
{"level":"info","ts":1632438809.1184351,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438809.1185374,"caller":"nseinformer/nseInformerController.go:349","msg":"NSE diff:  For cluster kind-12, skipping endpoint 'exampler6q79'","app":"nse-discovery"}
{"level":"info","ts":1632438809.1185913,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438809.1186593,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438809.1187186,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438809.11879,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438809.1188629,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438809.11892,"caller":"nseinformer/nseInformerController.go:362","msg":"NSE diff:  For cluster kind-12, skip comparing endpoint 'example798f5'","app":"nse-discovery"}
{"level":"info","ts":1632438809.1189916,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438809.1190538,"caller":"nseinformer/nseInformerController.go:362","msg":"NSE diff:  For cluster kind-12, skip comparing endpoint 'exampler6q79'","app":"nse-discovery"}
{"level":"info","ts":1632438809.1191316,"caller":"nseinformer/nseInformerController.go:219","msg":"Global NSE diff result: 0 new NSEs to add, 0 NSEs to delete","app":"nse-discovery"}
{"level":"info","ts":1632438809.1192877,"caller":"nseinformer/nseInformerController.go:222","msg":"Registering 2 local NSEs to global registry","app":"nse-discovery"}
time="2021-09-23T23:13:29Z" level=info msg="Requesting NseRegistryClient..."
time="2021-09-23T23:13:29Z" level=info msg="==--> initRegistryClient() span:61eae9e3a88d0538:61eae9e3a88d0538:0000000000000000:1"
time="2021-09-23T23:13:29Z" level=info msg="Waiting for liveness probe: tcp:example.wcm-cisco.com:443"
time="2021-09-23T23:13:29Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="61eae9e3a88d0538:61eae9e3a88d0538:0000000000000000:1"
time="2021-09-23T23:13:29Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:13:29Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:13:29Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:13:29Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:13:29Z" level=info msg="Found the right tls certificate for target: example.wcm-cisco.com:443"
time="2021-09-23T23:13:29Z" level=info msg="Successfully connected to example.wcm-cisco.com:443" operation=initRegistryClient span="61eae9e3a88d0538:61eae9e3a88d0538:0000000000000000:1"
2021/09/23 23:13:29 Reporting span 61eae9e3a88d0538:61eae9e3a88d0538:0000000000000000:1
time="2021-09-23T23:13:29Z" level=info msg=">><<-- /registry.NetworkServiceRegistry/RegisterNSE()=\"\" span=<nil>"
time="2021-09-23T23:13:29Z" level=info msg=">><<-- request={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
2021/09/23 23:13:29 Reporting span 4e85934b99b5b749:4e85934b99b5b749:0000000000000000:1
time="2021-09-23T23:13:29Z" level=info msg=">><<-- response={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
time="2021-09-23T23:13:29Z" level=info msg=">><<-- /registry.NetworkServiceRegistry/RegisterNSE()=\"\" span=<nil>"
time="2021-09-23T23:13:29Z" level=info msg=">><<-- request={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
2021/09/23 23:13:29 Reporting span 341997f208791464:341997f208791464:0000000000000000:1
time="2021-09-23T23:13:29Z" level=info msg=">><<-- response={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
{"level":"info","ts":1632438809.1895568,"caller":"nseinformer/nseInformerController.go:284","msg":"No endpoints to remove from Global registry.","app":"nse-discovery"}
{"level":"info","ts":1632438838.768135,"caller":"nseinformer/nseInformerController.go:123","msg":"NSE pod: &{{ } {examplecscn5 example nsm-system /apis/networkservicemesh.io/v1alpha1/namespaces/nsm-system/networkserviceendpoints/examplecscn5 429d782d-3493-4ea4-ad95-6bdada125d2f 2187 1 2021-09-23 23:08:32 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:example-kind-12_vl3-nse-example-dff8646dd-ch2hz wcm/nsr.addr:example.wcm-cisco.com wcm/nsr.port:443] map[] [] []  []} {example IP kind-12-control-plane} {RUNNING}} was updated with: &{{ } {examplecscn5 example nsm-system /apis/networkservicemesh.io/v1alpha1/namespaces/nsm-system/networkserviceendpoints/examplecscn5 429d782d-3493-4ea4-ad95-6bdada125d2f 2187 1 2021-09-23 23:08:32 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:example-kind-12_vl3-nse-example-dff8646dd-ch2hz wcm/nsr.addr:example.wcm-cisco.com wcm/nsr.port:443] map[] [] []  []} {example IP kind-12-control-plane} {RUNNING}}","app":"nse-discovery"}
{"level":"info","ts":1632438838.768345,"caller":"nseinformer/nseInformerController.go:123","msg":"NSE pod: &{{ } {example2kxlp example nsm-system /apis/networkservicemesh.io/v1alpha1/namespaces/nsm-system/networkserviceendpoints/example2kxlp 3b867dc3-b412-41b9-8d8b-17fa6d257ef9 2191 1 2021-09-23 23:08:32 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:example-kind-12_vl3-nse-example-dff8646dd-dgzfk wcm/nsr.addr:example.wcm-cisco.com wcm/nsr.port:443] map[] [] []  []} {example IP kind-12-control-plane} {RUNNING}} was updated with: &{{ } {example2kxlp example nsm-system /apis/networkservicemesh.io/v1alpha1/namespaces/nsm-system/networkserviceendpoints/example2kxlp 3b867dc3-b412-41b9-8d8b-17fa6d257ef9 2191 1 2021-09-23 23:08:32 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:example-kind-12_vl3-nse-example-dff8646dd-dgzfk wcm/nsr.addr:example.wcm-cisco.com wcm/nsr.port:443] map[] [] []  []} {example IP kind-12-control-plane} {RUNNING}}","app":"nse-discovery"}
{"level":"info","ts":1632438838.7683773,"caller":"nseinformer/nseInformerController.go:172","msg":"Processing NSE named examplecscn5...","app":"nse-discovery"}
{"level":"info","ts":1632438838.7683842,"caller":"nseinformer/nseInformerController.go:179","msg":"Found service name: example","app":"nse-discovery"}
{"level":"info","ts":1632438838.7684011,"caller":"nseinformer/nseInformerController.go:194","msg":"Getting endpoints from the local NSR","app":"nse-discovery"}
time="2021-09-23T23:13:58Z" level=info msg="==--> discovery.FindNetworkService() span:7b30ca0e849e51f0:7b30ca0e849e51f0:0000000000000000:1"
time="2021-09-23T23:13:58Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=7b30ca0e849e51f0:7b30ca0e849e51f0:0000000000000000:1"
time="2021-09-23T23:13:58Z" level=info msg=">><<-- nsrURL=\"wcm-proxy-nsmgr.nsm-system:5005\" span=7b30ca0e849e51f0:7b30ca0e849e51f0:0000000000000000:1"
time="2021-09-23T23:13:58Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-09-23T23:13:58Z" level=info msg="==----> initRegistryClient() span:7b30ca0e849e51f0:515d52ae312109e9:7b30ca0e849e51f0:1"
time="2021-09-23T23:13:58Z" level=info msg="Waiting for liveness probe: tcp:wcm-proxy-nsmgr.nsm-system:5005"
time="2021-09-23T23:13:58Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="7b30ca0e849e51f0:515d52ae312109e9:7b30ca0e849e51f0:1"
time="2021-09-23T23:13:58Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:13:58Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:13:58Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:13:58Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:13:58Z" level=info msg="Found the right tls certificate for target: wcm-proxy-nsmgr.nsm-system:5005"
time="2021-09-23T23:13:58Z" level=info msg="Successfully connected to wcm-proxy-nsmgr.nsm-system:5005" operation=initRegistryClient span="7b30ca0e849e51f0:515d52ae312109e9:7b30ca0e849e51f0:1"
2021/09/23 23:13:58 Reporting span 7b30ca0e849e51f0:515d52ae312109e9:7b30ca0e849e51f0:1
{"level":"info","ts":1632438838.8114357,"caller":"nseinformer/nseInformerController.go:426","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-09-23T23:13:58Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=7b30ca0e849e51f0:7b30ca0e849e51f0:0000000000000000:1"
time="2021-09-23T23:13:58Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=7b30ca0e849e51f0:7b30ca0e849e51f0:0000000000000000:1"
2021/09/23 23:13:58 Reporting span 7b30ca0e849e51f0:32cbd934ca956720:7b30ca0e849e51f0:1
time="2021-09-23T23:13:58Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-12-control-plane\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}]} span=7b30ca0e849e51f0:7b30ca0e849e51f0:0000000000000000:1"
2021/09/23 23:13:58 Reporting span 7b30ca0e849e51f0:7b30ca0e849e51f0:0000000000000000:1
{"level":"info","ts":1632438838.8226678,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name examplecscn5","app":"nse-discovery"}
{"level":"info","ts":1632438838.8227413,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example2kxlp","app":"nse-discovery"}
{"level":"info","ts":1632438838.8227491,"caller":"nseinformer/nseInformerController.go:202","msg":"Retrieved 2 endpoints from the local NSR","app":"nse-discovery"}
{"level":"info","ts":1632438838.8227553,"caller":"nseinformer/nseInformerController.go:205","msg":"Getting endpoints from the global NSR at: example.wcm-cisco.com:443","app":"nse-discovery"}
time="2021-09-23T23:13:58Z" level=info msg="==--> discovery.FindNetworkService() span:29131e0ebe10ef05:29131e0ebe10ef05:0000000000000000:1"
time="2021-09-23T23:13:58Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=29131e0ebe10ef05:29131e0ebe10ef05:0000000000000000:1"
time="2021-09-23T23:13:58Z" level=info msg=">><<-- nsrURL=\"example.wcm-cisco.com:443\" span=29131e0ebe10ef05:29131e0ebe10ef05:0000000000000000:1"
time="2021-09-23T23:13:58Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-09-23T23:13:58Z" level=info msg="==----> initRegistryClient() span:29131e0ebe10ef05:680d98fd1a7ad4c8:29131e0ebe10ef05:1"
time="2021-09-23T23:13:58Z" level=info msg="Waiting for liveness probe: tcp:example.wcm-cisco.com:443"
time="2021-09-23T23:13:58Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="29131e0ebe10ef05:680d98fd1a7ad4c8:29131e0ebe10ef05:1"
time="2021-09-23T23:13:58Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:13:58Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:13:58Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:13:58Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:13:58Z" level=info msg="Found the right tls certificate for target: example.wcm-cisco.com:443"
time="2021-09-23T23:13:58Z" level=info msg="Successfully connected to example.wcm-cisco.com:443" operation=initRegistryClient span="29131e0ebe10ef05:680d98fd1a7ad4c8:29131e0ebe10ef05:1"
2021/09/23 23:13:58 Reporting span 29131e0ebe10ef05:680d98fd1a7ad4c8:29131e0ebe10ef05:1
{"level":"info","ts":1632438838.8554964,"caller":"nseinformer/nseInformerController.go:426","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-09-23T23:13:58Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=29131e0ebe10ef05:29131e0ebe10ef05:0000000000000000:1"
time="2021-09-23T23:13:58Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=29131e0ebe10ef05:29131e0ebe10ef05:0000000000000000:1"
2021/09/23 23:13:58 Reporting span 29131e0ebe10ef05:79b5545bf08fa8bb:29131e0ebe10ef05:1
time="2021-09-23T23:13:58Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-11-control-plane\":{\"name\":\"kind-11-control-plane\",\"url\":\"172.17.0.3:5001\",\"expiration_time\":{\"seconds\":40},\"state\":\"RUNNING\"},\"kind-12-control-plane\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"expiration_time\":{\"seconds\":40},\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"example798f5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-11-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-11_vl3-nse-example-5859574cb9-vsm49\",\"wcm/cluster\":\"kind-11\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"exampler6q79\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-11-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-11_vl3-nse-example-5859574cb9-lzths\",\"wcm/cluster\":\"kind-11\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}]} span=29131e0ebe10ef05:29131e0ebe10ef05:0000000000000000:1"
2021/09/23 23:13:58 Reporting span 29131e0ebe10ef05:29131e0ebe10ef05:0000000000000000:1
{"level":"info","ts":1632438838.859126,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example2kxlp","app":"nse-discovery"}
{"level":"info","ts":1632438838.8591466,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example798f5","app":"nse-discovery"}
{"level":"info","ts":1632438838.8591647,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name examplecscn5","app":"nse-discovery"}
{"level":"info","ts":1632438838.8591852,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name exampler6q79","app":"nse-discovery"}
{"level":"info","ts":1632438838.8591912,"caller":"nseinformer/nseInformerController.go:214","msg":"Retrieved 4 endpoints from the global NSR","app":"nse-discovery"}
{"level":"info","ts":1632438838.8591988,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438838.8592072,"caller":"nseinformer/nseInformerController.go:349","msg":"NSE diff:  For cluster kind-12, skipping endpoint 'example798f5'","app":"nse-discovery"}
{"level":"info","ts":1632438838.8592124,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438838.8592205,"caller":"nseinformer/nseInformerController.go:349","msg":"NSE diff:  For cluster kind-12, skipping endpoint 'exampler6q79'","app":"nse-discovery"}
{"level":"info","ts":1632438838.8592267,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438838.859246,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438838.8592536,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438838.8592587,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438838.8592634,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438838.8592756,"caller":"nseinformer/nseInformerController.go:362","msg":"NSE diff:  For cluster kind-12, skip comparing endpoint 'example798f5'","app":"nse-discovery"}
{"level":"info","ts":1632438838.8592808,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438838.859289,"caller":"nseinformer/nseInformerController.go:362","msg":"NSE diff:  For cluster kind-12, skip comparing endpoint 'exampler6q79'","app":"nse-discovery"}
{"level":"info","ts":1632438838.8592985,"caller":"nseinformer/nseInformerController.go:219","msg":"Global NSE diff result: 0 new NSEs to add, 0 NSEs to delete","app":"nse-discovery"}
{"level":"info","ts":1632438838.8593066,"caller":"nseinformer/nseInformerController.go:222","msg":"Registering 2 local NSEs to global registry","app":"nse-discovery"}
time="2021-09-23T23:13:58Z" level=info msg="Requesting NseRegistryClient..."
time="2021-09-23T23:13:58Z" level=info msg="==--> initRegistryClient() span:1a1c7dc7f8414305:1a1c7dc7f8414305:0000000000000000:1"
time="2021-09-23T23:13:58Z" level=info msg="Waiting for liveness probe: tcp:example.wcm-cisco.com:443"
time="2021-09-23T23:13:58Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="1a1c7dc7f8414305:1a1c7dc7f8414305:0000000000000000:1"
time="2021-09-23T23:13:58Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:13:58Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:13:58Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:13:58Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:13:58Z" level=info msg="Found the right tls certificate for target: example.wcm-cisco.com:443"
time="2021-09-23T23:13:58Z" level=info msg="Successfully connected to example.wcm-cisco.com:443" operation=initRegistryClient span="1a1c7dc7f8414305:1a1c7dc7f8414305:0000000000000000:1"
2021/09/23 23:13:58 Reporting span 1a1c7dc7f8414305:1a1c7dc7f8414305:0000000000000000:1
time="2021-09-23T23:13:58Z" level=info msg=">><<-- /registry.NetworkServiceRegistry/RegisterNSE()=\"\" span=<nil>"
time="2021-09-23T23:13:58Z" level=info msg=">><<-- request={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
2021/09/23 23:13:58 Reporting span 29f218170655cfef:29f218170655cfef:0000000000000000:1
time="2021-09-23T23:13:58Z" level=info msg=">><<-- response={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
time="2021-09-23T23:13:58Z" level=info msg=">><<-- /registry.NetworkServiceRegistry/RegisterNSE()=\"\" span=<nil>"
time="2021-09-23T23:13:58Z" level=info msg=">><<-- request={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
2021/09/23 23:13:58 Reporting span 2ef3f61f133cc897:2ef3f61f133cc897:0000000000000000:1
time="2021-09-23T23:13:58Z" level=info msg=">><<-- response={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
{"level":"info","ts":1632438838.9186606,"caller":"nseinformer/nseInformerController.go:284","msg":"No endpoints to remove from Global registry.","app":"nse-discovery"}
{"level":"info","ts":1632438838.9187126,"caller":"nseinformer/nseInformerController.go:172","msg":"Processing NSE named example2kxlp...","app":"nse-discovery"}
{"level":"info","ts":1632438838.9187334,"caller":"nseinformer/nseInformerController.go:179","msg":"Found service name: example","app":"nse-discovery"}
{"level":"info","ts":1632438838.9187438,"caller":"nseinformer/nseInformerController.go:194","msg":"Getting endpoints from the local NSR","app":"nse-discovery"}
time="2021-09-23T23:13:58Z" level=info msg="==--> discovery.FindNetworkService() span:5777160f3e26bc03:5777160f3e26bc03:0000000000000000:1"
time="2021-09-23T23:13:58Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=5777160f3e26bc03:5777160f3e26bc03:0000000000000000:1"
time="2021-09-23T23:13:58Z" level=info msg=">><<-- nsrURL=\"wcm-proxy-nsmgr.nsm-system:5005\" span=5777160f3e26bc03:5777160f3e26bc03:0000000000000000:1"
time="2021-09-23T23:13:58Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-09-23T23:13:58Z" level=info msg="==----> initRegistryClient() span:5777160f3e26bc03:3a68710e6433c83e:5777160f3e26bc03:1"
time="2021-09-23T23:13:58Z" level=info msg="Waiting for liveness probe: tcp:wcm-proxy-nsmgr.nsm-system:5005"
time="2021-09-23T23:13:58Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="5777160f3e26bc03:3a68710e6433c83e:5777160f3e26bc03:1"
time="2021-09-23T23:13:58Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:13:58Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:13:58Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:13:58Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:13:58Z" level=info msg="Found the right tls certificate for target: wcm-proxy-nsmgr.nsm-system:5005"
time="2021-09-23T23:13:58Z" level=info msg="Successfully connected to wcm-proxy-nsmgr.nsm-system:5005" operation=initRegistryClient span="5777160f3e26bc03:3a68710e6433c83e:5777160f3e26bc03:1"
2021/09/23 23:13:58 Reporting span 5777160f3e26bc03:3a68710e6433c83e:5777160f3e26bc03:1
{"level":"info","ts":1632438838.9427013,"caller":"nseinformer/nseInformerController.go:426","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-09-23T23:13:58Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=5777160f3e26bc03:5777160f3e26bc03:0000000000000000:1"
time="2021-09-23T23:13:58Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=5777160f3e26bc03:5777160f3e26bc03:0000000000000000:1"
2021/09/23 23:13:58 Reporting span 5777160f3e26bc03:61570f01d38cf041:5777160f3e26bc03:1
time="2021-09-23T23:13:58Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-12-control-plane\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}]} span=5777160f3e26bc03:5777160f3e26bc03:0000000000000000:1"
2021/09/23 23:13:58 Reporting span 5777160f3e26bc03:5777160f3e26bc03:0000000000000000:1
{"level":"info","ts":1632438838.9519818,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name examplecscn5","app":"nse-discovery"}
{"level":"info","ts":1632438838.952038,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example2kxlp","app":"nse-discovery"}
{"level":"info","ts":1632438838.9520679,"caller":"nseinformer/nseInformerController.go:202","msg":"Retrieved 2 endpoints from the local NSR","app":"nse-discovery"}
{"level":"info","ts":1632438838.9521065,"caller":"nseinformer/nseInformerController.go:205","msg":"Getting endpoints from the global NSR at: example.wcm-cisco.com:443","app":"nse-discovery"}
time="2021-09-23T23:13:58Z" level=info msg="==--> discovery.FindNetworkService() span:3855ea27ed456891:3855ea27ed456891:0000000000000000:1"
time="2021-09-23T23:13:58Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=3855ea27ed456891:3855ea27ed456891:0000000000000000:1"
time="2021-09-23T23:13:58Z" level=info msg=">><<-- nsrURL=\"example.wcm-cisco.com:443\" span=3855ea27ed456891:3855ea27ed456891:0000000000000000:1"
time="2021-09-23T23:13:58Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-09-23T23:13:58Z" level=info msg="==----> initRegistryClient() span:3855ea27ed456891:29f6103503e7a542:3855ea27ed456891:1"
time="2021-09-23T23:13:58Z" level=info msg="Waiting for liveness probe: tcp:example.wcm-cisco.com:443"
time="2021-09-23T23:13:58Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="3855ea27ed456891:29f6103503e7a542:3855ea27ed456891:1"
time="2021-09-23T23:13:58Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:13:58Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:13:58Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:13:58Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:13:58Z" level=info msg="Found the right tls certificate for target: example.wcm-cisco.com:443"
time="2021-09-23T23:13:58Z" level=info msg="Successfully connected to example.wcm-cisco.com:443" operation=initRegistryClient span="3855ea27ed456891:29f6103503e7a542:3855ea27ed456891:1"
2021/09/23 23:13:58 Reporting span 3855ea27ed456891:29f6103503e7a542:3855ea27ed456891:1
{"level":"info","ts":1632438838.999534,"caller":"nseinformer/nseInformerController.go:426","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-09-23T23:13:58Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=3855ea27ed456891:3855ea27ed456891:0000000000000000:1"
time="2021-09-23T23:13:59Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=3855ea27ed456891:3855ea27ed456891:0000000000000000:1"
2021/09/23 23:13:59 Reporting span 3855ea27ed456891:6f726f065ec7fefa:3855ea27ed456891:1
time="2021-09-23T23:13:59Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-11-control-plane\":{\"name\":\"kind-11-control-plane\",\"url\":\"172.17.0.3:5001\",\"expiration_time\":{\"seconds\":40},\"state\":\"RUNNING\"},\"kind-12-control-plane\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"expiration_time\":{\"seconds\":40},\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"example798f5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-11-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-11_vl3-nse-example-5859574cb9-vsm49\",\"wcm/cluster\":\"kind-11\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"exampler6q79\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-11-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-11_vl3-nse-example-5859574cb9-lzths\",\"wcm/cluster\":\"kind-11\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}]} span=3855ea27ed456891:3855ea27ed456891:0000000000000000:1"
2021/09/23 23:13:59 Reporting span 3855ea27ed456891:3855ea27ed456891:0000000000000000:1
{"level":"info","ts":1632438839.0047674,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example2kxlp","app":"nse-discovery"}
{"level":"info","ts":1632438839.004792,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example798f5","app":"nse-discovery"}
{"level":"info","ts":1632438839.0049052,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name examplecscn5","app":"nse-discovery"}
{"level":"info","ts":1632438839.0049126,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name exampler6q79","app":"nse-discovery"}
{"level":"info","ts":1632438839.0049183,"caller":"nseinformer/nseInformerController.go:214","msg":"Retrieved 4 endpoints from the global NSR","app":"nse-discovery"}
{"level":"info","ts":1632438839.0049264,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438839.004937,"caller":"nseinformer/nseInformerController.go:349","msg":"NSE diff:  For cluster kind-12, skipping endpoint 'example798f5'","app":"nse-discovery"}
{"level":"info","ts":1632438839.0049422,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438839.004947,"caller":"nseinformer/nseInformerController.go:349","msg":"NSE diff:  For cluster kind-12, skipping endpoint 'exampler6q79'","app":"nse-discovery"}
{"level":"info","ts":1632438839.0049531,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438839.0049582,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438839.004963,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438839.0049672,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438839.0049715,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438839.0049763,"caller":"nseinformer/nseInformerController.go:362","msg":"NSE diff:  For cluster kind-12, skip comparing endpoint 'example798f5'","app":"nse-discovery"}
{"level":"info","ts":1632438839.0049808,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438839.004985,"caller":"nseinformer/nseInformerController.go:362","msg":"NSE diff:  For cluster kind-12, skip comparing endpoint 'exampler6q79'","app":"nse-discovery"}
{"level":"info","ts":1632438839.0049899,"caller":"nseinformer/nseInformerController.go:219","msg":"Global NSE diff result: 0 new NSEs to add, 0 NSEs to delete","app":"nse-discovery"}
{"level":"info","ts":1632438839.0049953,"caller":"nseinformer/nseInformerController.go:222","msg":"Registering 2 local NSEs to global registry","app":"nse-discovery"}
time="2021-09-23T23:13:59Z" level=info msg="Requesting NseRegistryClient..."
time="2021-09-23T23:13:59Z" level=info msg="==--> initRegistryClient() span:1414c6df7a5cb317:1414c6df7a5cb317:0000000000000000:1"
time="2021-09-23T23:13:59Z" level=info msg="Waiting for liveness probe: tcp:example.wcm-cisco.com:443"
time="2021-09-23T23:13:59Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="1414c6df7a5cb317:1414c6df7a5cb317:0000000000000000:1"
time="2021-09-23T23:13:59Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:13:59Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:13:59Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:13:59Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:13:59Z" level=info msg="Found the right tls certificate for target: example.wcm-cisco.com:443"
time="2021-09-23T23:13:59Z" level=info msg="Successfully connected to example.wcm-cisco.com:443" operation=initRegistryClient span="1414c6df7a5cb317:1414c6df7a5cb317:0000000000000000:1"
2021/09/23 23:13:59 Reporting span 1414c6df7a5cb317:1414c6df7a5cb317:0000000000000000:1
time="2021-09-23T23:13:59Z" level=info msg=">><<-- /registry.NetworkServiceRegistry/RegisterNSE()=\"\" span=<nil>"
time="2021-09-23T23:13:59Z" level=info msg=">><<-- request={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
2021/09/23 23:13:59 Reporting span 013678a352446e36:013678a352446e36:0000000000000000:1
time="2021-09-23T23:13:59Z" level=info msg=">><<-- response={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
time="2021-09-23T23:13:59Z" level=info msg=">><<-- /registry.NetworkServiceRegistry/RegisterNSE()=\"\" span=<nil>"
time="2021-09-23T23:13:59Z" level=info msg=">><<-- request={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
2021/09/23 23:13:59 Reporting span 5eec627ae346c8f8:5eec627ae346c8f8:0000000000000000:1
time="2021-09-23T23:13:59Z" level=info msg=">><<-- response={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
{"level":"info","ts":1632438839.0658865,"caller":"nseinformer/nseInformerController.go:284","msg":"No endpoints to remove from Global registry.","app":"nse-discovery"}
{"level":"info","ts":1632438868.7683945,"caller":"nseinformer/nseInformerController.go:123","msg":"NSE pod: &{{ } {examplecscn5 example nsm-system /apis/networkservicemesh.io/v1alpha1/namespaces/nsm-system/networkserviceendpoints/examplecscn5 429d782d-3493-4ea4-ad95-6bdada125d2f 2187 1 2021-09-23 23:08:32 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:example-kind-12_vl3-nse-example-dff8646dd-ch2hz wcm/nsr.addr:example.wcm-cisco.com wcm/nsr.port:443] map[] [] []  []} {example IP kind-12-control-plane} {RUNNING}} was updated with: &{{ } {examplecscn5 example nsm-system /apis/networkservicemesh.io/v1alpha1/namespaces/nsm-system/networkserviceendpoints/examplecscn5 429d782d-3493-4ea4-ad95-6bdada125d2f 2187 1 2021-09-23 23:08:32 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:example-kind-12_vl3-nse-example-dff8646dd-ch2hz wcm/nsr.addr:example.wcm-cisco.com wcm/nsr.port:443] map[] [] []  []} {example IP kind-12-control-plane} {RUNNING}}","app":"nse-discovery"}
{"level":"info","ts":1632438868.7688293,"caller":"nseinformer/nseInformerController.go:172","msg":"Processing NSE named examplecscn5...","app":"nse-discovery"}
{"level":"info","ts":1632438868.7689154,"caller":"nseinformer/nseInformerController.go:179","msg":"Found service name: example","app":"nse-discovery"}
{"level":"info","ts":1632438868.7687051,"caller":"nseinformer/nseInformerController.go:123","msg":"NSE pod: &{{ } {example2kxlp example nsm-system /apis/networkservicemesh.io/v1alpha1/namespaces/nsm-system/networkserviceendpoints/example2kxlp 3b867dc3-b412-41b9-8d8b-17fa6d257ef9 2191 1 2021-09-23 23:08:32 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:example-kind-12_vl3-nse-example-dff8646dd-dgzfk wcm/nsr.addr:example.wcm-cisco.com wcm/nsr.port:443] map[] [] []  []} {example IP kind-12-control-plane} {RUNNING}} was updated with: &{{ } {example2kxlp example nsm-system /apis/networkservicemesh.io/v1alpha1/namespaces/nsm-system/networkserviceendpoints/example2kxlp 3b867dc3-b412-41b9-8d8b-17fa6d257ef9 2191 1 2021-09-23 23:08:32 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:example-kind-12_vl3-nse-example-dff8646dd-dgzfk wcm/nsr.addr:example.wcm-cisco.com wcm/nsr.port:443] map[] [] []  []} {example IP kind-12-control-plane} {RUNNING}}","app":"nse-discovery"}
{"level":"info","ts":1632438868.7689538,"caller":"nseinformer/nseInformerController.go:194","msg":"Getting endpoints from the local NSR","app":"nse-discovery"}
time="2021-09-23T23:14:28Z" level=info msg="==--> discovery.FindNetworkService() span:423327158309c99a:423327158309c99a:0000000000000000:1"
time="2021-09-23T23:14:28Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=423327158309c99a:423327158309c99a:0000000000000000:1"
time="2021-09-23T23:14:28Z" level=info msg=">><<-- nsrURL=\"wcm-proxy-nsmgr.nsm-system:5005\" span=423327158309c99a:423327158309c99a:0000000000000000:1"
time="2021-09-23T23:14:28Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-09-23T23:14:28Z" level=info msg="==----> initRegistryClient() span:423327158309c99a:0b9478e0f91bf487:423327158309c99a:1"
time="2021-09-23T23:14:28Z" level=info msg="Waiting for liveness probe: tcp:wcm-proxy-nsmgr.nsm-system:5005"
time="2021-09-23T23:14:28Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="423327158309c99a:0b9478e0f91bf487:423327158309c99a:1"
time="2021-09-23T23:14:28Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:14:28Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:14:28Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:14:28Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:14:28Z" level=info msg="Found the right tls certificate for target: wcm-proxy-nsmgr.nsm-system:5005"
time="2021-09-23T23:14:28Z" level=info msg="Successfully connected to wcm-proxy-nsmgr.nsm-system:5005" operation=initRegistryClient span="423327158309c99a:0b9478e0f91bf487:423327158309c99a:1"
2021/09/23 23:14:28 Reporting span 423327158309c99a:0b9478e0f91bf487:423327158309c99a:1
{"level":"info","ts":1632438868.7985387,"caller":"nseinformer/nseInformerController.go:426","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-09-23T23:14:28Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=423327158309c99a:423327158309c99a:0000000000000000:1"
time="2021-09-23T23:14:28Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=423327158309c99a:423327158309c99a:0000000000000000:1"
2021/09/23 23:14:28 Reporting span 423327158309c99a:7c922b1663cfa59c:423327158309c99a:1
time="2021-09-23T23:14:28Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-12-control-plane\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}]} span=423327158309c99a:423327158309c99a:0000000000000000:1"
2021/09/23 23:14:28 Reporting span 423327158309c99a:423327158309c99a:0000000000000000:1
{"level":"info","ts":1632438868.809969,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name examplecscn5","app":"nse-discovery"}
{"level":"info","ts":1632438868.810029,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example2kxlp","app":"nse-discovery"}
{"level":"info","ts":1632438868.8100595,"caller":"nseinformer/nseInformerController.go:202","msg":"Retrieved 2 endpoints from the local NSR","app":"nse-discovery"}
{"level":"info","ts":1632438868.8100853,"caller":"nseinformer/nseInformerController.go:205","msg":"Getting endpoints from the global NSR at: example.wcm-cisco.com:443","app":"nse-discovery"}
time="2021-09-23T23:14:28Z" level=info msg="==--> discovery.FindNetworkService() span:045928c2c6172db9:045928c2c6172db9:0000000000000000:1"
time="2021-09-23T23:14:28Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=045928c2c6172db9:045928c2c6172db9:0000000000000000:1"
time="2021-09-23T23:14:28Z" level=info msg=">><<-- nsrURL=\"example.wcm-cisco.com:443\" span=045928c2c6172db9:045928c2c6172db9:0000000000000000:1"
time="2021-09-23T23:14:28Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-09-23T23:14:28Z" level=info msg="==----> initRegistryClient() span:045928c2c6172db9:5d45b41333ec5d19:045928c2c6172db9:1"
time="2021-09-23T23:14:28Z" level=info msg="Waiting for liveness probe: tcp:example.wcm-cisco.com:443"
time="2021-09-23T23:14:28Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="045928c2c6172db9:5d45b41333ec5d19:045928c2c6172db9:1"
time="2021-09-23T23:14:28Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:14:28Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:14:28Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:14:28Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:14:28Z" level=info msg="Found the right tls certificate for target: example.wcm-cisco.com:443"
time="2021-09-23T23:14:28Z" level=info msg="Successfully connected to example.wcm-cisco.com:443" operation=initRegistryClient span="045928c2c6172db9:5d45b41333ec5d19:045928c2c6172db9:1"
2021/09/23 23:14:28 Reporting span 045928c2c6172db9:5d45b41333ec5d19:045928c2c6172db9:1
{"level":"info","ts":1632438868.8977654,"caller":"nseinformer/nseInformerController.go:426","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-09-23T23:14:28Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=045928c2c6172db9:045928c2c6172db9:0000000000000000:1"
time="2021-09-23T23:14:28Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=045928c2c6172db9:045928c2c6172db9:0000000000000000:1"
2021/09/23 23:14:28 Reporting span 045928c2c6172db9:4e17e041aedcea1a:045928c2c6172db9:1
time="2021-09-23T23:14:28Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-11-control-plane\":{\"name\":\"kind-11-control-plane\",\"url\":\"172.17.0.3:5001\",\"expiration_time\":{\"seconds\":40},\"state\":\"RUNNING\"},\"kind-12-control-plane\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"expiration_time\":{\"seconds\":40},\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"example798f5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-11-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-11_vl3-nse-example-5859574cb9-vsm49\",\"wcm/cluster\":\"kind-11\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"exampler6q79\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-11-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-11_vl3-nse-example-5859574cb9-lzths\",\"wcm/cluster\":\"kind-11\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}]} span=045928c2c6172db9:045928c2c6172db9:0000000000000000:1"
2021/09/23 23:14:28 Reporting span 045928c2c6172db9:045928c2c6172db9:0000000000000000:1
{"level":"info","ts":1632438868.9033792,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example2kxlp","app":"nse-discovery"}
{"level":"info","ts":1632438868.9034154,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example798f5","app":"nse-discovery"}
{"level":"info","ts":1632438868.9034321,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name examplecscn5","app":"nse-discovery"}
{"level":"info","ts":1632438868.9034626,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name exampler6q79","app":"nse-discovery"}
{"level":"info","ts":1632438868.903476,"caller":"nseinformer/nseInformerController.go:214","msg":"Retrieved 4 endpoints from the global NSR","app":"nse-discovery"}
{"level":"info","ts":1632438868.903508,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438868.9035277,"caller":"nseinformer/nseInformerController.go:349","msg":"NSE diff:  For cluster kind-12, skipping endpoint 'example798f5'","app":"nse-discovery"}
{"level":"info","ts":1632438868.903541,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438868.90356,"caller":"nseinformer/nseInformerController.go:349","msg":"NSE diff:  For cluster kind-12, skipping endpoint 'exampler6q79'","app":"nse-discovery"}
{"level":"info","ts":1632438868.9035916,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438868.9036767,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438868.9036825,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438868.9036872,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438868.903692,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438868.9037015,"caller":"nseinformer/nseInformerController.go:362","msg":"NSE diff:  For cluster kind-12, skip comparing endpoint 'example798f5'","app":"nse-discovery"}
{"level":"info","ts":1632438868.9037066,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438868.9037113,"caller":"nseinformer/nseInformerController.go:362","msg":"NSE diff:  For cluster kind-12, skip comparing endpoint 'exampler6q79'","app":"nse-discovery"}
{"level":"info","ts":1632438868.903747,"caller":"nseinformer/nseInformerController.go:219","msg":"Global NSE diff result: 0 new NSEs to add, 0 NSEs to delete","app":"nse-discovery"}
{"level":"info","ts":1632438868.9037545,"caller":"nseinformer/nseInformerController.go:222","msg":"Registering 2 local NSEs to global registry","app":"nse-discovery"}
time="2021-09-23T23:14:28Z" level=info msg="Requesting NseRegistryClient..."
time="2021-09-23T23:14:28Z" level=info msg="==--> initRegistryClient() span:4f3ef95b6c48dcc8:4f3ef95b6c48dcc8:0000000000000000:1"
time="2021-09-23T23:14:28Z" level=info msg="Waiting for liveness probe: tcp:example.wcm-cisco.com:443"
time="2021-09-23T23:14:28Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="4f3ef95b6c48dcc8:4f3ef95b6c48dcc8:0000000000000000:1"
time="2021-09-23T23:14:28Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:14:28Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:14:28Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:14:28Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:14:28Z" level=info msg="Found the right tls certificate for target: example.wcm-cisco.com:443"
time="2021-09-23T23:14:28Z" level=info msg="Successfully connected to example.wcm-cisco.com:443" operation=initRegistryClient span="4f3ef95b6c48dcc8:4f3ef95b6c48dcc8:0000000000000000:1"
2021/09/23 23:14:28 Reporting span 4f3ef95b6c48dcc8:4f3ef95b6c48dcc8:0000000000000000:1
time="2021-09-23T23:14:28Z" level=info msg=">><<-- /registry.NetworkServiceRegistry/RegisterNSE()=\"\" span=<nil>"
time="2021-09-23T23:14:28Z" level=info msg=">><<-- request={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
2021/09/23 23:14:28 Reporting span 4ec391fa385ba89e:4ec391fa385ba89e:0000000000000000:1
time="2021-09-23T23:14:28Z" level=info msg=">><<-- response={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
time="2021-09-23T23:14:28Z" level=info msg=">><<-- /registry.NetworkServiceRegistry/RegisterNSE()=\"\" span=<nil>"
time="2021-09-23T23:14:28Z" level=info msg=">><<-- request={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
2021/09/23 23:14:28 Reporting span 53e64fe71c4e3f94:53e64fe71c4e3f94:0000000000000000:1
time="2021-09-23T23:14:28Z" level=info msg=">><<-- response={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
{"level":"info","ts":1632438868.9814663,"caller":"nseinformer/nseInformerController.go:284","msg":"No endpoints to remove from Global registry.","app":"nse-discovery"}
{"level":"info","ts":1632438868.9815404,"caller":"nseinformer/nseInformerController.go:172","msg":"Processing NSE named example2kxlp...","app":"nse-discovery"}
{"level":"info","ts":1632438868.9815524,"caller":"nseinformer/nseInformerController.go:179","msg":"Found service name: example","app":"nse-discovery"}
{"level":"info","ts":1632438868.9815614,"caller":"nseinformer/nseInformerController.go:194","msg":"Getting endpoints from the local NSR","app":"nse-discovery"}
time="2021-09-23T23:14:28Z" level=info msg="==--> discovery.FindNetworkService() span:0545341f250f7f1d:0545341f250f7f1d:0000000000000000:1"
time="2021-09-23T23:14:28Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=0545341f250f7f1d:0545341f250f7f1d:0000000000000000:1"
time="2021-09-23T23:14:28Z" level=info msg=">><<-- nsrURL=\"wcm-proxy-nsmgr.nsm-system:5005\" span=0545341f250f7f1d:0545341f250f7f1d:0000000000000000:1"
time="2021-09-23T23:14:28Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-09-23T23:14:28Z" level=info msg="==----> initRegistryClient() span:0545341f250f7f1d:6edbda2768d52a8f:0545341f250f7f1d:1"
time="2021-09-23T23:14:28Z" level=info msg="Waiting for liveness probe: tcp:wcm-proxy-nsmgr.nsm-system:5005"
time="2021-09-23T23:14:28Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="0545341f250f7f1d:6edbda2768d52a8f:0545341f250f7f1d:1"
time="2021-09-23T23:14:29Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:14:29Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:14:29Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:14:29Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:14:29Z" level=info msg="Found the right tls certificate for target: wcm-proxy-nsmgr.nsm-system:5005"
time="2021-09-23T23:14:29Z" level=info msg="Successfully connected to wcm-proxy-nsmgr.nsm-system:5005" operation=initRegistryClient span="0545341f250f7f1d:6edbda2768d52a8f:0545341f250f7f1d:1"
2021/09/23 23:14:29 Reporting span 0545341f250f7f1d:6edbda2768d52a8f:0545341f250f7f1d:1
{"level":"info","ts":1632438869.0145915,"caller":"nseinformer/nseInformerController.go:426","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-09-23T23:14:29Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=0545341f250f7f1d:0545341f250f7f1d:0000000000000000:1"
time="2021-09-23T23:14:29Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=0545341f250f7f1d:0545341f250f7f1d:0000000000000000:1"
2021/09/23 23:14:29 Reporting span 0545341f250f7f1d:035753d953e04196:0545341f250f7f1d:1
time="2021-09-23T23:14:29Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-12-control-plane\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}]} span=0545341f250f7f1d:0545341f250f7f1d:0000000000000000:1"
2021/09/23 23:14:29 Reporting span 0545341f250f7f1d:0545341f250f7f1d:0000000000000000:1
{"level":"info","ts":1632438869.0182874,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name examplecscn5","app":"nse-discovery"}
{"level":"info","ts":1632438869.0183287,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example2kxlp","app":"nse-discovery"}
{"level":"info","ts":1632438869.0183532,"caller":"nseinformer/nseInformerController.go:202","msg":"Retrieved 2 endpoints from the local NSR","app":"nse-discovery"}
{"level":"info","ts":1632438869.018386,"caller":"nseinformer/nseInformerController.go:205","msg":"Getting endpoints from the global NSR at: example.wcm-cisco.com:443","app":"nse-discovery"}
time="2021-09-23T23:14:29Z" level=info msg="==--> discovery.FindNetworkService() span:7a0ac9b8b5f366cc:7a0ac9b8b5f366cc:0000000000000000:1"
time="2021-09-23T23:14:29Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=7a0ac9b8b5f366cc:7a0ac9b8b5f366cc:0000000000000000:1"
time="2021-09-23T23:14:29Z" level=info msg=">><<-- nsrURL=\"example.wcm-cisco.com:443\" span=7a0ac9b8b5f366cc:7a0ac9b8b5f366cc:0000000000000000:1"
time="2021-09-23T23:14:29Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-09-23T23:14:29Z" level=info msg="==----> initRegistryClient() span:7a0ac9b8b5f366cc:180c23e2ae4d2bef:7a0ac9b8b5f366cc:1"
time="2021-09-23T23:14:29Z" level=info msg="Waiting for liveness probe: tcp:example.wcm-cisco.com:443"
time="2021-09-23T23:14:29Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="7a0ac9b8b5f366cc:180c23e2ae4d2bef:7a0ac9b8b5f366cc:1"
time="2021-09-23T23:14:29Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:14:29Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:14:29Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:14:29Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:14:29Z" level=info msg="Found the right tls certificate for target: example.wcm-cisco.com:443"
time="2021-09-23T23:14:29Z" level=info msg="Successfully connected to example.wcm-cisco.com:443" operation=initRegistryClient span="7a0ac9b8b5f366cc:180c23e2ae4d2bef:7a0ac9b8b5f366cc:1"
2021/09/23 23:14:29 Reporting span 7a0ac9b8b5f366cc:180c23e2ae4d2bef:7a0ac9b8b5f366cc:1
{"level":"info","ts":1632438869.069512,"caller":"nseinformer/nseInformerController.go:426","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-09-23T23:14:29Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=7a0ac9b8b5f366cc:7a0ac9b8b5f366cc:0000000000000000:1"
time="2021-09-23T23:14:29Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=7a0ac9b8b5f366cc:7a0ac9b8b5f366cc:0000000000000000:1"
2021/09/23 23:14:29 Reporting span 7a0ac9b8b5f366cc:60fb2f5386f714e1:7a0ac9b8b5f366cc:1
time="2021-09-23T23:14:29Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-11-control-plane\":{\"name\":\"kind-11-control-plane\",\"url\":\"172.17.0.3:5001\",\"expiration_time\":{\"seconds\":40},\"state\":\"RUNNING\"},\"kind-12-control-plane\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"expiration_time\":{\"seconds\":40},\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"example798f5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-11-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-11_vl3-nse-example-5859574cb9-vsm49\",\"wcm/cluster\":\"kind-11\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"exampler6q79\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-11-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-11_vl3-nse-example-5859574cb9-lzths\",\"wcm/cluster\":\"kind-11\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}]} span=7a0ac9b8b5f366cc:7a0ac9b8b5f366cc:0000000000000000:1"
2021/09/23 23:14:29 Reporting span 7a0ac9b8b5f366cc:7a0ac9b8b5f366cc:0000000000000000:1
{"level":"info","ts":1632438869.0735555,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example2kxlp","app":"nse-discovery"}
{"level":"info","ts":1632438869.0736463,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example798f5","app":"nse-discovery"}
{"level":"info","ts":1632438869.0737028,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name examplecscn5","app":"nse-discovery"}
{"level":"info","ts":1632438869.0738728,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name exampler6q79","app":"nse-discovery"}
{"level":"info","ts":1632438869.073901,"caller":"nseinformer/nseInformerController.go:214","msg":"Retrieved 4 endpoints from the global NSR","app":"nse-discovery"}
{"level":"info","ts":1632438869.0739338,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438869.0739546,"caller":"nseinformer/nseInformerController.go:349","msg":"NSE diff:  For cluster kind-12, skipping endpoint 'example798f5'","app":"nse-discovery"}
{"level":"info","ts":1632438869.0739698,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438869.0740008,"caller":"nseinformer/nseInformerController.go:349","msg":"NSE diff:  For cluster kind-12, skipping endpoint 'exampler6q79'","app":"nse-discovery"}
{"level":"info","ts":1632438869.0740232,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438869.0740445,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438869.0740595,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438869.0740905,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438869.0741065,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438869.0741222,"caller":"nseinformer/nseInformerController.go:362","msg":"NSE diff:  For cluster kind-12, skip comparing endpoint 'example798f5'","app":"nse-discovery"}
{"level":"info","ts":1632438869.0741415,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438869.07416,"caller":"nseinformer/nseInformerController.go:362","msg":"NSE diff:  For cluster kind-12, skip comparing endpoint 'exampler6q79'","app":"nse-discovery"}
{"level":"info","ts":1632438869.074176,"caller":"nseinformer/nseInformerController.go:219","msg":"Global NSE diff result: 0 new NSEs to add, 0 NSEs to delete","app":"nse-discovery"}
{"level":"info","ts":1632438869.0741909,"caller":"nseinformer/nseInformerController.go:222","msg":"Registering 2 local NSEs to global registry","app":"nse-discovery"}
time="2021-09-23T23:14:29Z" level=info msg="Requesting NseRegistryClient..."
time="2021-09-23T23:14:29Z" level=info msg="==--> initRegistryClient() span:12acc5481e112d92:12acc5481e112d92:0000000000000000:1"
time="2021-09-23T23:14:29Z" level=info msg="Waiting for liveness probe: tcp:example.wcm-cisco.com:443"
time="2021-09-23T23:14:29Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="12acc5481e112d92:12acc5481e112d92:0000000000000000:1"
time="2021-09-23T23:14:29Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:14:29Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:14:29Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:14:29Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:14:29Z" level=info msg="Found the right tls certificate for target: example.wcm-cisco.com:443"
time="2021-09-23T23:14:29Z" level=info msg="Successfully connected to example.wcm-cisco.com:443" operation=initRegistryClient span="12acc5481e112d92:12acc5481e112d92:0000000000000000:1"
2021/09/23 23:14:29 Reporting span 12acc5481e112d92:12acc5481e112d92:0000000000000000:1
time="2021-09-23T23:14:29Z" level=info msg=">><<-- /registry.NetworkServiceRegistry/RegisterNSE()=\"\" span=<nil>"
time="2021-09-23T23:14:29Z" level=info msg=">><<-- request={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
2021/09/23 23:14:29 Reporting span 0901f7a31bdea297:0901f7a31bdea297:0000000000000000:1
time="2021-09-23T23:14:29Z" level=info msg=">><<-- response={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
time="2021-09-23T23:14:29Z" level=info msg=">><<-- /registry.NetworkServiceRegistry/RegisterNSE()=\"\" span=<nil>"
time="2021-09-23T23:14:29Z" level=info msg=">><<-- request={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
2021/09/23 23:14:29 Reporting span 26eacdb9e7b2766a:26eacdb9e7b2766a:0000000000000000:1
time="2021-09-23T23:14:29Z" level=info msg=">><<-- response={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
{"level":"info","ts":1632438869.1301794,"caller":"nseinformer/nseInformerController.go:284","msg":"No endpoints to remove from Global registry.","app":"nse-discovery"}
{"level":"info","ts":1632438898.768651,"caller":"nseinformer/nseInformerController.go:123","msg":"NSE pod: &{{ } {examplecscn5 example nsm-system /apis/networkservicemesh.io/v1alpha1/namespaces/nsm-system/networkserviceendpoints/examplecscn5 429d782d-3493-4ea4-ad95-6bdada125d2f 2187 1 2021-09-23 23:08:32 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:example-kind-12_vl3-nse-example-dff8646dd-ch2hz wcm/nsr.addr:example.wcm-cisco.com wcm/nsr.port:443] map[] [] []  []} {example IP kind-12-control-plane} {RUNNING}} was updated with: &{{ } {examplecscn5 example nsm-system /apis/networkservicemesh.io/v1alpha1/namespaces/nsm-system/networkserviceendpoints/examplecscn5 429d782d-3493-4ea4-ad95-6bdada125d2f 2187 1 2021-09-23 23:08:32 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:example-kind-12_vl3-nse-example-dff8646dd-ch2hz wcm/nsr.addr:example.wcm-cisco.com wcm/nsr.port:443] map[] [] []  []} {example IP kind-12-control-plane} {RUNNING}}","app":"nse-discovery"}
{"level":"info","ts":1632438898.7690265,"caller":"nseinformer/nseInformerController.go:123","msg":"NSE pod: &{{ } {example2kxlp example nsm-system /apis/networkservicemesh.io/v1alpha1/namespaces/nsm-system/networkserviceendpoints/example2kxlp 3b867dc3-b412-41b9-8d8b-17fa6d257ef9 2191 1 2021-09-23 23:08:32 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:example-kind-12_vl3-nse-example-dff8646dd-dgzfk wcm/nsr.addr:example.wcm-cisco.com wcm/nsr.port:443] map[] [] []  []} {example IP kind-12-control-plane} {RUNNING}} was updated with: &{{ } {example2kxlp example nsm-system /apis/networkservicemesh.io/v1alpha1/namespaces/nsm-system/networkserviceendpoints/example2kxlp 3b867dc3-b412-41b9-8d8b-17fa6d257ef9 2191 1 2021-09-23 23:08:32 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:example-kind-12_vl3-nse-example-dff8646dd-dgzfk wcm/nsr.addr:example.wcm-cisco.com wcm/nsr.port:443] map[] [] []  []} {example IP kind-12-control-plane} {RUNNING}}","app":"nse-discovery"}
{"level":"info","ts":1632438898.7690816,"caller":"nseinformer/nseInformerController.go:172","msg":"Processing NSE named examplecscn5...","app":"nse-discovery"}
{"level":"info","ts":1632438898.7690945,"caller":"nseinformer/nseInformerController.go:179","msg":"Found service name: example","app":"nse-discovery"}
{"level":"info","ts":1632438898.7691116,"caller":"nseinformer/nseInformerController.go:194","msg":"Getting endpoints from the local NSR","app":"nse-discovery"}
time="2021-09-23T23:14:58Z" level=info msg="==--> discovery.FindNetworkService() span:3e0461a8488b01aa:3e0461a8488b01aa:0000000000000000:1"
time="2021-09-23T23:14:58Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=3e0461a8488b01aa:3e0461a8488b01aa:0000000000000000:1"
time="2021-09-23T23:14:58Z" level=info msg=">><<-- nsrURL=\"wcm-proxy-nsmgr.nsm-system:5005\" span=3e0461a8488b01aa:3e0461a8488b01aa:0000000000000000:1"
time="2021-09-23T23:14:58Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-09-23T23:14:58Z" level=info msg="==----> initRegistryClient() span:3e0461a8488b01aa:32ef7089661f5b6a:3e0461a8488b01aa:1"
time="2021-09-23T23:14:58Z" level=info msg="Waiting for liveness probe: tcp:wcm-proxy-nsmgr.nsm-system:5005"
time="2021-09-23T23:14:58Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="3e0461a8488b01aa:32ef7089661f5b6a:3e0461a8488b01aa:1"
time="2021-09-23T23:14:58Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:14:58Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:14:58Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:14:58Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:14:58Z" level=info msg="Found the right tls certificate for target: wcm-proxy-nsmgr.nsm-system:5005"
time="2021-09-23T23:14:58Z" level=info msg="Successfully connected to wcm-proxy-nsmgr.nsm-system:5005" operation=initRegistryClient span="3e0461a8488b01aa:32ef7089661f5b6a:3e0461a8488b01aa:1"
2021/09/23 23:14:58 Reporting span 3e0461a8488b01aa:32ef7089661f5b6a:3e0461a8488b01aa:1
{"level":"info","ts":1632438898.8232195,"caller":"nseinformer/nseInformerController.go:426","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-09-23T23:14:58Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=3e0461a8488b01aa:3e0461a8488b01aa:0000000000000000:1"
time="2021-09-23T23:14:58Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=3e0461a8488b01aa:3e0461a8488b01aa:0000000000000000:1"
2021/09/23 23:14:58 Reporting span 3e0461a8488b01aa:42b89679f4f5def8:3e0461a8488b01aa:1
time="2021-09-23T23:14:58Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-12-control-plane\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}]} span=3e0461a8488b01aa:3e0461a8488b01aa:0000000000000000:1"
2021/09/23 23:14:58 Reporting span 3e0461a8488b01aa:3e0461a8488b01aa:0000000000000000:1
{"level":"info","ts":1632438898.8328562,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name examplecscn5","app":"nse-discovery"}
{"level":"info","ts":1632438898.8328822,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example2kxlp","app":"nse-discovery"}
{"level":"info","ts":1632438898.8328893,"caller":"nseinformer/nseInformerController.go:202","msg":"Retrieved 2 endpoints from the local NSR","app":"nse-discovery"}
{"level":"info","ts":1632438898.8328958,"caller":"nseinformer/nseInformerController.go:205","msg":"Getting endpoints from the global NSR at: example.wcm-cisco.com:443","app":"nse-discovery"}
time="2021-09-23T23:14:58Z" level=info msg="==--> discovery.FindNetworkService() span:6b144a2e8282262e:6b144a2e8282262e:0000000000000000:1"
time="2021-09-23T23:14:58Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=6b144a2e8282262e:6b144a2e8282262e:0000000000000000:1"
time="2021-09-23T23:14:58Z" level=info msg=">><<-- nsrURL=\"example.wcm-cisco.com:443\" span=6b144a2e8282262e:6b144a2e8282262e:0000000000000000:1"
time="2021-09-23T23:14:58Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-09-23T23:14:58Z" level=info msg="==----> initRegistryClient() span:6b144a2e8282262e:436b401a576f91e7:6b144a2e8282262e:1"
time="2021-09-23T23:14:58Z" level=info msg="Waiting for liveness probe: tcp:example.wcm-cisco.com:443"
time="2021-09-23T23:14:58Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="6b144a2e8282262e:436b401a576f91e7:6b144a2e8282262e:1"
time="2021-09-23T23:14:58Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:14:58Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:14:58Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:14:58Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:14:58Z" level=info msg="Found the right tls certificate for target: example.wcm-cisco.com:443"
time="2021-09-23T23:14:58Z" level=info msg="Successfully connected to example.wcm-cisco.com:443" operation=initRegistryClient span="6b144a2e8282262e:436b401a576f91e7:6b144a2e8282262e:1"
2021/09/23 23:14:58 Reporting span 6b144a2e8282262e:436b401a576f91e7:6b144a2e8282262e:1
{"level":"info","ts":1632438898.8867638,"caller":"nseinformer/nseInformerController.go:426","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-09-23T23:14:58Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=6b144a2e8282262e:6b144a2e8282262e:0000000000000000:1"
time="2021-09-23T23:14:58Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=6b144a2e8282262e:6b144a2e8282262e:0000000000000000:1"
2021/09/23 23:14:58 Reporting span 6b144a2e8282262e:603e03907dbe3cc3:6b144a2e8282262e:1
time="2021-09-23T23:14:58Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-11-control-plane\":{\"name\":\"kind-11-control-plane\",\"url\":\"172.17.0.3:5001\",\"expiration_time\":{\"seconds\":40},\"state\":\"RUNNING\"},\"kind-12-control-plane\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"expiration_time\":{\"seconds\":40},\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"example798f5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-11-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-11_vl3-nse-example-5859574cb9-vsm49\",\"wcm/cluster\":\"kind-11\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"exampler6q79\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-11-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-11_vl3-nse-example-5859574cb9-lzths\",\"wcm/cluster\":\"kind-11\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}]} span=6b144a2e8282262e:6b144a2e8282262e:0000000000000000:1"
2021/09/23 23:14:58 Reporting span 6b144a2e8282262e:6b144a2e8282262e:0000000000000000:1
{"level":"info","ts":1632438898.891584,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example2kxlp","app":"nse-discovery"}
{"level":"info","ts":1632438898.8916798,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example798f5","app":"nse-discovery"}
{"level":"info","ts":1632438898.8923209,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name examplecscn5","app":"nse-discovery"}
{"level":"info","ts":1632438898.8924181,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name exampler6q79","app":"nse-discovery"}
{"level":"info","ts":1632438898.8925009,"caller":"nseinformer/nseInformerController.go:214","msg":"Retrieved 4 endpoints from the global NSR","app":"nse-discovery"}
{"level":"info","ts":1632438898.892544,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438898.8925984,"caller":"nseinformer/nseInformerController.go:349","msg":"NSE diff:  For cluster kind-12, skipping endpoint 'example798f5'","app":"nse-discovery"}
{"level":"info","ts":1632438898.8926542,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438898.892677,"caller":"nseinformer/nseInformerController.go:349","msg":"NSE diff:  For cluster kind-12, skipping endpoint 'exampler6q79'","app":"nse-discovery"}
{"level":"info","ts":1632438898.89271,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438898.89288,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438898.8929067,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438898.8929224,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438898.8929598,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438898.8929918,"caller":"nseinformer/nseInformerController.go:362","msg":"NSE diff:  For cluster kind-12, skip comparing endpoint 'example798f5'","app":"nse-discovery"}
{"level":"info","ts":1632438898.893013,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438898.8930671,"caller":"nseinformer/nseInformerController.go:362","msg":"NSE diff:  For cluster kind-12, skip comparing endpoint 'exampler6q79'","app":"nse-discovery"}
{"level":"info","ts":1632438898.8931656,"caller":"nseinformer/nseInformerController.go:219","msg":"Global NSE diff result: 0 new NSEs to add, 0 NSEs to delete","app":"nse-discovery"}
{"level":"info","ts":1632438898.8931983,"caller":"nseinformer/nseInformerController.go:222","msg":"Registering 2 local NSEs to global registry","app":"nse-discovery"}
time="2021-09-23T23:14:58Z" level=info msg="Requesting NseRegistryClient..."
time="2021-09-23T23:14:58Z" level=info msg="==--> initRegistryClient() span:5a6399ab35c350d0:5a6399ab35c350d0:0000000000000000:1"
time="2021-09-23T23:14:58Z" level=info msg="Waiting for liveness probe: tcp:example.wcm-cisco.com:443"
time="2021-09-23T23:14:58Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="5a6399ab35c350d0:5a6399ab35c350d0:0000000000000000:1"
time="2021-09-23T23:14:58Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:14:58Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:14:58Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:14:58Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:14:58Z" level=info msg="Found the right tls certificate for target: example.wcm-cisco.com:443"
time="2021-09-23T23:14:58Z" level=info msg="Successfully connected to example.wcm-cisco.com:443" operation=initRegistryClient span="5a6399ab35c350d0:5a6399ab35c350d0:0000000000000000:1"
2021/09/23 23:14:58 Reporting span 5a6399ab35c350d0:5a6399ab35c350d0:0000000000000000:1
time="2021-09-23T23:14:58Z" level=info msg=">><<-- /registry.NetworkServiceRegistry/RegisterNSE()=\"\" span=<nil>"
time="2021-09-23T23:14:58Z" level=info msg=">><<-- request={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
2021/09/23 23:14:58 Reporting span 3702407bc9cac752:3702407bc9cac752:0000000000000000:1
time="2021-09-23T23:14:58Z" level=info msg=">><<-- response={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
time="2021-09-23T23:14:58Z" level=info msg=">><<-- /registry.NetworkServiceRegistry/RegisterNSE()=\"\" span=<nil>"
time="2021-09-23T23:14:58Z" level=info msg=">><<-- request={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
2021/09/23 23:14:59 Reporting span 710f6c7de95b59ef:710f6c7de95b59ef:0000000000000000:1
time="2021-09-23T23:14:59Z" level=info msg=">><<-- response={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
{"level":"info","ts":1632438899.01093,"caller":"nseinformer/nseInformerController.go:284","msg":"No endpoints to remove from Global registry.","app":"nse-discovery"}
{"level":"info","ts":1632438899.0109653,"caller":"nseinformer/nseInformerController.go:172","msg":"Processing NSE named example2kxlp...","app":"nse-discovery"}
{"level":"info","ts":1632438899.0109723,"caller":"nseinformer/nseInformerController.go:179","msg":"Found service name: example","app":"nse-discovery"}
{"level":"info","ts":1632438899.0109804,"caller":"nseinformer/nseInformerController.go:194","msg":"Getting endpoints from the local NSR","app":"nse-discovery"}
time="2021-09-23T23:14:59Z" level=info msg="==--> discovery.FindNetworkService() span:6f15859030780bfe:6f15859030780bfe:0000000000000000:1"
time="2021-09-23T23:14:59Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=6f15859030780bfe:6f15859030780bfe:0000000000000000:1"
time="2021-09-23T23:14:59Z" level=info msg=">><<-- nsrURL=\"wcm-proxy-nsmgr.nsm-system:5005\" span=6f15859030780bfe:6f15859030780bfe:0000000000000000:1"
time="2021-09-23T23:14:59Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-09-23T23:14:59Z" level=info msg="==----> initRegistryClient() span:6f15859030780bfe:48dc11a1fbe12308:6f15859030780bfe:1"
time="2021-09-23T23:14:59Z" level=info msg="Waiting for liveness probe: tcp:wcm-proxy-nsmgr.nsm-system:5005"
time="2021-09-23T23:14:59Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="6f15859030780bfe:48dc11a1fbe12308:6f15859030780bfe:1"
time="2021-09-23T23:14:59Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:14:59Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:14:59Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:14:59Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:14:59Z" level=info msg="Found the right tls certificate for target: wcm-proxy-nsmgr.nsm-system:5005"
time="2021-09-23T23:14:59Z" level=info msg="Successfully connected to wcm-proxy-nsmgr.nsm-system:5005" operation=initRegistryClient span="6f15859030780bfe:48dc11a1fbe12308:6f15859030780bfe:1"
2021/09/23 23:14:59 Reporting span 6f15859030780bfe:48dc11a1fbe12308:6f15859030780bfe:1
{"level":"info","ts":1632438899.0471818,"caller":"nseinformer/nseInformerController.go:426","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-09-23T23:14:59Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=6f15859030780bfe:6f15859030780bfe:0000000000000000:1"
time="2021-09-23T23:14:59Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=6f15859030780bfe:6f15859030780bfe:0000000000000000:1"
2021/09/23 23:14:59 Reporting span 6f15859030780bfe:0678b286372ccaa5:6f15859030780bfe:1
time="2021-09-23T23:14:59Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-12-control-plane\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}]} span=6f15859030780bfe:6f15859030780bfe:0000000000000000:1"
2021/09/23 23:14:59 Reporting span 6f15859030780bfe:6f15859030780bfe:0000000000000000:1
{"level":"info","ts":1632438899.0517957,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name examplecscn5","app":"nse-discovery"}
{"level":"info","ts":1632438899.0518363,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example2kxlp","app":"nse-discovery"}
{"level":"info","ts":1632438899.0518434,"caller":"nseinformer/nseInformerController.go:202","msg":"Retrieved 2 endpoints from the local NSR","app":"nse-discovery"}
{"level":"info","ts":1632438899.05185,"caller":"nseinformer/nseInformerController.go:205","msg":"Getting endpoints from the global NSR at: example.wcm-cisco.com:443","app":"nse-discovery"}
time="2021-09-23T23:14:59Z" level=info msg="==--> discovery.FindNetworkService() span:64d7b97e709566ce:64d7b97e709566ce:0000000000000000:1"
time="2021-09-23T23:14:59Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=64d7b97e709566ce:64d7b97e709566ce:0000000000000000:1"
time="2021-09-23T23:14:59Z" level=info msg=">><<-- nsrURL=\"example.wcm-cisco.com:443\" span=64d7b97e709566ce:64d7b97e709566ce:0000000000000000:1"
time="2021-09-23T23:14:59Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-09-23T23:14:59Z" level=info msg="==----> initRegistryClient() span:64d7b97e709566ce:160bccf1db197039:64d7b97e709566ce:1"
time="2021-09-23T23:14:59Z" level=info msg="Waiting for liveness probe: tcp:example.wcm-cisco.com:443"
time="2021-09-23T23:14:59Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="64d7b97e709566ce:160bccf1db197039:64d7b97e709566ce:1"
time="2021-09-23T23:14:59Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:14:59Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:14:59Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:14:59Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:14:59Z" level=info msg="Found the right tls certificate for target: example.wcm-cisco.com:443"
time="2021-09-23T23:14:59Z" level=info msg="Successfully connected to example.wcm-cisco.com:443" operation=initRegistryClient span="64d7b97e709566ce:160bccf1db197039:64d7b97e709566ce:1"
2021/09/23 23:14:59 Reporting span 64d7b97e709566ce:160bccf1db197039:64d7b97e709566ce:1
{"level":"info","ts":1632438899.1021073,"caller":"nseinformer/nseInformerController.go:426","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-09-23T23:14:59Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=64d7b97e709566ce:64d7b97e709566ce:0000000000000000:1"
time="2021-09-23T23:14:59Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=64d7b97e709566ce:64d7b97e709566ce:0000000000000000:1"
2021/09/23 23:14:59 Reporting span 64d7b97e709566ce:049dbaad2a24690b:64d7b97e709566ce:1
time="2021-09-23T23:14:59Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-11-control-plane\":{\"name\":\"kind-11-control-plane\",\"url\":\"172.17.0.3:5001\",\"expiration_time\":{\"seconds\":40},\"state\":\"RUNNING\"},\"kind-12-control-plane\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"expiration_time\":{\"seconds\":40},\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"example798f5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-11-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-11_vl3-nse-example-5859574cb9-vsm49\",\"wcm/cluster\":\"kind-11\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"exampler6q79\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-11-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-11_vl3-nse-example-5859574cb9-lzths\",\"wcm/cluster\":\"kind-11\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}]} span=64d7b97e709566ce:64d7b97e709566ce:0000000000000000:1"
2021/09/23 23:14:59 Reporting span 64d7b97e709566ce:64d7b97e709566ce:0000000000000000:1
{"level":"info","ts":1632438899.1068077,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example2kxlp","app":"nse-discovery"}
{"level":"info","ts":1632438899.106842,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example798f5","app":"nse-discovery"}
{"level":"info","ts":1632438899.1068485,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name examplecscn5","app":"nse-discovery"}
{"level":"info","ts":1632438899.1068537,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name exampler6q79","app":"nse-discovery"}
{"level":"info","ts":1632438899.1068594,"caller":"nseinformer/nseInformerController.go:214","msg":"Retrieved 4 endpoints from the global NSR","app":"nse-discovery"}
{"level":"info","ts":1632438899.1068673,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438899.1068726,"caller":"nseinformer/nseInformerController.go:349","msg":"NSE diff:  For cluster kind-12, skipping endpoint 'example798f5'","app":"nse-discovery"}
{"level":"info","ts":1632438899.106877,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438899.106882,"caller":"nseinformer/nseInformerController.go:349","msg":"NSE diff:  For cluster kind-12, skipping endpoint 'exampler6q79'","app":"nse-discovery"}
{"level":"info","ts":1632438899.1068876,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438899.1069038,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438899.106914,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438899.1069186,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438899.1069233,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438899.1069286,"caller":"nseinformer/nseInformerController.go:362","msg":"NSE diff:  For cluster kind-12, skip comparing endpoint 'example798f5'","app":"nse-discovery"}
{"level":"info","ts":1632438899.1069334,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438899.1069376,"caller":"nseinformer/nseInformerController.go:362","msg":"NSE diff:  For cluster kind-12, skip comparing endpoint 'exampler6q79'","app":"nse-discovery"}
{"level":"info","ts":1632438899.1069427,"caller":"nseinformer/nseInformerController.go:219","msg":"Global NSE diff result: 0 new NSEs to add, 0 NSEs to delete","app":"nse-discovery"}
{"level":"info","ts":1632438899.106948,"caller":"nseinformer/nseInformerController.go:222","msg":"Registering 2 local NSEs to global registry","app":"nse-discovery"}
time="2021-09-23T23:14:59Z" level=info msg="Requesting NseRegistryClient..."
time="2021-09-23T23:14:59Z" level=info msg="==--> initRegistryClient() span:108dee5105f237ca:108dee5105f237ca:0000000000000000:1"
time="2021-09-23T23:14:59Z" level=info msg="Waiting for liveness probe: tcp:example.wcm-cisco.com:443"
time="2021-09-23T23:14:59Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="108dee5105f237ca:108dee5105f237ca:0000000000000000:1"
time="2021-09-23T23:14:59Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:14:59Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:14:59Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:14:59Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:14:59Z" level=info msg="Found the right tls certificate for target: example.wcm-cisco.com:443"
time="2021-09-23T23:14:59Z" level=info msg="Successfully connected to example.wcm-cisco.com:443" operation=initRegistryClient span="108dee5105f237ca:108dee5105f237ca:0000000000000000:1"
2021/09/23 23:14:59 Reporting span 108dee5105f237ca:108dee5105f237ca:0000000000000000:1
time="2021-09-23T23:14:59Z" level=info msg=">><<-- /registry.NetworkServiceRegistry/RegisterNSE()=\"\" span=<nil>"
time="2021-09-23T23:14:59Z" level=info msg=">><<-- request={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
2021/09/23 23:14:59 Reporting span 6f8e10e9ddf7aaa4:6f8e10e9ddf7aaa4:0000000000000000:1
time="2021-09-23T23:14:59Z" level=info msg=">><<-- response={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
time="2021-09-23T23:14:59Z" level=info msg=">><<-- /registry.NetworkServiceRegistry/RegisterNSE()=\"\" span=<nil>"
time="2021-09-23T23:14:59Z" level=info msg=">><<-- request={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
2021/09/23 23:14:59 Reporting span 61fa3c0be5e24757:61fa3c0be5e24757:0000000000000000:1
time="2021-09-23T23:14:59Z" level=info msg=">><<-- response={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
{"level":"info","ts":1632438899.1863997,"caller":"nseinformer/nseInformerController.go:284","msg":"No endpoints to remove from Global registry.","app":"nse-discovery"}
{"level":"info","ts":1632438928.7695274,"caller":"nseinformer/nseInformerController.go:123","msg":"NSE pod: &{{ } {examplecscn5 example nsm-system /apis/networkservicemesh.io/v1alpha1/namespaces/nsm-system/networkserviceendpoints/examplecscn5 429d782d-3493-4ea4-ad95-6bdada125d2f 2187 1 2021-09-23 23:08:32 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:example-kind-12_vl3-nse-example-dff8646dd-ch2hz wcm/nsr.addr:example.wcm-cisco.com wcm/nsr.port:443] map[] [] []  []} {example IP kind-12-control-plane} {RUNNING}} was updated with: &{{ } {examplecscn5 example nsm-system /apis/networkservicemesh.io/v1alpha1/namespaces/nsm-system/networkserviceendpoints/examplecscn5 429d782d-3493-4ea4-ad95-6bdada125d2f 2187 1 2021-09-23 23:08:32 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:example-kind-12_vl3-nse-example-dff8646dd-ch2hz wcm/nsr.addr:example.wcm-cisco.com wcm/nsr.port:443] map[] [] []  []} {example IP kind-12-control-plane} {RUNNING}}","app":"nse-discovery"}
{"level":"info","ts":1632438928.7698076,"caller":"nseinformer/nseInformerController.go:123","msg":"NSE pod: &{{ } {example2kxlp example nsm-system /apis/networkservicemesh.io/v1alpha1/namespaces/nsm-system/networkserviceendpoints/example2kxlp 3b867dc3-b412-41b9-8d8b-17fa6d257ef9 2191 1 2021-09-23 23:08:32 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:example-kind-12_vl3-nse-example-dff8646dd-dgzfk wcm/nsr.addr:example.wcm-cisco.com wcm/nsr.port:443] map[] [] []  []} {example IP kind-12-control-plane} {RUNNING}} was updated with: &{{ } {example2kxlp example nsm-system /apis/networkservicemesh.io/v1alpha1/namespaces/nsm-system/networkserviceendpoints/example2kxlp 3b867dc3-b412-41b9-8d8b-17fa6d257ef9 2191 1 2021-09-23 23:08:32 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:example-kind-12_vl3-nse-example-dff8646dd-dgzfk wcm/nsr.addr:example.wcm-cisco.com wcm/nsr.port:443] map[] [] []  []} {example IP kind-12-control-plane} {RUNNING}}","app":"nse-discovery"}
{"level":"info","ts":1632438928.769848,"caller":"nseinformer/nseInformerController.go:172","msg":"Processing NSE named examplecscn5...","app":"nse-discovery"}
{"level":"info","ts":1632438928.7698548,"caller":"nseinformer/nseInformerController.go:179","msg":"Found service name: example","app":"nse-discovery"}
{"level":"info","ts":1632438928.769883,"caller":"nseinformer/nseInformerController.go:194","msg":"Getting endpoints from the local NSR","app":"nse-discovery"}
time="2021-09-23T23:15:28Z" level=info msg="==--> discovery.FindNetworkService() span:17e81eeee070f239:17e81eeee070f239:0000000000000000:1"
time="2021-09-23T23:15:28Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=17e81eeee070f239:17e81eeee070f239:0000000000000000:1"
time="2021-09-23T23:15:28Z" level=info msg=">><<-- nsrURL=\"wcm-proxy-nsmgr.nsm-system:5005\" span=17e81eeee070f239:17e81eeee070f239:0000000000000000:1"
time="2021-09-23T23:15:28Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-09-23T23:15:28Z" level=info msg="==----> initRegistryClient() span:17e81eeee070f239:1233b632ff0da25c:17e81eeee070f239:1"
time="2021-09-23T23:15:28Z" level=info msg="Waiting for liveness probe: tcp:wcm-proxy-nsmgr.nsm-system:5005"
time="2021-09-23T23:15:28Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="17e81eeee070f239:1233b632ff0da25c:17e81eeee070f239:1"
time="2021-09-23T23:15:28Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:15:28Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:15:28Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:15:28Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:15:28Z" level=info msg="Found the right tls certificate for target: wcm-proxy-nsmgr.nsm-system:5005"
time="2021-09-23T23:15:28Z" level=info msg="Successfully connected to wcm-proxy-nsmgr.nsm-system:5005" operation=initRegistryClient span="17e81eeee070f239:1233b632ff0da25c:17e81eeee070f239:1"
2021/09/23 23:15:28 Reporting span 17e81eeee070f239:1233b632ff0da25c:17e81eeee070f239:1
{"level":"info","ts":1632438928.8200347,"caller":"nseinformer/nseInformerController.go:426","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-09-23T23:15:28Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=17e81eeee070f239:17e81eeee070f239:0000000000000000:1"
time="2021-09-23T23:15:28Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=17e81eeee070f239:17e81eeee070f239:0000000000000000:1"
2021/09/23 23:15:28 Reporting span 17e81eeee070f239:2803d01436c18790:17e81eeee070f239:1
time="2021-09-23T23:15:28Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-12-control-plane\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}]} span=17e81eeee070f239:17e81eeee070f239:0000000000000000:1"
2021/09/23 23:15:28 Reporting span 17e81eeee070f239:17e81eeee070f239:0000000000000000:1
{"level":"info","ts":1632438928.8340375,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name examplecscn5","app":"nse-discovery"}
{"level":"info","ts":1632438928.834062,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example2kxlp","app":"nse-discovery"}
{"level":"info","ts":1632438928.8340695,"caller":"nseinformer/nseInformerController.go:202","msg":"Retrieved 2 endpoints from the local NSR","app":"nse-discovery"}
{"level":"info","ts":1632438928.834086,"caller":"nseinformer/nseInformerController.go:205","msg":"Getting endpoints from the global NSR at: example.wcm-cisco.com:443","app":"nse-discovery"}
time="2021-09-23T23:15:28Z" level=info msg="==--> discovery.FindNetworkService() span:297850fb3fa32e9b:297850fb3fa32e9b:0000000000000000:1"
time="2021-09-23T23:15:28Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=297850fb3fa32e9b:297850fb3fa32e9b:0000000000000000:1"
time="2021-09-23T23:15:28Z" level=info msg=">><<-- nsrURL=\"example.wcm-cisco.com:443\" span=297850fb3fa32e9b:297850fb3fa32e9b:0000000000000000:1"
time="2021-09-23T23:15:28Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-09-23T23:15:28Z" level=info msg="==----> initRegistryClient() span:297850fb3fa32e9b:7e6f7559dbc9669f:297850fb3fa32e9b:1"
time="2021-09-23T23:15:28Z" level=info msg="Waiting for liveness probe: tcp:example.wcm-cisco.com:443"
time="2021-09-23T23:15:28Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="297850fb3fa32e9b:7e6f7559dbc9669f:297850fb3fa32e9b:1"
time="2021-09-23T23:15:28Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:15:28Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:15:28Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:15:28Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:15:28Z" level=info msg="Found the right tls certificate for target: example.wcm-cisco.com:443"
time="2021-09-23T23:15:28Z" level=info msg="Successfully connected to example.wcm-cisco.com:443" operation=initRegistryClient span="297850fb3fa32e9b:7e6f7559dbc9669f:297850fb3fa32e9b:1"
2021/09/23 23:15:28 Reporting span 297850fb3fa32e9b:7e6f7559dbc9669f:297850fb3fa32e9b:1
{"level":"info","ts":1632438928.8845603,"caller":"nseinformer/nseInformerController.go:426","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-09-23T23:15:28Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=297850fb3fa32e9b:297850fb3fa32e9b:0000000000000000:1"
time="2021-09-23T23:15:28Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=297850fb3fa32e9b:297850fb3fa32e9b:0000000000000000:1"
2021/09/23 23:15:28 Reporting span 297850fb3fa32e9b:516b7d0b971edddf:297850fb3fa32e9b:1
time="2021-09-23T23:15:28Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-11-control-plane\":{\"name\":\"kind-11-control-plane\",\"url\":\"172.17.0.3:5001\",\"expiration_time\":{\"seconds\":40},\"state\":\"RUNNING\"},\"kind-12-control-plane\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"expiration_time\":{\"seconds\":40},\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"example798f5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-11-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-11_vl3-nse-example-5859574cb9-vsm49\",\"wcm/cluster\":\"kind-11\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"exampler6q79\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-11-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-11_vl3-nse-example-5859574cb9-lzths\",\"wcm/cluster\":\"kind-11\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}]} span=297850fb3fa32e9b:297850fb3fa32e9b:0000000000000000:1"
2021/09/23 23:15:28 Reporting span 297850fb3fa32e9b:297850fb3fa32e9b:0000000000000000:1
{"level":"info","ts":1632438928.8894362,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example2kxlp","app":"nse-discovery"}
{"level":"info","ts":1632438928.8894706,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example798f5","app":"nse-discovery"}
{"level":"info","ts":1632438928.8894775,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name examplecscn5","app":"nse-discovery"}
{"level":"info","ts":1632438928.8894835,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name exampler6q79","app":"nse-discovery"}
{"level":"info","ts":1632438928.8894897,"caller":"nseinformer/nseInformerController.go:214","msg":"Retrieved 4 endpoints from the global NSR","app":"nse-discovery"}
{"level":"info","ts":1632438928.8894978,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438928.8895092,"caller":"nseinformer/nseInformerController.go:349","msg":"NSE diff:  For cluster kind-12, skipping endpoint 'example798f5'","app":"nse-discovery"}
{"level":"info","ts":1632438928.889515,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438928.88952,"caller":"nseinformer/nseInformerController.go:349","msg":"NSE diff:  For cluster kind-12, skipping endpoint 'exampler6q79'","app":"nse-discovery"}
{"level":"info","ts":1632438928.8895268,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438928.889532,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438928.8896015,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438928.8896074,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438928.8896122,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438928.8896222,"caller":"nseinformer/nseInformerController.go:362","msg":"NSE diff:  For cluster kind-12, skip comparing endpoint 'example798f5'","app":"nse-discovery"}
{"level":"info","ts":1632438928.8896277,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438928.8896322,"caller":"nseinformer/nseInformerController.go:362","msg":"NSE diff:  For cluster kind-12, skip comparing endpoint 'exampler6q79'","app":"nse-discovery"}
{"level":"info","ts":1632438928.889643,"caller":"nseinformer/nseInformerController.go:219","msg":"Global NSE diff result: 0 new NSEs to add, 0 NSEs to delete","app":"nse-discovery"}
{"level":"info","ts":1632438928.8896518,"caller":"nseinformer/nseInformerController.go:222","msg":"Registering 2 local NSEs to global registry","app":"nse-discovery"}
time="2021-09-23T23:15:28Z" level=info msg="Requesting NseRegistryClient..."
time="2021-09-23T23:15:28Z" level=info msg="==--> initRegistryClient() span:5462cbc73a90bb6e:5462cbc73a90bb6e:0000000000000000:1"
time="2021-09-23T23:15:28Z" level=info msg="Waiting for liveness probe: tcp:example.wcm-cisco.com:443"
time="2021-09-23T23:15:28Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="5462cbc73a90bb6e:5462cbc73a90bb6e:0000000000000000:1"
time="2021-09-23T23:15:28Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:15:28Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:15:28Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:15:28Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:15:28Z" level=info msg="Found the right tls certificate for target: example.wcm-cisco.com:443"
time="2021-09-23T23:15:28Z" level=info msg="Successfully connected to example.wcm-cisco.com:443" operation=initRegistryClient span="5462cbc73a90bb6e:5462cbc73a90bb6e:0000000000000000:1"
2021/09/23 23:15:28 Reporting span 5462cbc73a90bb6e:5462cbc73a90bb6e:0000000000000000:1
time="2021-09-23T23:15:28Z" level=info msg=">><<-- /registry.NetworkServiceRegistry/RegisterNSE()=\"\" span=<nil>"
time="2021-09-23T23:15:28Z" level=info msg=">><<-- request={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
2021/09/23 23:15:28 Reporting span 04e934145be37e0f:04e934145be37e0f:0000000000000000:1
time="2021-09-23T23:15:28Z" level=info msg=">><<-- response={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
time="2021-09-23T23:15:28Z" level=info msg=">><<-- /registry.NetworkServiceRegistry/RegisterNSE()=\"\" span=<nil>"
time="2021-09-23T23:15:28Z" level=info msg=">><<-- request={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
2021/09/23 23:15:28 Reporting span 70b1ded4c2ffa7bd:70b1ded4c2ffa7bd:0000000000000000:1
time="2021-09-23T23:15:28Z" level=info msg=">><<-- response={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
{"level":"info","ts":1632438928.982842,"caller":"nseinformer/nseInformerController.go:284","msg":"No endpoints to remove from Global registry.","app":"nse-discovery"}
{"level":"info","ts":1632438928.9828854,"caller":"nseinformer/nseInformerController.go:172","msg":"Processing NSE named example2kxlp...","app":"nse-discovery"}
{"level":"info","ts":1632438928.9828923,"caller":"nseinformer/nseInformerController.go:179","msg":"Found service name: example","app":"nse-discovery"}
{"level":"info","ts":1632438928.9829,"caller":"nseinformer/nseInformerController.go:194","msg":"Getting endpoints from the local NSR","app":"nse-discovery"}
time="2021-09-23T23:15:28Z" level=info msg="==--> discovery.FindNetworkService() span:6c5ed4ecbfe48a9e:6c5ed4ecbfe48a9e:0000000000000000:1"
time="2021-09-23T23:15:28Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=6c5ed4ecbfe48a9e:6c5ed4ecbfe48a9e:0000000000000000:1"
time="2021-09-23T23:15:28Z" level=info msg=">><<-- nsrURL=\"wcm-proxy-nsmgr.nsm-system:5005\" span=6c5ed4ecbfe48a9e:6c5ed4ecbfe48a9e:0000000000000000:1"
time="2021-09-23T23:15:28Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-09-23T23:15:28Z" level=info msg="==----> initRegistryClient() span:6c5ed4ecbfe48a9e:47c545b2182be0f0:6c5ed4ecbfe48a9e:1"
time="2021-09-23T23:15:28Z" level=info msg="Waiting for liveness probe: tcp:wcm-proxy-nsmgr.nsm-system:5005"
time="2021-09-23T23:15:28Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="6c5ed4ecbfe48a9e:47c545b2182be0f0:6c5ed4ecbfe48a9e:1"
time="2021-09-23T23:15:29Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:15:29Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:15:29Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:15:29Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:15:29Z" level=info msg="Found the right tls certificate for target: wcm-proxy-nsmgr.nsm-system:5005"
time="2021-09-23T23:15:29Z" level=info msg="Successfully connected to wcm-proxy-nsmgr.nsm-system:5005" operation=initRegistryClient span="6c5ed4ecbfe48a9e:47c545b2182be0f0:6c5ed4ecbfe48a9e:1"
2021/09/23 23:15:29 Reporting span 6c5ed4ecbfe48a9e:47c545b2182be0f0:6c5ed4ecbfe48a9e:1
{"level":"info","ts":1632438929.0293946,"caller":"nseinformer/nseInformerController.go:426","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-09-23T23:15:29Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=6c5ed4ecbfe48a9e:6c5ed4ecbfe48a9e:0000000000000000:1"
time="2021-09-23T23:15:29Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=6c5ed4ecbfe48a9e:6c5ed4ecbfe48a9e:0000000000000000:1"
2021/09/23 23:15:29 Reporting span 6c5ed4ecbfe48a9e:1ffd5ffb69e71dcd:6c5ed4ecbfe48a9e:1
time="2021-09-23T23:15:29Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-12-control-plane\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}]} span=6c5ed4ecbfe48a9e:6c5ed4ecbfe48a9e:0000000000000000:1"
2021/09/23 23:15:29 Reporting span 6c5ed4ecbfe48a9e:6c5ed4ecbfe48a9e:0000000000000000:1
{"level":"info","ts":1632438929.035701,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name examplecscn5","app":"nse-discovery"}
{"level":"info","ts":1632438929.0357404,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example2kxlp","app":"nse-discovery"}
{"level":"info","ts":1632438929.0357475,"caller":"nseinformer/nseInformerController.go:202","msg":"Retrieved 2 endpoints from the local NSR","app":"nse-discovery"}
{"level":"info","ts":1632438929.035754,"caller":"nseinformer/nseInformerController.go:205","msg":"Getting endpoints from the global NSR at: example.wcm-cisco.com:443","app":"nse-discovery"}
time="2021-09-23T23:15:29Z" level=info msg="==--> discovery.FindNetworkService() span:604dd3a0f90f3abe:604dd3a0f90f3abe:0000000000000000:1"
time="2021-09-23T23:15:29Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=604dd3a0f90f3abe:604dd3a0f90f3abe:0000000000000000:1"
time="2021-09-23T23:15:29Z" level=info msg=">><<-- nsrURL=\"example.wcm-cisco.com:443\" span=604dd3a0f90f3abe:604dd3a0f90f3abe:0000000000000000:1"
time="2021-09-23T23:15:29Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-09-23T23:15:29Z" level=info msg="==----> initRegistryClient() span:604dd3a0f90f3abe:74e15f93a566c047:604dd3a0f90f3abe:1"
time="2021-09-23T23:15:29Z" level=info msg="Waiting for liveness probe: tcp:example.wcm-cisco.com:443"
time="2021-09-23T23:15:29Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="604dd3a0f90f3abe:74e15f93a566c047:604dd3a0f90f3abe:1"
time="2021-09-23T23:15:29Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:15:29Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:15:29Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:15:29Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:15:29Z" level=info msg="Found the right tls certificate for target: example.wcm-cisco.com:443"
time="2021-09-23T23:15:29Z" level=info msg="Successfully connected to example.wcm-cisco.com:443" operation=initRegistryClient span="604dd3a0f90f3abe:74e15f93a566c047:604dd3a0f90f3abe:1"
2021/09/23 23:15:29 Reporting span 604dd3a0f90f3abe:74e15f93a566c047:604dd3a0f90f3abe:1
{"level":"info","ts":1632438929.1090033,"caller":"nseinformer/nseInformerController.go:426","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-09-23T23:15:29Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=604dd3a0f90f3abe:604dd3a0f90f3abe:0000000000000000:1"
time="2021-09-23T23:15:29Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=604dd3a0f90f3abe:604dd3a0f90f3abe:0000000000000000:1"
2021/09/23 23:15:29 Reporting span 604dd3a0f90f3abe:1f960ffd2e643c9b:604dd3a0f90f3abe:1
time="2021-09-23T23:15:29Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-11-control-plane\":{\"name\":\"kind-11-control-plane\",\"url\":\"172.17.0.3:5001\",\"expiration_time\":{\"seconds\":40},\"state\":\"RUNNING\"},\"kind-12-control-plane\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"expiration_time\":{\"seconds\":40},\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"example798f5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-11-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-11_vl3-nse-example-5859574cb9-vsm49\",\"wcm/cluster\":\"kind-11\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"exampler6q79\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-11-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-11_vl3-nse-example-5859574cb9-lzths\",\"wcm/cluster\":\"kind-11\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}]} span=604dd3a0f90f3abe:604dd3a0f90f3abe:0000000000000000:1"
2021/09/23 23:15:29 Reporting span 604dd3a0f90f3abe:604dd3a0f90f3abe:0000000000000000:1
{"level":"info","ts":1632438929.1163309,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example2kxlp","app":"nse-discovery"}
{"level":"info","ts":1632438929.1163535,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example798f5","app":"nse-discovery"}
{"level":"info","ts":1632438929.116371,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name examplecscn5","app":"nse-discovery"}
{"level":"info","ts":1632438929.1163764,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name exampler6q79","app":"nse-discovery"}
{"level":"info","ts":1632438929.116382,"caller":"nseinformer/nseInformerController.go:214","msg":"Retrieved 4 endpoints from the global NSR","app":"nse-discovery"}
{"level":"info","ts":1632438929.1163895,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438929.1163957,"caller":"nseinformer/nseInformerController.go:349","msg":"NSE diff:  For cluster kind-12, skipping endpoint 'example798f5'","app":"nse-discovery"}
{"level":"info","ts":1632438929.1164193,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438929.1164246,"caller":"nseinformer/nseInformerController.go:349","msg":"NSE diff:  For cluster kind-12, skipping endpoint 'exampler6q79'","app":"nse-discovery"}
{"level":"info","ts":1632438929.116431,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438929.1164582,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438929.1164656,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438929.1164732,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438929.116478,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438929.1164832,"caller":"nseinformer/nseInformerController.go:362","msg":"NSE diff:  For cluster kind-12, skip comparing endpoint 'example798f5'","app":"nse-discovery"}
{"level":"info","ts":1632438929.1164913,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438929.1164963,"caller":"nseinformer/nseInformerController.go:362","msg":"NSE diff:  For cluster kind-12, skip comparing endpoint 'exampler6q79'","app":"nse-discovery"}
{"level":"info","ts":1632438929.116502,"caller":"nseinformer/nseInformerController.go:219","msg":"Global NSE diff result: 0 new NSEs to add, 0 NSEs to delete","app":"nse-discovery"}
{"level":"info","ts":1632438929.11651,"caller":"nseinformer/nseInformerController.go:222","msg":"Registering 2 local NSEs to global registry","app":"nse-discovery"}
time="2021-09-23T23:15:29Z" level=info msg="Requesting NseRegistryClient..."
time="2021-09-23T23:15:29Z" level=info msg="==--> initRegistryClient() span:70f1b29bd3fa9061:70f1b29bd3fa9061:0000000000000000:1"
time="2021-09-23T23:15:29Z" level=info msg="Waiting for liveness probe: tcp:example.wcm-cisco.com:443"
time="2021-09-23T23:15:29Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="70f1b29bd3fa9061:70f1b29bd3fa9061:0000000000000000:1"
time="2021-09-23T23:15:29Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:15:29Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:15:29Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:15:29Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:15:29Z" level=info msg="Found the right tls certificate for target: example.wcm-cisco.com:443"
time="2021-09-23T23:15:29Z" level=info msg="Successfully connected to example.wcm-cisco.com:443" operation=initRegistryClient span="70f1b29bd3fa9061:70f1b29bd3fa9061:0000000000000000:1"
2021/09/23 23:15:29 Reporting span 70f1b29bd3fa9061:70f1b29bd3fa9061:0000000000000000:1
time="2021-09-23T23:15:29Z" level=info msg=">><<-- /registry.NetworkServiceRegistry/RegisterNSE()=\"\" span=<nil>"
time="2021-09-23T23:15:29Z" level=info msg=">><<-- request={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
2021/09/23 23:15:29 Reporting span 2821f0da23e51575:2821f0da23e51575:0000000000000000:1
time="2021-09-23T23:15:29Z" level=info msg=">><<-- response={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
time="2021-09-23T23:15:29Z" level=info msg=">><<-- /registry.NetworkServiceRegistry/RegisterNSE()=\"\" span=<nil>"
time="2021-09-23T23:15:29Z" level=info msg=">><<-- request={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
2021/09/23 23:15:29 Reporting span 4d22413ed8ecb6d8:4d22413ed8ecb6d8:0000000000000000:1
time="2021-09-23T23:15:29Z" level=info msg=">><<-- response={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
{"level":"info","ts":1632438929.215845,"caller":"nseinformer/nseInformerController.go:284","msg":"No endpoints to remove from Global registry.","app":"nse-discovery"}
{"level":"info","ts":1632438958.7693994,"caller":"nseinformer/nseInformerController.go:123","msg":"NSE pod: &{{ } {examplecscn5 example nsm-system /apis/networkservicemesh.io/v1alpha1/namespaces/nsm-system/networkserviceendpoints/examplecscn5 429d782d-3493-4ea4-ad95-6bdada125d2f 2187 1 2021-09-23 23:08:32 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:example-kind-12_vl3-nse-example-dff8646dd-ch2hz wcm/nsr.addr:example.wcm-cisco.com wcm/nsr.port:443] map[] [] []  []} {example IP kind-12-control-plane} {RUNNING}} was updated with: &{{ } {examplecscn5 example nsm-system /apis/networkservicemesh.io/v1alpha1/namespaces/nsm-system/networkserviceendpoints/examplecscn5 429d782d-3493-4ea4-ad95-6bdada125d2f 2187 1 2021-09-23 23:08:32 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:example-kind-12_vl3-nse-example-dff8646dd-ch2hz wcm/nsr.addr:example.wcm-cisco.com wcm/nsr.port:443] map[] [] []  []} {example IP kind-12-control-plane} {RUNNING}}","app":"nse-discovery"}
{"level":"info","ts":1632438958.769645,"caller":"nseinformer/nseInformerController.go:123","msg":"NSE pod: &{{ } {example2kxlp example nsm-system /apis/networkservicemesh.io/v1alpha1/namespaces/nsm-system/networkserviceendpoints/example2kxlp 3b867dc3-b412-41b9-8d8b-17fa6d257ef9 2191 1 2021-09-23 23:08:32 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:example-kind-12_vl3-nse-example-dff8646dd-dgzfk wcm/nsr.addr:example.wcm-cisco.com wcm/nsr.port:443] map[] [] []  []} {example IP kind-12-control-plane} {RUNNING}} was updated with: &{{ } {example2kxlp example nsm-system /apis/networkservicemesh.io/v1alpha1/namespaces/nsm-system/networkserviceendpoints/example2kxlp 3b867dc3-b412-41b9-8d8b-17fa6d257ef9 2191 1 2021-09-23 23:08:32 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:example-kind-12_vl3-nse-example-dff8646dd-dgzfk wcm/nsr.addr:example.wcm-cisco.com wcm/nsr.port:443] map[] [] []  []} {example IP kind-12-control-plane} {RUNNING}}","app":"nse-discovery"}
{"level":"info","ts":1632438958.7696686,"caller":"nseinformer/nseInformerController.go:172","msg":"Processing NSE named examplecscn5...","app":"nse-discovery"}
{"level":"info","ts":1632438958.769675,"caller":"nseinformer/nseInformerController.go:179","msg":"Found service name: example","app":"nse-discovery"}
{"level":"info","ts":1632438958.770672,"caller":"nseinformer/nseInformerController.go:194","msg":"Getting endpoints from the local NSR","app":"nse-discovery"}
time="2021-09-23T23:15:58Z" level=info msg="==--> discovery.FindNetworkService() span:200ba402bf9a75e0:200ba402bf9a75e0:0000000000000000:1"
time="2021-09-23T23:15:58Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=200ba402bf9a75e0:200ba402bf9a75e0:0000000000000000:1"
time="2021-09-23T23:15:58Z" level=info msg=">><<-- nsrURL=\"wcm-proxy-nsmgr.nsm-system:5005\" span=200ba402bf9a75e0:200ba402bf9a75e0:0000000000000000:1"
time="2021-09-23T23:15:58Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-09-23T23:15:58Z" level=info msg="==----> initRegistryClient() span:200ba402bf9a75e0:00b3f85ecea5f4b2:200ba402bf9a75e0:1"
time="2021-09-23T23:15:58Z" level=info msg="Waiting for liveness probe: tcp:wcm-proxy-nsmgr.nsm-system:5005"
time="2021-09-23T23:15:58Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="200ba402bf9a75e0:00b3f85ecea5f4b2:200ba402bf9a75e0:1"
time="2021-09-23T23:15:58Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:15:58Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:15:58Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:15:58Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:15:58Z" level=info msg="Found the right tls certificate for target: wcm-proxy-nsmgr.nsm-system:5005"
time="2021-09-23T23:15:58Z" level=info msg="Successfully connected to wcm-proxy-nsmgr.nsm-system:5005" operation=initRegistryClient span="200ba402bf9a75e0:00b3f85ecea5f4b2:200ba402bf9a75e0:1"
2021/09/23 23:15:58 Reporting span 200ba402bf9a75e0:00b3f85ecea5f4b2:200ba402bf9a75e0:1
{"level":"info","ts":1632438958.8837821,"caller":"nseinformer/nseInformerController.go:426","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-09-23T23:15:58Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=200ba402bf9a75e0:200ba402bf9a75e0:0000000000000000:1"
time="2021-09-23T23:15:58Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=200ba402bf9a75e0:200ba402bf9a75e0:0000000000000000:1"
2021/09/23 23:15:58 Reporting span 200ba402bf9a75e0:3b18a389cc2535df:200ba402bf9a75e0:1
time="2021-09-23T23:15:58Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-12-control-plane\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}]} span=200ba402bf9a75e0:200ba402bf9a75e0:0000000000000000:1"
2021/09/23 23:15:58 Reporting span 200ba402bf9a75e0:200ba402bf9a75e0:0000000000000000:1
{"level":"info","ts":1632438958.9114285,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name examplecscn5","app":"nse-discovery"}
{"level":"info","ts":1632438958.9115608,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example2kxlp","app":"nse-discovery"}
{"level":"info","ts":1632438958.9115689,"caller":"nseinformer/nseInformerController.go:202","msg":"Retrieved 2 endpoints from the local NSR","app":"nse-discovery"}
{"level":"info","ts":1632438958.9115753,"caller":"nseinformer/nseInformerController.go:205","msg":"Getting endpoints from the global NSR at: example.wcm-cisco.com:443","app":"nse-discovery"}
time="2021-09-23T23:15:58Z" level=info msg="==--> discovery.FindNetworkService() span:08a83d55400e7ce4:08a83d55400e7ce4:0000000000000000:1"
time="2021-09-23T23:15:58Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=08a83d55400e7ce4:08a83d55400e7ce4:0000000000000000:1"
time="2021-09-23T23:15:58Z" level=info msg=">><<-- nsrURL=\"example.wcm-cisco.com:443\" span=08a83d55400e7ce4:08a83d55400e7ce4:0000000000000000:1"
time="2021-09-23T23:15:58Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-09-23T23:15:58Z" level=info msg="==----> initRegistryClient() span:08a83d55400e7ce4:11f6734a73bfea2e:08a83d55400e7ce4:1"
time="2021-09-23T23:15:58Z" level=info msg="Waiting for liveness probe: tcp:example.wcm-cisco.com:443"
time="2021-09-23T23:15:58Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="08a83d55400e7ce4:11f6734a73bfea2e:08a83d55400e7ce4:1"
time="2021-09-23T23:15:58Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:15:58Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:15:58Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:15:58Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:15:58Z" level=info msg="Found the right tls certificate for target: example.wcm-cisco.com:443"
time="2021-09-23T23:15:58Z" level=info msg="Successfully connected to example.wcm-cisco.com:443" operation=initRegistryClient span="08a83d55400e7ce4:11f6734a73bfea2e:08a83d55400e7ce4:1"
2021/09/23 23:15:58 Reporting span 08a83d55400e7ce4:11f6734a73bfea2e:08a83d55400e7ce4:1
{"level":"info","ts":1632438958.979122,"caller":"nseinformer/nseInformerController.go:426","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-09-23T23:15:58Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=08a83d55400e7ce4:08a83d55400e7ce4:0000000000000000:1"
time="2021-09-23T23:15:58Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=08a83d55400e7ce4:08a83d55400e7ce4:0000000000000000:1"
2021/09/23 23:15:58 Reporting span 08a83d55400e7ce4:67ea51fa360cc8f2:08a83d55400e7ce4:1
time="2021-09-23T23:15:58Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-11-control-plane\":{\"name\":\"kind-11-control-plane\",\"url\":\"172.17.0.3:5001\",\"expiration_time\":{\"seconds\":40},\"state\":\"RUNNING\"},\"kind-12-control-plane\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"expiration_time\":{\"seconds\":40},\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"example798f5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-11-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-11_vl3-nse-example-5859574cb9-vsm49\",\"wcm/cluster\":\"kind-11\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"exampler6q79\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-11-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-11_vl3-nse-example-5859574cb9-lzths\",\"wcm/cluster\":\"kind-11\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}]} span=08a83d55400e7ce4:08a83d55400e7ce4:0000000000000000:1"
2021/09/23 23:15:58 Reporting span 08a83d55400e7ce4:08a83d55400e7ce4:0000000000000000:1
{"level":"info","ts":1632438958.9865592,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example2kxlp","app":"nse-discovery"}
{"level":"info","ts":1632438958.9865832,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example798f5","app":"nse-discovery"}
{"level":"info","ts":1632438958.9865897,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name examplecscn5","app":"nse-discovery"}
{"level":"info","ts":1632438958.986595,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name exampler6q79","app":"nse-discovery"}
{"level":"info","ts":1632438958.9866006,"caller":"nseinformer/nseInformerController.go:214","msg":"Retrieved 4 endpoints from the global NSR","app":"nse-discovery"}
{"level":"info","ts":1632438958.9866104,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438958.9866226,"caller":"nseinformer/nseInformerController.go:349","msg":"NSE diff:  For cluster kind-12, skipping endpoint 'example798f5'","app":"nse-discovery"}
{"level":"info","ts":1632438958.9866278,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438958.9866326,"caller":"nseinformer/nseInformerController.go:349","msg":"NSE diff:  For cluster kind-12, skipping endpoint 'exampler6q79'","app":"nse-discovery"}
{"level":"info","ts":1632438958.9866395,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438958.9866447,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438958.986655,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438958.9866595,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438958.9866643,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438958.986673,"caller":"nseinformer/nseInformerController.go:362","msg":"NSE diff:  For cluster kind-12, skip comparing endpoint 'example798f5'","app":"nse-discovery"}
{"level":"info","ts":1632438958.9866784,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438958.986683,"caller":"nseinformer/nseInformerController.go:362","msg":"NSE diff:  For cluster kind-12, skip comparing endpoint 'exampler6q79'","app":"nse-discovery"}
{"level":"info","ts":1632438958.986693,"caller":"nseinformer/nseInformerController.go:219","msg":"Global NSE diff result: 0 new NSEs to add, 0 NSEs to delete","app":"nse-discovery"}
{"level":"info","ts":1632438958.9866984,"caller":"nseinformer/nseInformerController.go:222","msg":"Registering 2 local NSEs to global registry","app":"nse-discovery"}
time="2021-09-23T23:15:58Z" level=info msg="Requesting NseRegistryClient..."
time="2021-09-23T23:15:58Z" level=info msg="==--> initRegistryClient() span:4c389126c1893996:4c389126c1893996:0000000000000000:1"
time="2021-09-23T23:15:58Z" level=info msg="Waiting for liveness probe: tcp:example.wcm-cisco.com:443"
time="2021-09-23T23:15:58Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="4c389126c1893996:4c389126c1893996:0000000000000000:1"
time="2021-09-23T23:15:59Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:15:59Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:15:59Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:15:59Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:15:59Z" level=info msg="Found the right tls certificate for target: example.wcm-cisco.com:443"
time="2021-09-23T23:15:59Z" level=info msg="Successfully connected to example.wcm-cisco.com:443" operation=initRegistryClient span="4c389126c1893996:4c389126c1893996:0000000000000000:1"
2021/09/23 23:15:59 Reporting span 4c389126c1893996:4c389126c1893996:0000000000000000:1
time="2021-09-23T23:15:59Z" level=info msg=">><<-- /registry.NetworkServiceRegistry/RegisterNSE()=\"\" span=<nil>"
time="2021-09-23T23:15:59Z" level=info msg=">><<-- request={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
2021/09/23 23:15:59 Reporting span 570fd6332e76b2dc:570fd6332e76b2dc:0000000000000000:1
time="2021-09-23T23:15:59Z" level=info msg=">><<-- response={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
time="2021-09-23T23:15:59Z" level=info msg=">><<-- /registry.NetworkServiceRegistry/RegisterNSE()=\"\" span=<nil>"
time="2021-09-23T23:15:59Z" level=info msg=">><<-- request={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
2021/09/23 23:15:59 Reporting span 266da765245c14ce:266da765245c14ce:0000000000000000:1
time="2021-09-23T23:15:59Z" level=info msg=">><<-- response={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
{"level":"info","ts":1632438959.0979156,"caller":"nseinformer/nseInformerController.go:284","msg":"No endpoints to remove from Global registry.","app":"nse-discovery"}
{"level":"info","ts":1632438959.0979917,"caller":"nseinformer/nseInformerController.go:172","msg":"Processing NSE named example2kxlp...","app":"nse-discovery"}
{"level":"info","ts":1632438959.0980055,"caller":"nseinformer/nseInformerController.go:179","msg":"Found service name: example","app":"nse-discovery"}
{"level":"info","ts":1632438959.0980835,"caller":"nseinformer/nseInformerController.go:194","msg":"Getting endpoints from the local NSR","app":"nse-discovery"}
time="2021-09-23T23:15:59Z" level=info msg="==--> discovery.FindNetworkService() span:204784b25089f67c:204784b25089f67c:0000000000000000:1"
time="2021-09-23T23:15:59Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=204784b25089f67c:204784b25089f67c:0000000000000000:1"
time="2021-09-23T23:15:59Z" level=info msg=">><<-- nsrURL=\"wcm-proxy-nsmgr.nsm-system:5005\" span=204784b25089f67c:204784b25089f67c:0000000000000000:1"
time="2021-09-23T23:15:59Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-09-23T23:15:59Z" level=info msg="==----> initRegistryClient() span:204784b25089f67c:580c5246a8eea986:204784b25089f67c:1"
time="2021-09-23T23:15:59Z" level=info msg="Waiting for liveness probe: tcp:wcm-proxy-nsmgr.nsm-system:5005"
time="2021-09-23T23:15:59Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="204784b25089f67c:580c5246a8eea986:204784b25089f67c:1"
time="2021-09-23T23:15:59Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:15:59Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:15:59Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:15:59Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:15:59Z" level=info msg="Found the right tls certificate for target: wcm-proxy-nsmgr.nsm-system:5005"
time="2021-09-23T23:15:59Z" level=info msg="Successfully connected to wcm-proxy-nsmgr.nsm-system:5005" operation=initRegistryClient span="204784b25089f67c:580c5246a8eea986:204784b25089f67c:1"
2021/09/23 23:15:59 Reporting span 204784b25089f67c:580c5246a8eea986:204784b25089f67c:1
{"level":"info","ts":1632438959.1265564,"caller":"nseinformer/nseInformerController.go:426","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-09-23T23:15:59Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=204784b25089f67c:204784b25089f67c:0000000000000000:1"
time="2021-09-23T23:15:59Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=204784b25089f67c:204784b25089f67c:0000000000000000:1"
2021/09/23 23:15:59 Reporting span 204784b25089f67c:38336d912d60db65:204784b25089f67c:1
time="2021-09-23T23:15:59Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-12-control-plane\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}]} span=204784b25089f67c:204784b25089f67c:0000000000000000:1"
2021/09/23 23:15:59 Reporting span 204784b25089f67c:204784b25089f67c:0000000000000000:1
{"level":"info","ts":1632438959.1491659,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name examplecscn5","app":"nse-discovery"}
{"level":"info","ts":1632438959.1491911,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example2kxlp","app":"nse-discovery"}
{"level":"info","ts":1632438959.149198,"caller":"nseinformer/nseInformerController.go:202","msg":"Retrieved 2 endpoints from the local NSR","app":"nse-discovery"}
{"level":"info","ts":1632438959.1492047,"caller":"nseinformer/nseInformerController.go:205","msg":"Getting endpoints from the global NSR at: example.wcm-cisco.com:443","app":"nse-discovery"}
time="2021-09-23T23:15:59Z" level=info msg="==--> discovery.FindNetworkService() span:5256b14eff57faa2:5256b14eff57faa2:0000000000000000:1"
time="2021-09-23T23:15:59Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=5256b14eff57faa2:5256b14eff57faa2:0000000000000000:1"
time="2021-09-23T23:15:59Z" level=info msg=">><<-- nsrURL=\"example.wcm-cisco.com:443\" span=5256b14eff57faa2:5256b14eff57faa2:0000000000000000:1"
time="2021-09-23T23:15:59Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-09-23T23:15:59Z" level=info msg="==----> initRegistryClient() span:5256b14eff57faa2:39a649090596327b:5256b14eff57faa2:1"
time="2021-09-23T23:15:59Z" level=info msg="Waiting for liveness probe: tcp:example.wcm-cisco.com:443"
time="2021-09-23T23:15:59Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="5256b14eff57faa2:39a649090596327b:5256b14eff57faa2:1"
time="2021-09-23T23:15:59Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:15:59Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:15:59Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:15:59Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:15:59Z" level=info msg="Found the right tls certificate for target: example.wcm-cisco.com:443"
time="2021-09-23T23:15:59Z" level=info msg="Successfully connected to example.wcm-cisco.com:443" operation=initRegistryClient span="5256b14eff57faa2:39a649090596327b:5256b14eff57faa2:1"
2021/09/23 23:15:59 Reporting span 5256b14eff57faa2:39a649090596327b:5256b14eff57faa2:1
{"level":"info","ts":1632438959.2172568,"caller":"nseinformer/nseInformerController.go:426","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-09-23T23:15:59Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=5256b14eff57faa2:5256b14eff57faa2:0000000000000000:1"
time="2021-09-23T23:15:59Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=5256b14eff57faa2:5256b14eff57faa2:0000000000000000:1"
2021/09/23 23:15:59 Reporting span 5256b14eff57faa2:15fa67416eda12e8:5256b14eff57faa2:1
time="2021-09-23T23:15:59Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-11-control-plane\":{\"name\":\"kind-11-control-plane\",\"url\":\"172.17.0.3:5001\",\"expiration_time\":{\"seconds\":40},\"state\":\"RUNNING\"},\"kind-12-control-plane\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"expiration_time\":{\"seconds\":40},\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"example798f5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-11-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-11_vl3-nse-example-5859574cb9-vsm49\",\"wcm/cluster\":\"kind-11\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"},{\"name\":\"exampler6q79\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-11-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-11_vl3-nse-example-5859574cb9-lzths\",\"wcm/cluster\":\"kind-11\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}]} span=5256b14eff57faa2:5256b14eff57faa2:0000000000000000:1"
2021/09/23 23:15:59 Reporting span 5256b14eff57faa2:5256b14eff57faa2:0000000000000000:1
{"level":"info","ts":1632438959.2240262,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example2kxlp","app":"nse-discovery"}
{"level":"info","ts":1632438959.2241685,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name example798f5","app":"nse-discovery"}
{"level":"info","ts":1632438959.2256467,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name examplecscn5","app":"nse-discovery"}
{"level":"info","ts":1632438959.2256765,"caller":"nseinformer/nseInformerController.go:334","msg":"found NSE with name exampler6q79","app":"nse-discovery"}
{"level":"info","ts":1632438959.2256842,"caller":"nseinformer/nseInformerController.go:214","msg":"Retrieved 4 endpoints from the global NSR","app":"nse-discovery"}
{"level":"info","ts":1632438959.2258008,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438959.2258093,"caller":"nseinformer/nseInformerController.go:349","msg":"NSE diff:  For cluster kind-12, skipping endpoint 'example798f5'","app":"nse-discovery"}
{"level":"info","ts":1632438959.2258785,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438959.225888,"caller":"nseinformer/nseInformerController.go:349","msg":"NSE diff:  For cluster kind-12, skipping endpoint 'exampler6q79'","app":"nse-discovery"}
{"level":"info","ts":1632438959.225894,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438959.225977,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438959.2259874,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438959.2259922,"caller":"nseinformer/nseInformerController.go:346","msg":"NSE diff: For cluster kind-12, adding endpoint 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438959.225998,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'example2kxlp'","app":"nse-discovery"}
{"level":"info","ts":1632438959.2260613,"caller":"nseinformer/nseInformerController.go:362","msg":"NSE diff:  For cluster kind-12, skip comparing endpoint 'example798f5'","app":"nse-discovery"}
{"level":"info","ts":1632438959.2260716,"caller":"nseinformer/nseInformerController.go:359","msg":"NSE diff: For cluster kind-12, endpoint match 'examplecscn5'","app":"nse-discovery"}
{"level":"info","ts":1632438959.226087,"caller":"nseinformer/nseInformerController.go:362","msg":"NSE diff:  For cluster kind-12, skip comparing endpoint 'exampler6q79'","app":"nse-discovery"}
{"level":"info","ts":1632438959.226158,"caller":"nseinformer/nseInformerController.go:219","msg":"Global NSE diff result: 0 new NSEs to add, 0 NSEs to delete","app":"nse-discovery"}
{"level":"info","ts":1632438959.2261646,"caller":"nseinformer/nseInformerController.go:222","msg":"Registering 2 local NSEs to global registry","app":"nse-discovery"}
time="2021-09-23T23:15:59Z" level=info msg="Requesting NseRegistryClient..."
time="2021-09-23T23:15:59Z" level=info msg="==--> initRegistryClient() span:3db6a636c9a7c585:3db6a636c9a7c585:0000000000000000:1"
time="2021-09-23T23:15:59Z" level=info msg="Waiting for liveness probe: tcp:example.wcm-cisco.com:443"
time="2021-09-23T23:15:59Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="3db6a636c9a7c585:3db6a636c9a7c585:0000000000000000:1"
time="2021-09-23T23:15:59Z" level=info msg="Fetch tlsConfig for Trust Domain: central.com"
time="2021-09-23T23:15:59Z" level=info msg="Fetch tlsConfig for Trust Domain: member1.com"
time="2021-09-23T23:15:59Z" level=info msg="Fetch tlsConfig for Trust Domain: member2.com"
time="2021-09-23T23:15:59Z" level=info msg="Retrived 3 tlsconfigs"
time="2021-09-23T23:15:59Z" level=info msg="Found the right tls certificate for target: example.wcm-cisco.com:443"
time="2021-09-23T23:15:59Z" level=info msg="Successfully connected to example.wcm-cisco.com:443" operation=initRegistryClient span="3db6a636c9a7c585:3db6a636c9a7c585:0000000000000000:1"
2021/09/23 23:15:59 Reporting span 3db6a636c9a7c585:3db6a636c9a7c585:0000000000000000:1
time="2021-09-23T23:15:59Z" level=info msg=">><<-- /registry.NetworkServiceRegistry/RegisterNSE()=\"\" span=<nil>"
time="2021-09-23T23:15:59Z" level=info msg=">><<-- request={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
2021/09/23 23:15:59 Reporting span 54ca594e646a14eb:54ca594e646a14eb:0000000000000000:1
time="2021-09-23T23:15:59Z" level=info msg=">><<-- response={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"examplecscn5\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-ch2hz\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
time="2021-09-23T23:15:59Z" level=info msg=">><<-- /registry.NetworkServiceRegistry/RegisterNSE()=\"\" span=<nil>"
time="2021-09-23T23:15:59Z" level=info msg=">><<-- request={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
2021/09/23 23:15:59 Reporting span 21e1d0eaa9e53df0:21e1d0eaa9e53df0:0000000000000000:1
time="2021-09-23T23:15:59Z" level=info msg=">><<-- response={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-12-control-plane\",\"url\":\"172.17.0.4:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"example2kxlp\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-12-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-12_vl3-nse-example-dff8646dd-dgzfk\",\"wcm/cluster\":\"kind-12\",\"wcm/nsr.addr\":\"example.wcm-cisco.com\",\"wcm/nsr.port\":\"443\"},\"state\":\"RUNNING\"}} span=<nil>"
{"level":"info","ts":1632438959.3095765,"caller":"nseinformer/nseInformerController.go:284","msg":"No endpoints to remove from Global registry.","app":"nse-discovery"}
==== END logs for container wcm-nse-discovery of pod wcm-system/wcm-nse-discovery-7bbb7c68d9-rvrp8 ====
