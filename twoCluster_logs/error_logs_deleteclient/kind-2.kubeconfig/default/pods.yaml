---
apiVersion: v1
items:
- metadata:
    creationTimestamp: "2021-05-12T06:39:45Z"
    deletionGracePeriodSeconds: 30
    deletionTimestamp: "2021-05-12T06:43:01Z"
    generateName: helloworld-example-5cd89d98c5-
    labels:
      app: helloworld-example
      nsm/servicename: helloworld.cluster-0.example.wcm-cisco.com
      pod-template-hash: 5cd89d98c5
      version: v1
    name: helloworld-example-5cd89d98c5-7j5vc
    namespace: default
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: helloworld-example-5cd89d98c5
      uid: 14200f4e-0d26-438a-b049-1ac5b041fc1e
    resourceVersion: "4454"
    selfLink: /api/v1/namespaces/default/pods/helloworld-example-5cd89d98c5-7j5vc
    uid: d8f0ec69-6879-4578-9230-335e08bd4ddf
  spec:
    containers:
    - image: docker.io/istio/examples-helloworld-v1:latest
      imagePullPolicy: IfNotPresent
      name: helloworld
      ports:
      - containerPort: 5000
        protocol: TCP
      resources:
        requests:
          cpu: 100m
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: hello-client-service-account-token-j4k2j
        readOnly: true
    - command:
      - /bin/nsm-monitor
      env:
      - name: MONITOR_DNS_CONFIGS
        value: "true"
      - name: NS_NETWORKSERVICEMESH_IO
        value: example/example?service=helloworld&port=5000&clusterName=cluster-0
      image: public.ecr.aws/ciscoeti/appn/nsm-monitor:vl3_latest
      imagePullPolicy: IfNotPresent
      name: nsm-dns-monitor
      resources:
        limits:
          networkservicemesh.io/socket: "1"
        requests:
          networkservicemesh.io/socket: "1"
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /etc/coredns
        name: nsm-coredns-volume
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: hello-client-service-account-token-j4k2j
        readOnly: true
    - args:
      - -conf
      - /etc/coredns/Corefile
      image: networkservicemesh/coredns:master
      imagePullPolicy: IfNotPresent
      name: coredns
      resources:
        limits:
          networkservicemesh.io/socket: "1"
        requests:
          networkservicemesh.io/socket: "1"
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /etc/coredns
        name: nsm-coredns-volume
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: hello-client-service-account-token-j4k2j
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    initContainers:
    - command:
      - /bin/nsm-dns-init
      env:
      - name: NS_NETWORKSERVICEMESH_IO
        value: example/example?service=helloworld&port=5000&clusterName=cluster-0
      - name: NSM_NAMESPACE
        value: nsm-system
      - name: JAEGER_AGENT_HOST
        value: wcm-jaeger.nsm-system
      - name: TRACER_ENABLED
        value: "true"
      - name: JAEGER_AGENT_PORT
        value: "6831"
      image: public.ecr.aws/ciscoeti/appn/nsm-dns-init:vl3_latest
      imagePullPolicy: IfNotPresent
      name: nsm-dns-init
      resources:
        limits:
          networkservicemesh.io/socket: "1"
        requests:
          networkservicemesh.io/socket: "1"
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /etc/coredns
        name: nsm-coredns-volume
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: hello-client-service-account-token-j4k2j
        readOnly: true
    - env:
      - name: NS_NETWORKSERVICEMESH_IO
        value: example/example?service=helloworld&port=5000&clusterName=cluster-0
      - name: NSM_NAMESPACE
        value: nsm-system
      - name: JAEGER_AGENT_HOST
        value: wcm-jaeger.nsm-system
      - name: TRACER_ENABLED
        value: "true"
      - name: JAEGER_AGENT_PORT
        value: "6831"
      image: public.ecr.aws/ciscoeti/appn/nsm-init:vl3_latest
      imagePullPolicy: IfNotPresent
      name: nsm-init-container
      resources:
        limits:
          networkservicemesh.io/socket: "1"
        requests:
          networkservicemesh.io/socket: "1"
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: hello-client-service-account-token-j4k2j
        readOnly: true
    nodeName: kind-2-control-plane
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext: {}
    serviceAccount: hello-client-service-account
    serviceAccountName: hello-client-service-account
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - emptyDir: {}
      name: nsm-coredns-volume
    - name: hello-client-service-account-token-j4k2j
      secret:
        defaultMode: 420
        secretName: hello-client-service-account-token-j4k2j
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2021-05-12T06:39:48Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2021-05-12T06:40:23Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2021-05-12T06:40:23Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2021-05-12T06:39:45Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: containerd://d80edd4f1b789efc6f2ac176ac7d378033b7a08480a49ca5bdb29bd42eabc78b
      image: docker.io/networkservicemesh/coredns:master
      imageID: docker.io/networkservicemesh/coredns@sha256:17de0ac5d4640cc9e2c41b5b899c772818fc1715de78c160dfa5d945543d35ce
      lastState: {}
      name: coredns
      ready: true
      restartCount: 0
      started: true
      state:
        running:
          startedAt: "2021-05-12T06:40:23Z"
    - containerID: containerd://121ff38d1edfb2f3d3539700fb1e4bbb1a0daa97e49d70b5f8b392735c285d47
      image: docker.io/istio/examples-helloworld-v1:latest
      imageID: docker.io/istio/examples-helloworld-v1@sha256:c671702b11cbcda103720c2bd3e81a4211012bfef085b7326bb7fbfd8cea4a94
      lastState: {}
      name: helloworld
      ready: true
      restartCount: 0
      started: true
      state:
        running:
          startedAt: "2021-05-12T06:40:17Z"
    - containerID: containerd://4453fe3599273ffc366874968caa7139a88d1471a7ffa6725cc21b4bdd899149
      image: public.ecr.aws/ciscoeti/appn/nsm-monitor:vl3_latest
      imageID: public.ecr.aws/ciscoeti/appn/nsm-monitor@sha256:8e721def11550e4f1a0efe03d8ffeed72dbfcd653481b18a4254075a3fd386ef
      lastState: {}
      name: nsm-dns-monitor
      ready: true
      restartCount: 0
      started: true
      state:
        running:
          startedAt: "2021-05-12T06:40:20Z"
    hostIP: 172.17.0.3
    initContainerStatuses:
    - containerID: containerd://dba57b6c6b4b569a818213df2a7e04ea119574884f4d25ddc2e0e6fc36bf2983
      image: public.ecr.aws/ciscoeti/appn/nsm-dns-init:vl3_latest
      imageID: public.ecr.aws/ciscoeti/appn/nsm-dns-init@sha256:9e3d48d985ac55f4e68869fca2b4e21a20c6a5009de07f92b96b79b0c44daddd
      lastState: {}
      name: nsm-dns-init
      ready: true
      restartCount: 0
      state:
        terminated:
          containerID: containerd://dba57b6c6b4b569a818213df2a7e04ea119574884f4d25ddc2e0e6fc36bf2983
          exitCode: 0
          finishedAt: "2021-05-12T06:39:46Z"
          reason: Completed
          startedAt: "2021-05-12T06:39:46Z"
    - containerID: containerd://39daa222442abb219f52b69e8f5829b4ce985a903651d85539cc33a0738a8564
      image: public.ecr.aws/ciscoeti/appn/nsm-init:vl3_latest
      imageID: public.ecr.aws/ciscoeti/appn/nsm-init@sha256:0c02164ba2f12407b03b009c40db9b1583dfe63dbffbba913571d05d47c7d85f
      lastState: {}
      name: nsm-init-container
      ready: true
      restartCount: 0
      state:
        terminated:
          containerID: containerd://39daa222442abb219f52b69e8f5829b4ce985a903651d85539cc33a0738a8564
          exitCode: 0
          finishedAt: "2021-05-12T06:39:48Z"
          reason: Completed
          startedAt: "2021-05-12T06:39:47Z"
    phase: Running
    podIP: 10.244.0.23
    podIPs:
    - ip: 10.244.0.23
    qosClass: Burstable
    startTime: "2021-05-12T06:39:45Z"
- metadata:
    creationTimestamp: "2021-05-12T06:32:28Z"
    generateName: helloworld-red-d449dc9cc-
    labels:
      app: helloworld-red
      nsm/servicename: helloworld.cluster-0.red.wcm-cisco.com
      pod-template-hash: d449dc9cc
      version: v1
    name: helloworld-red-d449dc9cc-85gwb
    namespace: default
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: helloworld-red-d449dc9cc
      uid: 64e6db5e-e0b3-4f75-bfb6-514bf7722276
    resourceVersion: "4099"
    selfLink: /api/v1/namespaces/default/pods/helloworld-red-d449dc9cc-85gwb
    uid: f8784309-a208-4ead-929f-4a026ee10a1a
  spec:
    containers:
    - image: docker.io/istio/examples-helloworld-v1:latest
      imagePullPolicy: IfNotPresent
      name: helloworld
      ports:
      - containerPort: 5000
        protocol: TCP
      resources:
        requests:
          cpu: 100m
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: hello-client-service-account-token-j4k2j
        readOnly: true
    - command:
      - /bin/nsm-monitor
      env:
      - name: MONITOR_DNS_CONFIGS
        value: "true"
      - name: NS_NETWORKSERVICEMESH_IO
        value: red/red?service=helloworld&port=5000&clusterName=cluster-0
      image: public.ecr.aws/ciscoeti/appn/nsm-monitor:vl3_latest
      imagePullPolicy: IfNotPresent
      name: nsm-dns-monitor
      resources:
        limits:
          networkservicemesh.io/socket: "1"
        requests:
          networkservicemesh.io/socket: "1"
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /etc/coredns
        name: nsm-coredns-volume
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: hello-client-service-account-token-j4k2j
        readOnly: true
    - args:
      - -conf
      - /etc/coredns/Corefile
      image: networkservicemesh/coredns:master
      imagePullPolicy: IfNotPresent
      name: coredns
      resources:
        limits:
          networkservicemesh.io/socket: "1"
        requests:
          networkservicemesh.io/socket: "1"
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /etc/coredns
        name: nsm-coredns-volume
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: hello-client-service-account-token-j4k2j
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    initContainers:
    - command:
      - /bin/nsm-dns-init
      env:
      - name: NS_NETWORKSERVICEMESH_IO
        value: red/red?service=helloworld&port=5000&clusterName=cluster-0
      - name: NSM_NAMESPACE
        value: nsm-system
      - name: JAEGER_AGENT_HOST
        value: wcm-jaeger.nsm-system
      - name: TRACER_ENABLED
        value: "true"
      - name: JAEGER_AGENT_PORT
        value: "6831"
      image: public.ecr.aws/ciscoeti/appn/nsm-dns-init:vl3_latest
      imagePullPolicy: IfNotPresent
      name: nsm-dns-init
      resources:
        limits:
          networkservicemesh.io/socket: "1"
        requests:
          networkservicemesh.io/socket: "1"
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /etc/coredns
        name: nsm-coredns-volume
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: hello-client-service-account-token-j4k2j
        readOnly: true
    - env:
      - name: NS_NETWORKSERVICEMESH_IO
        value: red/red?service=helloworld&port=5000&clusterName=cluster-0
      - name: NSM_NAMESPACE
        value: nsm-system
      - name: JAEGER_AGENT_HOST
        value: wcm-jaeger.nsm-system
      - name: TRACER_ENABLED
        value: "true"
      - name: JAEGER_AGENT_PORT
        value: "6831"
      image: public.ecr.aws/ciscoeti/appn/nsm-init:vl3_latest
      imagePullPolicy: IfNotPresent
      name: nsm-init-container
      resources:
        limits:
          networkservicemesh.io/socket: "1"
        requests:
          networkservicemesh.io/socket: "1"
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: hello-client-service-account-token-j4k2j
        readOnly: true
    nodeName: kind-2-control-plane
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext: {}
    serviceAccount: hello-client-service-account
    serviceAccountName: hello-client-service-account
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - emptyDir: {}
      name: nsm-coredns-volume
    - name: hello-client-service-account-token-j4k2j
      secret:
        defaultMode: 420
        secretName: hello-client-service-account-token-j4k2j
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2021-05-12T06:32:28Z"
      message: 'containers with incomplete status: [nsm-init-container]'
      reason: ContainersNotInitialized
      status: "False"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2021-05-12T06:32:28Z"
      message: 'containers with unready status: [helloworld nsm-dns-monitor coredns]'
      reason: ContainersNotReady
      status: "False"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2021-05-12T06:32:28Z"
      message: 'containers with unready status: [helloworld nsm-dns-monitor coredns]'
      reason: ContainersNotReady
      status: "False"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2021-05-12T06:32:28Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - image: networkservicemesh/coredns:master
      imageID: ""
      lastState: {}
      name: coredns
      ready: false
      restartCount: 0
      started: false
      state:
        waiting:
          reason: PodInitializing
    - image: docker.io/istio/examples-helloworld-v1:latest
      imageID: ""
      lastState: {}
      name: helloworld
      ready: false
      restartCount: 0
      started: false
      state:
        waiting:
          reason: PodInitializing
    - image: public.ecr.aws/ciscoeti/appn/nsm-monitor:vl3_latest
      imageID: ""
      lastState: {}
      name: nsm-dns-monitor
      ready: false
      restartCount: 0
      started: false
      state:
        waiting:
          reason: PodInitializing
    hostIP: 172.17.0.3
    initContainerStatuses:
    - containerID: containerd://fdafe0fdfefb2d968a7581b8183b90e598a1b02f83aaa85fcd699c161bb151be
      image: public.ecr.aws/ciscoeti/appn/nsm-dns-init:vl3_latest
      imageID: public.ecr.aws/ciscoeti/appn/nsm-dns-init@sha256:9e3d48d985ac55f4e68869fca2b4e21a20c6a5009de07f92b96b79b0c44daddd
      lastState: {}
      name: nsm-dns-init
      ready: true
      restartCount: 0
      state:
        terminated:
          containerID: containerd://fdafe0fdfefb2d968a7581b8183b90e598a1b02f83aaa85fcd699c161bb151be
          exitCode: 0
          finishedAt: "2021-05-12T06:32:31Z"
          reason: Completed
          startedAt: "2021-05-12T06:32:31Z"
    - containerID: containerd://9d48a07b6df476d4f69036a6fb573037dbcfee7cfa37033dc19d5f244e94ec77
      image: public.ecr.aws/ciscoeti/appn/nsm-init:vl3_latest
      imageID: public.ecr.aws/ciscoeti/appn/nsm-init@sha256:0c02164ba2f12407b03b009c40db9b1583dfe63dbffbba913571d05d47c7d85f
      lastState:
        terminated:
          containerID: containerd://9d48a07b6df476d4f69036a6fb573037dbcfee7cfa37033dc19d5f244e94ec77
          exitCode: 1
          finishedAt: "2021-05-12T06:40:31Z"
          reason: Error
          startedAt: "2021-05-12T06:39:40Z"
      name: nsm-init-container
      ready: false
      restartCount: 5
      state:
        waiting:
          message: back-off 2m40s restarting failed container=nsm-init-container pod=helloworld-red-d449dc9cc-85gwb_default(f8784309-a208-4ead-929f-4a026ee10a1a)
          reason: CrashLoopBackOff
    phase: Pending
    podIP: 10.244.0.17
    podIPs:
    - ip: 10.244.0.17
    qosClass: Burstable
    startTime: "2021-05-12T06:32:28Z"
- metadata:
    creationTimestamp: "2021-05-12T06:29:03Z"
    generateName: member-core-operator-55bdfffc85-
    labels:
      name: member-core-operator
      pod-template-hash: 55bdfffc85
    name: member-core-operator-55bdfffc85-kcnk9
    namespace: default
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: member-core-operator-55bdfffc85
      uid: 16e617fe-4c8f-4a8a-a317-bd8c3dca2094
    resourceVersion: "1402"
    selfLink: /api/v1/namespaces/default/pods/member-core-operator-55bdfffc85-kcnk9
    uid: a6d620e5-a1ef-42c0-a249-80dd033c17cd
  spec:
    containers:
    - command:
      - member-core-operator
      env:
      - name: WATCH_NAMESPACE
      - name: POD_NAME
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.name
      - name: OPERATOR_NAME
        value: member-core-operator
      - name: CONFIG_PATH
        value: etc/member-core-configmap/config.yaml
      image: public.ecr.aws/ciscoeti/appn/member-core-operator:latest
      imagePullPolicy: IfNotPresent
      name: member-core-operator
      resources: {}
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: etc/member-core-configmap/config.yaml
        name: config-data-member-core
        subPath: config.yaml
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: member-core-operator-token-xkkvk
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    nodeName: kind-2-control-plane
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext: {}
    serviceAccount: member-core-operator
    serviceAccountName: member-core-operator
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - configMap:
        defaultMode: 420
        name: member-core-configmap
      name: config-data-member-core
    - name: member-core-operator-token-xkkvk
      secret:
        defaultMode: 420
        secretName: member-core-operator-token-xkkvk
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2021-05-12T06:29:03Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2021-05-12T06:29:13Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2021-05-12T06:29:13Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2021-05-12T06:29:03Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: containerd://30f0d3fb1174073b86d635fe1f35dbec74a86bf02280d21ac33dfe220c081f59
      image: public.ecr.aws/ciscoeti/appn/member-core-operator:latest
      imageID: public.ecr.aws/ciscoeti/appn/member-core-operator@sha256:c8097ff65a70ef3e2294235af34fdc26308e365b210a980db59077b46605a1ee
      lastState: {}
      name: member-core-operator
      ready: true
      restartCount: 0
      started: true
      state:
        running:
          startedAt: "2021-05-12T06:29:12Z"
    hostIP: 172.17.0.3
    phase: Running
    podIP: 10.244.0.6
    podIPs:
    - ip: 10.244.0.6
    qosClass: BestEffort
    startTime: "2021-05-12T06:29:03Z"
kind: PodList
metadata:
  resourceVersion: "4487"
  selfLink: /api/v1/namespaces/default/pods
