---
apiVersion: v1
items:
- metadata:
    annotations:
      sidecar.istio.io/inject: "false"
      wcm/nsr.address: red.nispatil-wcm-cisco.com
      wcm/nsr.port: "443"
    creationTimestamp: "2021-05-12T16:12:29Z"
    generateName: vl3-nse-red-59ffd88496-
    labels:
      networkservicemesh.io/app: vl3-nse-red
      networkservicemesh.io/impl: red
      pod-template-hash: 59ffd88496
      wcm-nse: red
      wcm/nse.servicename: red
    name: vl3-nse-red-59ffd88496-5d4jd
    namespace: wcm-system
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: vl3-nse-red-59ffd88496
      uid: 8fb98a3c-f4ee-410f-9391-6f1500d940ce
    resourceVersion: "10484"
    selfLink: /api/v1/namespaces/wcm-system/pods/vl3-nse-red-59ffd88496-5d4jd
    uid: 17e4a7fa-c6cd-4b9f-af10-48a0d4b21eef
  spec:
    containers:
    - env:
      - name: ENDPOINT_NETWORK_SERVICE
        value: red
      - name: ENDPOINT_LABELS
        value: app=vl3-nse-red
      - name: TRACER_ENABLED
        value: "true"
      - name: JAEGER_SERVICE_HOST
        value: wcm-jaeger.nsm-system
      - name: JAEGER_SERVICE_PORT_JAEGER
        value: "6831"
      - name: JAEGER_AGENT_HOST
        value: wcm-jaeger.nsm-system
      - name: JAEGER_AGENT_PORT
        value: "6831"
      - name: WORKLOAD_REFRESH_INTERVAL
        value: 2h30m
      - name: NSREGISTRY_ADDR
        value: wcm-nsmgr.nsm-system
      - name: NSREGISTRY_PORT
        value: "5000"
      - name: CLUSTER_NAME
        value: test
      - name: NSE_POD_IP
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: status.podIP
      - name: NSE_POD_NAME
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.name
      - name: NSM_REMOTE_NS_IP_LIST
        valueFrom:
          configMapKeyRef:
            key: remote.ip_list
            name: nsm-vl3-red-config-map
      - name: METRICS_PORT
        value: "2112"
      - name: WORKLOAD_METRICS_PORT
        value: "3000"
      - name: INSECURE
        value: "false"
      image: public.ecr.aws/ciscoeti/appn/vl3_ucnf-nse:latest
      imagePullPolicy: IfNotPresent
      name: vl3-nse-red
      ports:
      - containerPort: 9191
        name: monitoring-vpp
        protocol: TCP
      - containerPort: 2112
        name: monitoring
        protocol: TCP
      - containerPort: 3000
        name: workload
        protocol: TCP
      resources:
        limits:
          networkservicemesh.io/socket: "1"
        requests:
          networkservicemesh.io/socket: "1"
      securityContext:
        capabilities:
          add:
          - NET_ADMIN
        privileged: true
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /etc/universal-cnf/config.yaml
        name: universal-cnf-config-volume
        subPath: config.yaml
      - mountPath: /run/spire/sockets
        name: spire-agent-socket
        readOnly: true
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: vl3-nse-red-service-account-token-qgfv5
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    nodeName: kind-2-control-plane
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext: {}
    serviceAccount: vl3-nse-red-service-account
    serviceAccountName: vl3-nse-red-service-account
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - configMap:
        defaultMode: 420
        name: vl3-nse-red-config-map
      name: universal-cnf-config-volume
    - hostPath:
        path: /run/spire/sockets
        type: DirectoryOrCreate
      name: spire-agent-socket
    - name: vl3-nse-red-service-account-token-qgfv5
      secret:
        defaultMode: 420
        secretName: vl3-nse-red-service-account-token-qgfv5
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2021-05-12T16:12:30Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2021-05-12T16:12:34Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2021-05-12T16:12:34Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2021-05-12T16:12:29Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: containerd://3f6f44f3e9b0cbe2d260036b514700f3a643fdf57e7bbc7a8ec083a265c7db57
      image: public.ecr.aws/ciscoeti/appn/vl3_ucnf-nse:latest
      imageID: public.ecr.aws/ciscoeti/appn/vl3_ucnf-nse@sha256:f17755483d8866dc507ebc70e9b817fbfcd82b7f6b167997679aa39a5563cb52
      lastState: {}
      name: vl3-nse-red
      ready: true
      restartCount: 0
      started: true
      state:
        running:
          startedAt: "2021-05-12T16:12:34Z"
    hostIP: 172.17.0.3
    phase: Running
    podIP: 10.244.0.26
    podIPs:
    - ip: 10.244.0.26
    qosClass: BestEffort
    startTime: "2021-05-12T16:12:30Z"
- metadata:
    annotations:
      sidecar.istio.io/inject: "false"
      wcm/nsr.address: red.nispatil-wcm-cisco.com
      wcm/nsr.port: "443"
    creationTimestamp: "2021-05-12T16:12:29Z"
    generateName: vl3-nse-red-59ffd88496-
    labels:
      networkservicemesh.io/app: vl3-nse-red
      networkservicemesh.io/impl: red
      pod-template-hash: 59ffd88496
      wcm-nse: red
      wcm/nse.servicename: red
    name: vl3-nse-red-59ffd88496-gkf2b
    namespace: wcm-system
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: vl3-nse-red-59ffd88496
      uid: 8fb98a3c-f4ee-410f-9391-6f1500d940ce
    resourceVersion: "10480"
    selfLink: /api/v1/namespaces/wcm-system/pods/vl3-nse-red-59ffd88496-gkf2b
    uid: 88a3e2c4-2eb5-431e-a28a-6f40b39e7ef4
  spec:
    containers:
    - env:
      - name: ENDPOINT_NETWORK_SERVICE
        value: red
      - name: ENDPOINT_LABELS
        value: app=vl3-nse-red
      - name: TRACER_ENABLED
        value: "true"
      - name: JAEGER_SERVICE_HOST
        value: wcm-jaeger.nsm-system
      - name: JAEGER_SERVICE_PORT_JAEGER
        value: "6831"
      - name: JAEGER_AGENT_HOST
        value: wcm-jaeger.nsm-system
      - name: JAEGER_AGENT_PORT
        value: "6831"
      - name: WORKLOAD_REFRESH_INTERVAL
        value: 2h30m
      - name: NSREGISTRY_ADDR
        value: wcm-nsmgr.nsm-system
      - name: NSREGISTRY_PORT
        value: "5000"
      - name: CLUSTER_NAME
        value: test
      - name: NSE_POD_IP
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: status.podIP
      - name: NSE_POD_NAME
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.name
      - name: NSM_REMOTE_NS_IP_LIST
        valueFrom:
          configMapKeyRef:
            key: remote.ip_list
            name: nsm-vl3-red-config-map
      - name: METRICS_PORT
        value: "2112"
      - name: WORKLOAD_METRICS_PORT
        value: "3000"
      - name: INSECURE
        value: "false"
      image: public.ecr.aws/ciscoeti/appn/vl3_ucnf-nse:latest
      imagePullPolicy: IfNotPresent
      name: vl3-nse-red
      ports:
      - containerPort: 9191
        name: monitoring-vpp
        protocol: TCP
      - containerPort: 2112
        name: monitoring
        protocol: TCP
      - containerPort: 3000
        name: workload
        protocol: TCP
      resources:
        limits:
          networkservicemesh.io/socket: "1"
        requests:
          networkservicemesh.io/socket: "1"
      securityContext:
        capabilities:
          add:
          - NET_ADMIN
        privileged: true
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /etc/universal-cnf/config.yaml
        name: universal-cnf-config-volume
        subPath: config.yaml
      - mountPath: /run/spire/sockets
        name: spire-agent-socket
        readOnly: true
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: vl3-nse-red-service-account-token-qgfv5
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    nodeName: kind-2-control-plane
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext: {}
    serviceAccount: vl3-nse-red-service-account
    serviceAccountName: vl3-nse-red-service-account
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - configMap:
        defaultMode: 420
        name: vl3-nse-red-config-map
      name: universal-cnf-config-volume
    - hostPath:
        path: /run/spire/sockets
        type: DirectoryOrCreate
      name: spire-agent-socket
    - name: vl3-nse-red-service-account-token-qgfv5
      secret:
        defaultMode: 420
        secretName: vl3-nse-red-service-account-token-qgfv5
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2021-05-12T16:12:30Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2021-05-12T16:12:34Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2021-05-12T16:12:34Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2021-05-12T16:12:29Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: containerd://5de5f0bc0a730ff8e47758c90fb6a46e2fd238eeac58f3b6c01636a84adfadb2
      image: public.ecr.aws/ciscoeti/appn/vl3_ucnf-nse:latest
      imageID: public.ecr.aws/ciscoeti/appn/vl3_ucnf-nse@sha256:f17755483d8866dc507ebc70e9b817fbfcd82b7f6b167997679aa39a5563cb52
      lastState: {}
      name: vl3-nse-red
      ready: true
      restartCount: 0
      started: true
      state:
        running:
          startedAt: "2021-05-12T16:12:34Z"
    hostIP: 172.17.0.3
    phase: Running
    podIP: 10.244.0.25
    podIPs:
    - ip: 10.244.0.25
    qosClass: BestEffort
    startTime: "2021-05-12T16:12:30Z"
- metadata:
    creationTimestamp: "2021-05-12T16:11:36Z"
    generateName: wcm-nse-discovery-5b69d8f7f8-
    labels:
      app: nse-discovery-wcm
      membercore: wcm
      pod-template-hash: 5b69d8f7f8
    name: wcm-nse-discovery-5b69d8f7f8-kkmqd
    namespace: wcm-system
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: wcm-nse-discovery-5b69d8f7f8
      uid: 72a9d037-26e1-468e-b793-5b192ddb8846
    resourceVersion: "10206"
    selfLink: /api/v1/namespaces/wcm-system/pods/wcm-nse-discovery-5b69d8f7f8-kkmqd
    uid: 28b7e9c2-202a-4150-977c-d1f26dab9114
  spec:
    containers:
    - env:
      - name: POD_UID
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.uid
      - name: CLUSTER_NAME
        value: member1
      - name: INSECURE
        value: "false"
      - name: NSE_NAMESPACE
        value: wcm-system
      - name: NSR_ADDRESS
        value: wcm-proxy-nsmgr.nsm-system:5005
      - name: METRICS_PORT
        value: "2112"
      image: public.ecr.aws/ciscoeti/appn/nse-discovery-operator:latest
      imagePullPolicy: IfNotPresent
      name: wcm-nse-discovery
      ports:
      - containerPort: 2112
        name: monitoring
        protocol: TCP
      resources: {}
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /run/spire/sockets
        name: spire-agent-socket
        readOnly: true
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: wcm-nse-discovery-service-account-token-ss2hh
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    nodeName: kind-2-control-plane
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext: {}
    serviceAccount: wcm-nse-discovery-service-account
    serviceAccountName: wcm-nse-discovery-service-account
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - hostPath:
        path: /run/spire/sockets
        type: DirectoryOrCreate
      name: spire-agent-socket
    - name: wcm-nse-discovery-service-account-token-ss2hh
      secret:
        defaultMode: 420
        secretName: wcm-nse-discovery-service-account-token-ss2hh
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2021-05-12T16:11:36Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2021-05-12T16:11:38Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2021-05-12T16:11:38Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2021-05-12T16:11:36Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: containerd://d40b901342b15679ad0defac5a39010b3772decee7a9c91d127d0b0b7eb10abe
      image: public.ecr.aws/ciscoeti/appn/nse-discovery-operator:latest
      imageID: public.ecr.aws/ciscoeti/appn/nse-discovery-operator@sha256:d1343e7abf6a354a150dd3bcdb35ec28232a349b94b4beb84b8c44b2c4891286
      lastState: {}
      name: wcm-nse-discovery
      ready: true
      restartCount: 0
      started: true
      state:
        running:
          startedAt: "2021-05-12T16:11:37Z"
    hostIP: 172.17.0.3
    phase: Running
    podIP: 10.244.0.23
    podIPs:
    - ip: 10.244.0.23
    qosClass: BestEffort
    startTime: "2021-05-12T16:11:36Z"
- metadata:
    creationTimestamp: "2021-05-12T16:11:52Z"
    generateName: wcm-nse-operator-845589cf95-
    labels:
      name: wcm-nse-operator
      pod-template-hash: 845589cf95
    name: wcm-nse-operator-845589cf95-xjhbt
    namespace: wcm-system
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: wcm-nse-operator-845589cf95
      uid: 2202fa2a-59b0-4f85-9fa6-f8da77c98929
    resourceVersion: "10315"
    selfLink: /api/v1/namespaces/wcm-system/pods/wcm-nse-operator-845589cf95-xjhbt
    uid: 6ac5b218-d105-4ae4-9c65-cee0aba0e80d
  spec:
    containers:
    - command:
      - wcm-nse-operator
      env:
      - name: WATCH_NAMESPACE
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.namespace
      - name: POD_NAME
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.name
      - name: OPERATOR_NAME
        value: wcm-nse-operator
      - name: CONFIG_PATH
        value: etc/wcm-vpp-nse-configmap/config.yaml
      image: public.ecr.aws/ciscoeti/appn/wcm-nse-operator:latest
      imagePullPolicy: IfNotPresent
      name: wcm-nse-operator
      resources: {}
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: etc/wcm-vpp-nse-configmap/config.yaml
        name: config-data-wcm-nse
        subPath: config.yaml
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: wcm-nse-operator-token-58866
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    nodeName: kind-2-control-plane
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext: {}
    serviceAccount: wcm-nse-operator
    serviceAccountName: wcm-nse-operator
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - configMap:
        defaultMode: 420
        name: wcm-vpp-nse-configmap
      name: config-data-wcm-nse
    - name: wcm-nse-operator-token-58866
      secret:
        defaultMode: 420
        secretName: wcm-nse-operator-token-58866
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2021-05-12T16:11:52Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2021-05-12T16:11:53Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2021-05-12T16:11:53Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2021-05-12T16:11:52Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: containerd://82cce63c967b34ee4deac17456af8fc648cf28398827f74c086da7dc008e378b
      image: public.ecr.aws/ciscoeti/appn/wcm-nse-operator:latest
      imageID: public.ecr.aws/ciscoeti/appn/wcm-nse-operator@sha256:97ad22ffda3b7b3cb379525f5de555ba1b738ea3773ea6af1d7718bca15c0d23
      lastState: {}
      name: wcm-nse-operator
      ready: true
      restartCount: 0
      started: true
      state:
        running:
          startedAt: "2021-05-12T16:11:53Z"
    hostIP: 172.17.0.3
    phase: Running
    podIP: 10.244.0.24
    podIPs:
    - ip: 10.244.0.24
    qosClass: BestEffort
    startTime: "2021-05-12T16:11:52Z"
kind: PodList
metadata:
  resourceVersion: "12614"
  selfLink: /api/v1/namespaces/wcm-system/pods
