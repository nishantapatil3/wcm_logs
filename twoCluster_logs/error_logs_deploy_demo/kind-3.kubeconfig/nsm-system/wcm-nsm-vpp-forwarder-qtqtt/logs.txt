==== START logs for container wcm-nsm-vpp-forwarder of pod nsm-system/wcm-nsm-vpp-forwarder-qtqtt ====
time="2021-05-12 16:11:36.26129" level=info msg="Starting agent version: v0.0.0-dev" BuildDate= CommitHash= loc="agent/agent.go(134)" logger=agent
time="2021-05-12 16:11:36.26282" level=info msg="Agent started with 2 plugins (took 1ms)" loc="agent/agent.go(179)" logger=agent
time="2021-05-12T16:11:36Z" level=info msg="Starting vppagent-forwarder..."
time="2021-05-12T16:11:36Z" level=info msg="Version: 935bb734"
time="2021-05-12T16:11:36Z" level=info msg="Creating logger from config: &{vppagent-forwarder@kind-3-control-plane false false [] 0xc0003cc780 0xc0003504d0 <nil> <nil> <nil>}"
2021/05/12 16:11:36 debug logging disabled
2021/05/12 16:11:36 Initializing logging reporter
2021/05/12 16:11:36 debug logging disabled
time="2021-05-12T16:11:36Z" level=info msg="==--> Start.VPPAgent.Forwarder() span:7542a0c839d3af99:7542a0c839d3af99:0000000000000000:1"
time="2021-05-12T16:11:36Z" level=info msg="==----> CreateForwarder() span:7542a0c839d3af99:5723a8e011e2a268:7542a0c839d3af99:1"
time="2021-05-12T16:11:36Z" level=info msg="==------> createForwartderConfig() span:7542a0c839d3af99:40e7a21daf0b7a30:5723a8e011e2a268:1"
time="2021-05-12T16:11:36Z" level=info msg=">><<------ FORWARDER_NAME=\"vppagent (default value)\" span=7542a0c839d3af99:40e7a21daf0b7a30:5723a8e011e2a268:1"
time="2021-05-12T16:11:36Z" level=info msg=">><<------ FORWARDER_SOCKET=\"/var/lib/networkservicemesh/nsm-vppagent.forwarder.sock (default value)\" span=7542a0c839d3af99:40e7a21daf0b7a30:5723a8e011e2a268:1"
time="2021-05-12T16:11:36Z" level=info msg=">><<------ FORWARDER_SOCKET_TYPE=\"unix (default value)\" span=7542a0c839d3af99:40e7a21daf0b7a30:5723a8e011e2a268:1"
time="2021-05-12T16:11:36Z" level=info msg=">><<------ NSM_BASEDIR=\"/var/lib/networkservicemesh/ (default value)\" span=7542a0c839d3af99:40e7a21daf0b7a30:5723a8e011e2a268:1"
time="2021-05-12T16:11:36Z" level=info msg=">><<------ FORWARDER_REGISTRAR_SOCKET=\"/var/lib/networkservicemesh/nsm.forwarder-registrar.io.sock (default value)\" span=7542a0c839d3af99:40e7a21daf0b7a30:5723a8e011e2a268:1"
time="2021-05-12T16:11:36Z" level=info msg=">><<------ FORWARDER_REGISTRAR_SOCKET_TYPE=\"unix (default value)\" span=7542a0c839d3af99:40e7a21daf0b7a30:5723a8e011e2a268:1"
time="2021-05-12T16:11:36Z" level=info msg=">><<------ METRICS_COLLECTOR_ENABLED=false span=7542a0c839d3af99:40e7a21daf0b7a30:5723a8e011e2a268:1"
time="2021-05-12T16:11:36Z" level=info msg="Parts: [Iface Destination Gateway  Flags RefCnt Use Metric Mask  MTU Window IRTT]"
time="2021-05-12T16:11:36Z" level=info msg="Parts: [eth0 00000000 010011AC 0003 0 0 0 00000000 0 0 0]"
time="2021-05-12T16:11:36Z" level=info msg="Found default gateway 172.17.0.1 outgoing: eth0"
time="2021-05-12T16:11:36Z" level=info msg="INTERFACE: lo : [127.0.0.1/8]"
time="2021-05-12T16:11:36Z" level=info msg="INTERFACE: vethb93d9699 : [10.244.0.1/32]"
time="2021-05-12T16:11:36Z" level=info msg="INTERFACE: veth1d26101b : [10.244.0.1/32]"
time="2021-05-12T16:11:36Z" level=info msg="INTERFACE: vethb379d93e : [10.244.0.1/32]"
time="2021-05-12T16:11:36Z" level=info msg="INTERFACE: veth8476511c : [10.244.0.1/32]"
time="2021-05-12T16:11:36Z" level=info msg="INTERFACE: vetheef74e29 : [10.244.0.1/32]"
time="2021-05-12T16:11:36Z" level=info msg="INTERFACE: eth0 : [172.17.0.4/16]"
time="2021-05-12T16:11:36Z" level=info msg=">><<------ NSM_CONNECTION_MTU_OVERRIDE=0 span=7542a0c839d3af99:40e7a21daf0b7a30:5723a8e011e2a268:1"
time="2021-05-12T16:11:36Z" level=info msg="SrcIP: 172.17.0.4, IfaceName: eth0, SrcIPNet: 172.17.0.4/16" operation=createForwartderConfig span="7542a0c839d3af99:40e7a21daf0b7a30:5723a8e011e2a268:1"
time="2021-05-12T16:11:36Z" level=info msg=">><<------ config= span=7542a0c839d3af99:40e7a21daf0b7a30:5723a8e011e2a268:1"
2021/05/12 16:11:36 Reporting span 7542a0c839d3af99:40e7a21daf0b7a30:5723a8e011e2a268:1
time="2021-05-12T16:11:36Z" level=info msg="==------> NewServer() span:7542a0c839d3af99:42aab08473daf3bd:5723a8e011e2a268:1"
time="2021-05-12T16:11:36Z" level=info msg="==--------> GetCertificate() span:7542a0c839d3af99:7e32117ee4c3de0b:42aab08473daf3bd:1"
unix_config:471: couldn't open log '/var/log/vpp/vpp.log'
/usr/bin/vpp[19269]: clib_elf_parse_file: open `linux-vdso.so.1': No such file or directory
                                       __
  _  _____  ___ _______ ____ ____ ___ / /_  
 | |/ / _ \/ _ /___/ _ '/ _ '/ -_/ _ / __/  vpp-agent v3.2.0
 |___/ .__/ .__/   \_'_/\_' /\__/_//_\__/   Wed Nov  4 12:43:01 UTC 2020 (189 days ago)
    /_/  /_/           /___/                root@cac5a9849c6e (go1.15.2 linux/amd64)

time="2021-05-12 16:11:36.34310" level=info msg="Starting agent version: v3.2.0" BuildDate="Wed Nov  4 12:43:01 UTC 2020" CommitHash=f969fd3 loc="agent/agent.go(134)" logger=agent
time="2021-05-12 16:11:36.34413" level=info msg="ETCD config not found, skip loading this plugin" loc="etcd/plugin_impl_etcd.go(293)" logger=etcd
time="2021-05-12 16:11:36.34428" level=info msg="Consul config not found, skip loading this plugin" loc="consul/plugin.go(138)" logger=consul
time="2021-05-12 16:11:36.34454" level=info msg="Redis config not found, skip loading this plugin" loc="redis/plugin_impl_redis.go(123)" logger=redis
/usr/bin/vpp[19269]: clib_sysfs_prealloc_hugepages:261: pre-allocating 37 additional 2048K hugepages on numa node 0
/usr/bin/vpp[19269]: buffer: vlib_physmem_shared_map_create: pmalloc_map_pages: failed to mmap 37 pages at 0x1000000000 fd 4 numa 0 flags 0x11: Cannot allocate memory

/usr/bin/vpp[19269]: buffer: falling back to non-hugepage backed buffer pool
/usr/bin/vpp[19269]: perfmon: No table for cpuid 800f12
/usr/bin/vpp[19269]: perfmon:   model 1, stepping 2
/usr/bin/vpp[19269]: vat-plug/load: vat_plugin_register: gtpu plugin not loaded...
/usr/bin/vpp[19269]: vat-plug/load: vat_plugin_register: rdma plugin not loaded...
/usr/bin/vpp[19269]: vat-plug/load: vat_plugin_register: avf plugin not loaded...
/usr/bin/vpp[19269]: vat-plug/load: vat_plugin_register: pppoe plugin not loaded...
/usr/bin/vpp[19269]: vat-plug/load: vat_plugin_register: dhcp plugin not loaded...
/usr/bin/vpp[19269]: vat-plug/load: vat_plugin_register: oddbuf plugin not loaded...
2021/05/12 16:11:36 Reporting span 7542a0c839d3af99:7e32117ee4c3de0b:42aab08473daf3bd:1
time="2021-05-12T16:11:36Z" level=info msg="GRPC.NewServer with open tracing enabled" operation=NewServer span="7542a0c839d3af99:42aab08473daf3bd:5723a8e011e2a268:1"
2021/05/12 16:11:36 Reporting span 7542a0c839d3af99:42aab08473daf3bd:5723a8e011e2a268:1
time="2021-05-12T16:11:36Z" level=info msg="vppAgentEndpoint: localhost:9111"
time="2021-05-12T16:11:36Z" level=info msg="MonitorServerImpl.AddRecipient: CrossConnect-&{0xa60990 0xc00000c620 map[] 0xc00045f1a0}"
time="2021-05-12T16:11:36Z" level=info msg="Waiting for liveness probe: tcp:localhost:9111"
time="2021-05-12T16:11:36Z" level=info msg="CrossConnect - Serve starting..."
time="2021-05-12T16:11:36Z" level=info msg="Issued certificate with id: spiffe://test.com/wcm-nsm-vpp-forwarder"
time="2021-05-12 16:11:36.99354" level=info msg="VPP version: 20.05.1-6~gf53edbc3b~b1" ClientID=0 PID=19269 loc="govppmux/plugin_impl_govppmux.go(382)" logger=govpp
time="2021-05-12 16:11:37.01279" level=info msg="VPP proxy ready" loc="govppmux/plugin_impl_govppmux.go(177)" logger=govpp
time="2021-05-12 16:11:37.01364" level=info msg="kafka config not found  - skip loading this plugin" loc="kafka/plugin_impl_kafka.go(73)" logger=kafka
time="2021-05-12 16:11:37.01403" level=warning msg="Failed to list Docker containers: Get \"http://unix.sock/containers/json?all=1\": dial unix /var/run/docker.sock: connect: no such file or directory" loc="descriptor/microservice.go(304)" logger=linux-nsplugin.ms-descriptor
time="2021-05-12 16:11:37.02202" level=warning msg="VPP plugin wireguard was disabled by VPP" loc="wireguardplugin/wireguardplugin.go(51)" logger=vpp-wg-plugin
time="2021-05-12 16:11:37.02318" level=info msg="Found 42 registered models" loc="orchestrator/orchestrator.go(101)" logger=orchestrator
time="2021-05-12 16:11:37.02362" level=info msg="Watching 40 key prefixes from KVScheduler" loc="orchestrator/orchestrator.go(108)" logger=dispatcher
time="2021-05-12 16:11:37.02424" level=info msg="VPP Wg handler is not available, it will be skipped" loc="configurator/plugin.go(156)" logger=configurator
time="2021-05-12 16:11:37.02446" level=info msg="Wireguard handler is not available, it will be skipped" loc="restapi/plugin_restapi.go(174)" logger=restpapi
time="2021-05-12 16:11:37.02476" level=info msg="polling period changed to 5s" loc="telemetry/telemetry.go(112)" logger=telemetry
time="2021-05-12 16:11:37.02724" level=info msg="Serving on http://0.0.0.0:9191" loc="rest/plugin_impl_rest.go(114)" logger=http
time="2021-05-12 16:11:37.02781" level=info msg="Agent plugin state update." lastErr="<nil>" loc="statuscheck/plugin_impl_statuscheck.go(183)" logger=status-check plugin=govpp state=ok
time="2021-05-12 16:11:37.03678" level=info msg="Listening GRPC on: localhost:9111" loc="grpc/plugin_impl_grpc.go(152)" logger=grpc
time="2021-05-12 16:11:37.03877" level=info msg="Starting health http-probe on port 9191" loc="probe/plugin_impl_probe.go(75)" logger=probe
time="2021-05-12 16:11:37.03891" level=info msg="Unable to register prometheus-probe handler, Prometheus is nil" loc="probe/plugin_impl_probe.go(87)" logger=probe
time="2021-05-12 16:11:37.03901" level=info msg="Serving /metrics on port 9191" loc="prometheus/plugin_impl_prometheus.go(88)" logger=prometheus
time="2021-05-12 16:11:37.03910" level=warning msg="No registrations, skipping resync" loc="resync/plugin_impl_resync.go(98)" logger=resync
time="2021-05-12 16:11:37.03918" level=info msg="Agent plugin state update." lastErr="<nil>" loc="statuscheck/plugin_impl_statuscheck.go(183)" logger=status-check plugin=VPPAgent state=ok
time="2021-05-12 16:11:37.03926" level=info msg="Agent started with 40 plugins (took 696ms)" loc="agent/agent.go(179)" logger=agent
time="2021-05-12 16:11:37.04620" level=warning msg="grpc: Server.Serve failed to create ServerTransport: connection error: desc = \"transport: http2Server.HandleStreams failed to receive the preface from client: EOF\"" loc="grpclog/grpclog.go(42)" logger=grpc.grpc-server
time="2021-05-12T16:11:37Z" level=info msg="Resetting vppagent..."
time="2021-05-12T16:11:37Z" level=info msg=">><<-- /ligato.configurator.ConfiguratorService/Update()=\"\" span=<nil>"
time="2021-05-12T16:11:37Z" level=info msg=">><<-- request={\"update\":{},\"full_resync\":true} span=<nil>"
+======================================================================================================================+
| #0 - NBTransaction                                                                                        FullResync |
+======================================================================================================================+
  * transaction arguments:
      - seqNum: 0
      - type: NB Transaction, Full Resync
      - values:

o----------------------------------------------------------------------------------------------------------------------o
  * executed operations:
      <NONE>
x----------------------------------------------------------------------------------------------------------------------x
| #0 - NBTransaction                                                                                      took 262.6ms |
x----------------------------------------------------------------------------------------------------------------------x

+======================================================================================================================+
| #1 - SBNotification                                                                                                  |
+======================================================================================================================+
  * transaction arguments:
      - seqNum: 1
      - type: SB Notification
      - values:
          - key: linux/interface/host-name/vethd1f26263
            val: <EMPTY>

o----------------------------------------------------------------------------------------------------------------------o
  * executed operations (2021-05-12 16:11:37.32 +0000 UTC -> 2021-05-12 16:11:37.32 +0000 UTC, dur: 0s):
      1. CREATE [OBTAINED]:
          - key: linux/interface/host-name/vethd1f26263
          - value: <EMPTY> 
x----------------------------------------------------------------------------------------------------------------------x
| #1 - SBNotification                                                                                       took 300µs |
x----------------------------------------------------------------------------------------------------------------------x

time="2021-05-12 16:11:37.32070" level=info msg="Transaction 1 successful!" loc="kvscheduler/txn_process.go(405)" logger=kvscheduler
time="2021-05-12 16:11:37.32105" level=info msg="Transaction #0 successful! (took 263.9ms)" loc="orchestrator/dispatcher.go(178)" logger=dispatcher
2021/05/12 16:11:37 Reporting span 2a76a38219dd1f23:2a76a38219dd1f23:0000000000000000:1
time="2021-05-12T16:11:37Z" level=info msg=">><<-- response={} span=<nil>"
time="2021-05-12T16:11:37Z" level=info msg="Finished resetting vppagent..."
time="2021-05-12T16:11:37Z" level=info msg="Waiting for liveness probe: tcp:localhost:9111"
time="2021-05-12 16:11:37.32370" level=warning msg="grpc: Server.Serve failed to create ServerTransport: connection error: desc = \"transport: http2Server.HandleStreams failed to receive the preface from client: EOF\"" loc="grpclog/grpclog.go(42)" logger=grpc.grpc-server
time="2021-05-12T16:11:37Z" level=warning msg="SRv6 remote mechanism is not supported: Mgmt Interface does not have local IPv6 address"
time="2021-05-12T16:11:37Z" level=info msg="Setting up Mgmt Interface update:{vpp_config:{interfaces:{name:\"mgmt\" type:AF_PACKET enabled:true phys_address:\"02:42:ac:11:00:04\" ip_addresses:\"172.17.0.4/16\" afpacket:{host_if_name:\"eth0\"}} acls:{name:\"NSMmgmtInterfaceACL\" rules:{action:PERMIT ip_rule:{ip:{destination_network:\"172.17.0.4/32\" source_network:\"0.0.0.0/0\"} udp:{destination_port_range:{lower_port:4789 upper_port:4789} source_port_range:{upper_port:65535}}}} rules:{action:REFLECT ip_rule:{ip:{destination_network:\"172.17.0.4/32\" source_network:\"0.0.0.0/0\"} udp:{destination_port_range:{lower_port:4500 upper_port:4500} source_port_range:{upper_port:65535}}}} interfaces:{ingress:\"mgmt\"}} routes:{type:INTER_VRF dst_network:\"0.0.0.0/0\" next_hop_addr:\"172.17.0.1\" outgoing_interface:\"mgmt\" weight:1} arps:{interface:\"mgmt\" ip_address:\"10.244.0.19\" phys_address:\"8a:1d:21:26:a6:7d\"} arps:{interface:\"mgmt\" ip_address:\"10.244.0.16\" phys_address:\"2e:af:59:b5:f9:c8\"} arps:{interface:\"mgmt\" ip_address:\"10.244.0.3\" phys_address:\"82:97:97:ec:33:21\"} arps:{interface:\"mgmt\" ip_address:\"10.244.0.18\" phys_address:\"ca:32:be:4f:12:1e\"} arps:{interface:\"mgmt\" ip_address:\"10.244.0.15\" phys_address:\"3e:b3:dc:1c:25:0a\"} arps:{interface:\"mgmt\" ip_address:\"10.244.0.2\" phys_address:\"12:e2:fb:7f:4b:01\"} arps:{interface:\"mgmt\" ip_address:\"172.17.0.1\" phys_address:\"02:42:63:5c:62:60\"} arps:{interface:\"mgmt\" ip_address:\"10.244.0.4\" phys_address:\"be:9f:3c:8b:02:be\"} arps:{interface:\"mgmt\" ip_address:\"10.244.0.17\" phys_address:\"52:a6:4e:9e:1a:d5\"}}}"
time="2021-05-12T16:11:37Z" level=info msg=">><<-- /ligato.configurator.ConfiguratorService/Update()=\"\" span=<nil>"
time="2021-05-12T16:11:37Z" level=info msg=">><<-- request={\"update\":{\"vpp_config\":{\"interfaces\":[{\"name\":\"mgmt\",\"type\":\"AF_PACKET\",\"enabled\":true,\"physAddress\":\"02:42:ac:11:00:04\",\"ipAddresses\":[\"172.17.0.4/16\"],\"afpacket\":{\"hostIfName\":\"eth0\"}}],\"acls\":[{\"name\":\"NSMmgmtInterfaceACL\",\"rules\":[{\"action\":1,\"ip_rule\":{\"ip\":{\"destination_network\":\"172.17.0.4/32\",\"source_network\":\"0.0.0.0/0\"},\"udp\":{\"destination_port_range\":{\"lower_port\":4789,\"upper_port\":4789},\"source_port_range\":{\"upper_port\":65535}}}},{\"action\":2,\"ip_rule\":{\"ip\":{\"destination_network\":\"172.17.0.4/32\",\"source_network\":\"0.0.0.0/0\"},\"udp\":{\"destination_port_range\":{\"lower_port\":4500,\"upper_port\":4500},\"source_port_range\":{\"upper_port\":65535}}}}],\"interfaces\":{\"ingress\":[\"mgmt\"]}}],\"routes\":[{\"type\":1,\"dst_network\":\"0.0.0.0/0\",\"next_hop_addr\":\"172.17.0.1\",\"outgoing_interface\":\"mgmt\",\"weight\":1}],\"arps\":[{\"interface\":\"mgmt\",\"ip_address\":\"10.244.0.19\",\"phys_address\":\"8a:1d:21:26:a6:7d\"},{\"interface\":\"mgmt\",\"ip_address\":\"10.244.0.16\",\"phys_address\":\"2e:af:59:b5:f9:c8\"},{\"interface\":\"mgmt\",\"ip_address\":\"10.244.0.3\",\"phys_address\":\"82:97:97:ec:33:21\"},{\"interface\":\"mgmt\",\"ip_address\":\"10.244.0.18\",\"phys_address\":\"ca:32:be:4f:12:1e\"},{\"interface\":\"mgmt\",\"ip_address\":\"10.244.0.15\",\"phys_address\":\"3e:b3:dc:1c:25:0a\"},{\"interface\":\"mgmt\",\"ip_address\":\"10.244.0.2\",\"phys_address\":\"12:e2:fb:7f:4b:01\"},{\"interface\":\"mgmt\",\"ip_address\":\"172.17.0.1\",\"phys_address\":\"02:42:63:5c:62:60\"},{\"interface\":\"mgmt\",\"ip_address\":\"10.244.0.4\",\"phys_address\":\"be:9f:3c:8b:02:be\"},{\"interface\":\"mgmt\",\"ip_address\":\"10.244.0.17\",\"phys_address\":\"52:a6:4e:9e:1a:d5\"}]}}} span=<nil>"
+======================================================================================================================+
| #2 - NBTransaction                                                                                                   |
+======================================================================================================================+
  * transaction arguments:
      - seqNum: 2
      - type: NB Transaction
      - values:
          - key: config/vpp/acls/v2/acl/NSMmgmtInterfaceACL
            val: { name:"NSMmgmtInterfaceACL" rules:{action:PERMIT ip_rule:{ip:{destination_network:"172.17.0.4/32" source_network:"0.0.0.0/0"} udp:{destination_port_range:{lower_port:4789 upper_port:4789} source_port_range:{upper_port:65535}}}} rules:{action:REFLECT ip_rule:{ip:{destination_network:"172.17.0.4/32" source_network:"0.0.0.0/0"} udp:{destination_port_range:{lower_port:4500 upper_port:4500} source_port_range:{upper_port:65535}}}} interfaces:{ingress:"mgmt"} }
          - key: config/vpp/v2/arp/mgmt/10.244.0.15
            val: { interface:"mgmt" ip_address:"10.244.0.15" phys_address:"3e:b3:dc:1c:25:0a" }
          - key: config/vpp/v2/arp/mgmt/10.244.0.16
            val: { interface:"mgmt" ip_address:"10.244.0.16" phys_address:"2e:af:59:b5:f9:c8" }
          - key: config/vpp/v2/arp/mgmt/10.244.0.17
            val: { interface:"mgmt" ip_address:"10.244.0.17" phys_address:"52:a6:4e:9e:1a:d5" }
          - key: config/vpp/v2/arp/mgmt/10.244.0.18
            val: { interface:"mgmt" ip_address:"10.244.0.18" phys_address:"ca:32:be:4f:12:1e" }
          - key: config/vpp/v2/arp/mgmt/10.244.0.19
            val: { interface:"mgmt" ip_address:"10.244.0.19" phys_address:"8a:1d:21:26:a6:7d" }
          - key: config/vpp/v2/arp/mgmt/10.244.0.2
            val: { interface:"mgmt" ip_address:"10.244.0.2" phys_address:"12:e2:fb:7f:4b:01" }
          - key: config/vpp/v2/arp/mgmt/10.244.0.3
            val: { interface:"mgmt" ip_address:"10.244.0.3" phys_address:"82:97:97:ec:33:21" }
          - key: config/vpp/v2/arp/mgmt/10.244.0.4
            val: { interface:"mgmt" ip_address:"10.244.0.4" phys_address:"be:9f:3c:8b:02:be" }
          - key: config/vpp/v2/arp/mgmt/172.17.0.1
            val: { interface:"mgmt" ip_address:"172.17.0.1" phys_address:"02:42:63:5c:62:60" }
          - key: config/vpp/v2/interfaces/mgmt
            val: { name:"mgmt" type:AF_PACKET enabled:true phys_address:"02:42:ac:11:00:04" ip_addresses:"172.17.0.4/16" afpacket:{host_if_name:"eth0"} }
          - key: config/vpp/v2/route/if/mgmt/vrf/0/dst/0.0.0.0/0/gw/172.17.0.1
            val: { type:INTER_VRF dst_network:"0.0.0.0/0" next_hop_addr:"172.17.0.1" outgoing_interface:"mgmt" weight:1 }

o----------------------------------------------------------------------------------------------------------------------o
  * executed operations (2021-05-12 16:11:37.336 +0000 UTC -> 2021-05-12 16:11:37.463 +0000 UTC, dur: 127ms):
      1. CREATE:
          - key: config/vpp/acls/v2/acl/NSMmgmtInterfaceACL
          - value: { name:"NSMmgmtInterfaceACL" rules:{action:PERMIT ip_rule:{ip:{destination_network:"172.17.0.4/32" source_network:"0.0.0.0/0"} udp:{destination_port_range:{lower_port:4789 upper_port:4789} source_port_range:{upper_port:65535}}}} rules:{action:REFLECT ip_rule:{ip:{destination_network:"172.17.0.4/32" source_network:"0.0.0.0/0"} udp:{destination_port_range:{lower_port:4500 upper_port:4500} source_port_range:{upper_port:65535}}}} interfaces:{ingress:"mgmt"} } 
      2. CREATE:
          - key: config/vpp/v2/interfaces/mgmt
          - value: { name:"mgmt" type:AF_PACKET enabled:true phys_address:"02:42:ac:11:00:04" ip_addresses:"172.17.0.4/16" afpacket:{host_if_name:"eth0"} } 
      3. CREATE:
          - key: config/vpp/v2/arp/mgmt/10.244.0.15
          - value: { interface:"mgmt" ip_address:"10.244.0.15" phys_address:"3e:b3:dc:1c:25:0a" } 
      4. CREATE:
          - key: config/vpp/v2/arp/mgmt/10.244.0.16
          - value: { interface:"mgmt" ip_address:"10.244.0.16" phys_address:"2e:af:59:b5:f9:c8" } 
      5. CREATE:
          - key: config/vpp/v2/arp/mgmt/10.244.0.17
          - value: { interface:"mgmt" ip_address:"10.244.0.17" phys_address:"52:a6:4e:9e:1a:d5" } 
      6. CREATE:
          - key: config/vpp/v2/arp/mgmt/10.244.0.18
          - value: { interface:"mgmt" ip_address:"10.244.0.18" phys_address:"ca:32:be:4f:12:1e" } 
      7. CREATE:
          - key: config/vpp/v2/arp/mgmt/10.244.0.19
          - value: { interface:"mgmt" ip_address:"10.244.0.19" phys_address:"8a:1d:21:26:a6:7d" } 
      8. CREATE:
          - key: config/vpp/v2/arp/mgmt/10.244.0.2
          - value: { interface:"mgmt" ip_address:"10.244.0.2" phys_address:"12:e2:fb:7f:4b:01" } 
      9. CREATE:
          - key: config/vpp/v2/arp/mgmt/10.244.0.3
          - value: { interface:"mgmt" ip_address:"10.244.0.3" phys_address:"82:97:97:ec:33:21" } 
      10. CREATE:
          - key: config/vpp/v2/arp/mgmt/10.244.0.4
          - value: { interface:"mgmt" ip_address:"10.244.0.4" phys_address:"be:9f:3c:8b:02:be" } 
      11. CREATE:
          - key: config/vpp/v2/arp/mgmt/172.17.0.1
          - value: { interface:"mgmt" ip_address:"172.17.0.1" phys_address:"02:42:63:5c:62:60" } 
      12. CREATE [DERIVED]:
          - key: vpp/acl/NSMmgmtInterfaceACL/interface/ingress/mgmt
          - value: <EMPTY> 
      13. CREATE [DERIVED]:
          - key: vpp/interface/mgmt/vrf/0/ip-version/v4
          - value: <EMPTY> 
      14. CREATE [DERIVED]:
          - key: vpp/interface/mgmt/address/static/172.17.0.4/16
          - value: <EMPTY> 
      15. CREATE [DERIVED]:
          - key: vpp/interface/mgmt/has-IP-address
          - value: <EMPTY> 
      16. CREATE:
          - key: config/vpp/v2/route/if/mgmt/vrf/0/dst/0.0.0.0/0/gw/172.17.0.1
          - value: { type:INTER_VRF dst_network:"0.0.0.0/0" next_hop_addr:"172.17.0.1" outgoing_interface:"mgmt" weight:1 } 
x----------------------------------------------------------------------------------------------------------------------x
| #2 - NBTransaction                                                                                      took 126.9ms |
x----------------------------------------------------------------------------------------------------------------------x

+======================================================================================================================+
| #3 - SBNotification                                                                                                  |
+======================================================================================================================+
  * transaction arguments:
      - seqNum: 3
      - type: SB Notification
      - values:
          - key: vpp/interface/mgmt/link-state/DOWN
            val: <EMPTY>

o----------------------------------------------------------------------------------------------------------------------o
  * executed operations (2021-05-12 16:11:37.466 +0000 UTC -> 2021-05-12 16:11:37.467 +0000 UTC, dur: 1ms):
      1. CREATE [OBTAINED]:
          - key: vpp/interface/mgmt/link-state/DOWN
          - value: <EMPTY> 
x----------------------------------------------------------------------------------------------------------------------x
| #3 - SBNotification                                                                                       took 700µs |
x----------------------------------------------------------------------------------------------------------------------x

time="2021-05-12 16:11:37.46809" level=info msg="Transaction #2 successful! (took 129.7ms)" loc="orchestrator/dispatcher.go(178)" logger=dispatcher
2021/05/12 16:11:37 Reporting span 34df60b58b9cedd6:34df60b58b9cedd6:0000000000000000:1
time="2021-05-12T16:11:37Z" level=info msg=">><<-- response={} span=<nil>"
time="2021-05-12T16:11:37Z" level=info msg="Creating vppagent server..."
time="2021-05-12T16:11:37Z" level=info msg="vppagent server serving" operation=CreateForwarder span="7542a0c839d3af99:5723a8e011e2a268:7542a0c839d3af99:1"
time="2021-05-12 16:11:37.50315" level=info msg="Transaction 3 successful!" loc="kvscheduler/txn_process.go(405)" logger=kvscheduler
time="2021-05-12T16:11:37Z" level=info msg="Creating Forwarder Registrar Client..." operation=CreateForwarder span="7542a0c839d3af99:5723a8e011e2a268:7542a0c839d3af99:1"
time="2021-05-12T16:11:37Z" level=info msg="Registering with NetworkServiceManager"
time="2021-05-12T16:11:37Z" level=info msg="Retry interval: 30s"
time="2021-05-12T16:11:37Z" level=info msg="Waiting for liveness probe: unix:/var/lib/networkservicemesh/nsm.forwarder-registrar.io.sock"
+======================================================================================================================+
| #4 - SBNotification                                                                                                  |
+======================================================================================================================+
  * transaction arguments:
      - seqNum: 4
      - type: SB Notification
      - values:
          - key: linux/interface/host-name/veth5fa2bdf4
            val: <EMPTY>

o----------------------------------------------------------------------------------------------------------------------o
  * executed operations (2021-05-12 16:11:38.331 +0000 UTC -> 2021-05-12 16:11:38.331 +0000 UTC, dur: 0s):
      1. CREATE [OBTAINED]:
          - key: linux/interface/host-name/veth5fa2bdf4
          - value: <EMPTY> 
x----------------------------------------------------------------------------------------------------------------------x
| #4 - SBNotification                                                                                       took 200µs |
x----------------------------------------------------------------------------------------------------------------------x

time="2021-05-12 16:11:38.33136" level=info msg="Transaction 4 successful!" loc="kvscheduler/txn_process.go(405)" logger=kvscheduler
time="2021-05-12T16:11:40Z" level=info msg="Trying to register vppagent on socket /var/lib/networkservicemesh/nsm.forwarder-registrar.io.sock"
time="2021-05-12T16:11:40Z" level=info msg="vppagent: connection to forwarder registrar socket \"/var/lib/networkservicemesh/nsm.forwarder-registrar.io.sock\" succeeded."
time="2021-05-12T16:11:40Z" level=info msg=">><<------ /forwarderregistrar.ForwarderRegistration/RequestForwarderRegistration()=\"\" span=7542a0c839d3af99:5723a8e011e2a268:7542a0c839d3af99:1"
time="2021-05-12T16:11:40Z" level=info msg=">><<------ request={\"forwarder_name\":\"vppagent\",\"forwarder_socket\":\"/var/lib/networkservicemesh/nsm-vppagent.forwarder.sock\"} span=7542a0c839d3af99:5723a8e011e2a268:7542a0c839d3af99:1"
2021/05/12 16:11:40 Reporting span 7542a0c839d3af99:5a10c1417be1afc9:5723a8e011e2a268:1
time="2021-05-12T16:11:40Z" level=info msg=">><<------ response={\"registered\":true} span=7542a0c839d3af99:5723a8e011e2a268:7542a0c839d3af99:1"
time="2021-05-12T16:11:40Z" level=info msg="vppagent: send request to Forwarder Registrar: forwarder_name:\"vppagent\" forwarder_socket:\"/var/lib/networkservicemesh/nsm-vppagent.forwarder.sock\" "
time="2021-05-12T16:11:40Z" level=info msg="Registered Forwarder Registrar Client" operation=CreateForwarder span="7542a0c839d3af99:5723a8e011e2a268:7542a0c839d3af99:1"
2021/05/12 16:11:40 Reporting span 7542a0c839d3af99:5723a8e011e2a268:7542a0c839d3af99:1
2021/05/12 16:11:40 Reporting span 7542a0c839d3af99:7542a0c839d3af99:0000000000000000:1
time="2021-05-12T16:11:40Z" level=info msg="Starting ForwarderRegistrarClient liveliness monitor"
time="2021-05-12T16:11:40Z" level=info msg="MonitorServerImpl.AddRecipient: CrossConnect-&{0xc0001ca680}"
time="2021-05-12T16:11:40Z" level=info msg="==--> MonitorMecnahisms() span:0c5c31d741b97c09:0c5c31d741b97c09:0000000000000000:1"
time="2021-05-12T16:11:40Z" level=info msg="MonitorMechanisms was called" operation=MonitorMecnahisms span="0c5c31d741b97c09:0c5c31d741b97c09:0000000000000000:1"
time="2021-05-12T16:11:40Z" level=info msg="Sending MonitorMechanisms update: remote_mechanisms:<type:\"VXLAN\" parameters:<key:\"mtu_overhead\" value:\"50\" > parameters:<key:\"src_ip\" value:\"172.17.0.4\" > > remote_mechanisms:<type:\"IPSEC\" parameters:<key:\"mtu_overhead\" value:\"70\" > parameters:<key:\"src_ip\" value:\"172.17.0.4\" > > local_mechanisms:<type:\"MEMIF\" > local_mechanisms:<type:\"KERNEL_INTERFACE\" > " operation=MonitorMecnahisms span="0c5c31d741b97c09:0c5c31d741b97c09:0000000000000000:1"
2021/05/12 16:11:40 Reporting span 0c5c31d741b97c09:0c5c31d741b97c09:0000000000000000:1
+======================================================================================================================+
| #5 - SBNotification                                                                                                  |
+======================================================================================================================+
  * transaction arguments:
      - seqNum: 5
      - type: SB Notification
      - values:
          - key: linux/interface/host-name/veth3af4dae9
            val: <EMPTY>

o----------------------------------------------------------------------------------------------------------------------o
  * executed operations (2021-05-12 16:11:42.607 +0000 UTC -> 2021-05-12 16:11:42.607 +0000 UTC, dur: 0s):
      1. CREATE [OBTAINED]:
          - key: linux/interface/host-name/veth3af4dae9
          - value: <EMPTY> 
x----------------------------------------------------------------------------------------------------------------------x
| #5 - SBNotification                                                                                       took 400µs |
x----------------------------------------------------------------------------------------------------------------------x

time="2021-05-12 16:11:42.60755" level=info msg="Transaction 5 successful!" loc="kvscheduler/txn_process.go(405)" logger=kvscheduler
time="2021-05-12 16:11:43.02065" level=info msg="Agent plugin state update." lastErr="<nil>" loc="statuscheck/plugin_impl_statuscheck.go(183)" logger=status-check plugin=vpp-ifplugin state=ok
+======================================================================================================================+
| #6 - SBNotification                                                                                                  |
+======================================================================================================================+
  * transaction arguments:
      - seqNum: 6
      - type: SB Notification
      - values:
          - key: vpp/interface/mgmt/link-state/DOWN
            val: <NIL>
          - key: vpp/interface/mgmt/link-state/UP
            val: <EMPTY>

o----------------------------------------------------------------------------------------------------------------------o
  * executed operations (2021-05-12 16:11:43.021 +0000 UTC -> 2021-05-12 16:11:43.021 +0000 UTC, dur: 0s):
      1. DELETE [WAS-OBTAINED]:
          - key: vpp/interface/mgmt/link-state/DOWN
          - value: <EMPTY> 
      2. CREATE [OBTAINED]:
          - key: vpp/interface/mgmt/link-state/UP
          - value: <EMPTY> 
x----------------------------------------------------------------------------------------------------------------------x
| #6 - SBNotification                                                                                       took 400µs |
x----------------------------------------------------------------------------------------------------------------------x

time="2021-05-12 16:11:43.02144" level=info msg="Transaction 6 successful!" loc="kvscheduler/txn_process.go(405)" logger=kvscheduler
+======================================================================================================================+
| #7 - SBNotification                                                                                                  |
+======================================================================================================================+
  * transaction arguments:
      - seqNum: 7
      - type: SB Notification
      - values:
          - key: linux/interface/host-name/veth41c6e50f
            val: <EMPTY>

o----------------------------------------------------------------------------------------------------------------------o
  * executed operations (2021-05-12 16:11:56.895 +0000 UTC -> 2021-05-12 16:11:56.896 +0000 UTC, dur: 0s):
      1. CREATE [OBTAINED]:
          - key: linux/interface/host-name/veth41c6e50f
          - value: <EMPTY> 
x----------------------------------------------------------------------------------------------------------------------x
| #7 - SBNotification                                                                                       took 200µs |
x----------------------------------------------------------------------------------------------------------------------x

time="2021-05-12 16:11:56.89571" level=info msg="Transaction 7 successful!" loc="kvscheduler/txn_process.go(405)" logger=kvscheduler
+======================================================================================================================+
| #8 - SBNotification                                                                                                  |
+======================================================================================================================+
  * transaction arguments:
      - seqNum: 8
      - type: SB Notification
      - values:
          - key: linux/interface/host-name/veth1efed074
            val: <EMPTY>

time="2021-05-12 16:12:40.36804" level=info msg="Transaction 8 successful!" loc="kvscheduler/txn_process.go(405)" logger=kvscheduler
o----------------------------------------------------------------------------------------------------------------------o
  * executed operations (2021-05-12 16:12:40.368 +0000 UTC -> 2021-05-12 16:12:40.368 +0000 UTC, dur: 0s):
      1. CREATE [OBTAINED]:
          - key: linux/interface/host-name/veth1efed074
          - value: <EMPTY> 
x----------------------------------------------------------------------------------------------------------------------x
| #8 - SBNotification                                                                                       took 200µs |
x----------------------------------------------------------------------------------------------------------------------x

+======================================================================================================================+
| #9 - SBNotification                                                                                                  |
+======================================================================================================================+
  * transaction arguments:
      - seqNum: 9
      - type: SB Notification
      - values:
          - key: linux/interface/host-name/vethad5d6e0b
            val: <EMPTY>

o----------------------------------------------------------------------------------------------------------------------o
  * executed operations (2021-05-12 16:12:40.415 +0000 UTC -> 2021-05-12 16:12:40.416 +0000 UTC, dur: 0s):
      1. CREATE [OBTAINED]:
          - key: linux/interface/host-name/vethad5d6e0b
          - value: <EMPTY> 
x----------------------------------------------------------------------------------------------------------------------x
| #9 - SBNotification                                                                                       took 300µs |
x----------------------------------------------------------------------------------------------------------------------x

time="2021-05-12 16:12:40.41617" level=info msg="Transaction 9 successful!" loc="kvscheduler/txn_process.go(405)" logger=kvscheduler
time="2021-05-12 16:13:12.53632" level=info msg="Transaction 10 successful!" loc="kvscheduler/txn_process.go(405)" logger=kvscheduler
+======================================================================================================================+
| #10 - SBNotification                                                                                                 |
+======================================================================================================================+
  * transaction arguments:
      - seqNum: 10
      - type: SB Notification
      - values:
          - key: linux/interface/host-name/veth6fd15199
            val: <EMPTY>

o----------------------------------------------------------------------------------------------------------------------o
  * executed operations (2021-05-12 16:13:12.536 +0000 UTC -> 2021-05-12 16:13:12.536 +0000 UTC, dur: 0s):
      1. CREATE [OBTAINED]:
          - key: linux/interface/host-name/veth6fd15199
          - value: <EMPTY> 
x----------------------------------------------------------------------------------------------------------------------x
| #10 - SBNotification                                                                                      took 200µs |
x----------------------------------------------------------------------------------------------------------------------x

==== END logs for container wcm-nsm-vpp-forwarder of pod nsm-system/wcm-nsm-vpp-forwarder-qtqtt ====
