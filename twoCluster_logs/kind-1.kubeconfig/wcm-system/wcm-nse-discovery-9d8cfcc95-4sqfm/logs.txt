==== START logs for container wcm-nse-discovery of pod wcm-system/wcm-nse-discovery-9d8cfcc95-4sqfm ====
{"level":"info","ts":1621628276.0274649,"caller":"cmd/main.go:45","msg":"Starting WCM nse-discovery...","app":"nse-discovery"}
{"level":"info","ts":1621628276.0275307,"caller":"utils/nsrenv.go:29","msg":"All env variables:","app":"nse-discovery"}
{"level":"info","ts":1621628276.027545,"caller":"utils/nsrenv.go:31","msg":"WCM_NSE_DISCOVERY_SERVICE_PORT=2112","app":"nse-discovery"}
{"level":"info","ts":1621628276.0275545,"caller":"utils/nsrenv.go:31","msg":"WCM_NSE_DISCOVERY_PORT=tcp://10.104.182.35:2112","app":"nse-discovery"}
{"level":"info","ts":1621628276.0275686,"caller":"utils/nsrenv.go:31","msg":"WCM_NSE_OPERATOR_METRICS_SERVICE_PORT_HTTP_METRICS=8383","app":"nse-discovery"}
{"level":"info","ts":1621628276.027581,"caller":"utils/nsrenv.go:31","msg":"KUBERNETES_PORT=tcp://10.96.0.1:443","app":"nse-discovery"}
{"level":"info","ts":1621628276.0275931,"caller":"utils/nsrenv.go:31","msg":"WCM_NSE_OPERATOR_METRICS_SERVICE_HOST=10.102.104.55","app":"nse-discovery"}
{"level":"info","ts":1621628276.0275984,"caller":"utils/nsrenv.go:31","msg":"KUBERNETES_SERVICE_PORT=443","app":"nse-discovery"}
{"level":"info","ts":1621628276.0276031,"caller":"utils/nsrenv.go:31","msg":"METRICS_PORT=2112","app":"nse-discovery"}
{"level":"info","ts":1621628276.027619,"caller":"utils/nsrenv.go:31","msg":"NSE_NAMESPACE=wcm-system","app":"nse-discovery"}
{"level":"info","ts":1621628276.0276237,"caller":"utils/nsrenv.go:31","msg":"HOSTNAME=wcm-nse-discovery-9d8cfcc95-4sqfm","app":"nse-discovery"}
{"level":"info","ts":1621628276.0276291,"caller":"utils/nsrenv.go:31","msg":"SHLVL=1","app":"nse-discovery"}
{"level":"info","ts":1621628276.0276334,"caller":"utils/nsrenv.go:31","msg":"HOME=/root","app":"nse-discovery"}
{"level":"info","ts":1621628276.0276377,"caller":"utils/nsrenv.go:31","msg":"WCM_NSE_OPERATOR_METRICS_PORT_8383_TCP_ADDR=10.102.104.55","app":"nse-discovery"}
{"level":"info","ts":1621628276.0276463,"caller":"utils/nsrenv.go:31","msg":"EXAMPLE_WCMD_PORT_2112_TCP_ADDR=10.98.218.94","app":"nse-discovery"}
{"level":"info","ts":1621628276.0276518,"caller":"utils/nsrenv.go:31","msg":"WCM_NSE_OPERATOR_METRICS_PORT=tcp://10.102.104.55:8383","app":"nse-discovery"}
{"level":"info","ts":1621628276.0276606,"caller":"utils/nsrenv.go:31","msg":"WCM_NSE_OPERATOR_METRICS_SERVICE_PORT=8383","app":"nse-discovery"}
{"level":"info","ts":1621628276.0276914,"caller":"utils/nsrenv.go:31","msg":"EXAMPLE_WCMD_PORT_2112_TCP_PORT=2112","app":"nse-discovery"}
{"level":"info","ts":1621628276.0277054,"caller":"utils/nsrenv.go:31","msg":"WCM_NSE_OPERATOR_METRICS_PORT_8383_TCP_PORT=8383","app":"nse-discovery"}
{"level":"info","ts":1621628276.0277324,"caller":"utils/nsrenv.go:31","msg":"EXAMPLE_WCMD_PORT_2112_TCP_PROTO=tcp","app":"nse-discovery"}
{"level":"info","ts":1621628276.0277383,"caller":"utils/nsrenv.go:31","msg":"MY_COREDNS_COREDNS_SERVICE_HOST=10.104.3.18","app":"nse-discovery"}
{"level":"info","ts":1621628276.0277433,"caller":"utils/nsrenv.go:31","msg":"WCM_NSE_DISCOVERY_SERVICE_PORT_MONITORING=2112","app":"nse-discovery"}
{"level":"info","ts":1621628276.0277483,"caller":"utils/nsrenv.go:31","msg":"WCM_NSE_OPERATOR_METRICS_PORT_8383_TCP_PROTO=tcp","app":"nse-discovery"}
{"level":"info","ts":1621628276.0277543,"caller":"utils/nsrenv.go:31","msg":"EXAMPLE_CD_INFO_SERVICE_PORT_INFO_HTTP=50071","app":"nse-discovery"}
{"level":"info","ts":1621628276.0277789,"caller":"utils/nsrenv.go:31","msg":"EXAMPLE_SERVICE_PORT_GRPC_NSR=31505","app":"nse-discovery"}
{"level":"info","ts":1621628276.027788,"caller":"utils/nsrenv.go:31","msg":"CLUSTER_NAME=test","app":"nse-discovery"}
{"level":"info","ts":1621628276.0277958,"caller":"utils/nsrenv.go:31","msg":"EXAMPLE_SERVICE_HOST=10.105.51.86","app":"nse-discovery"}
{"level":"info","ts":1621628276.0278037,"caller":"utils/nsrenv.go:31","msg":"WCM_NSE_OPERATOR_METRICS_PORT_8686_TCP_ADDR=10.102.104.55","app":"nse-discovery"}
{"level":"info","ts":1621628276.027834,"caller":"utils/nsrenv.go:31","msg":"WCM_ETCD_CLUSTER_CLIENT_SERVICE_SERVICE_HOST=10.99.188.8","app":"nse-discovery"}
{"level":"info","ts":1621628276.0278416,"caller":"utils/nsrenv.go:31","msg":"EXAMPLE_CD_INFO_SERVICE_HOST=10.97.8.156","app":"nse-discovery"}
{"level":"info","ts":1621628276.0278494,"caller":"utils/nsrenv.go:31","msg":"WCM_ETCD_CLUSTER_CLIENT_SERVICE_HOST=10.109.93.42","app":"nse-discovery"}
{"level":"info","ts":1621628276.027857,"caller":"utils/nsrenv.go:31","msg":"WCM_NSE_OPERATOR_METRICS_PORT_8686_TCP_PORT=8686","app":"nse-discovery"}
{"level":"info","ts":1621628276.0278654,"caller":"utils/nsrenv.go:31","msg":"EXAMPLE_WCMD_SERVICE_PORT_GRPC_REGISTRY=50061","app":"nse-discovery"}
{"level":"info","ts":1621628276.0278895,"caller":"utils/nsrenv.go:31","msg":"WCM_ETCD_CLUSTER_CLIENT_SERVICE_PORT_CLIENT=2379","app":"nse-discovery"}
{"level":"info","ts":1621628276.0278952,"caller":"utils/nsrenv.go:31","msg":"EXAMPLE_WCMD_SERVICE_HOST=10.98.218.94","app":"nse-discovery"}
{"level":"info","ts":1621628276.0279,"caller":"utils/nsrenv.go:31","msg":"EXAMPLE_WCMD_SERVICE_PORT_GRPC_ALLOCATOR=50051","app":"nse-discovery"}
{"level":"info","ts":1621628276.027905,"caller":"utils/nsrenv.go:31","msg":"WCM_NSE_OPERATOR_METRICS_PORT_8686_TCP_PROTO=tcp","app":"nse-discovery"}
{"level":"info","ts":1621628276.0279152,"caller":"utils/nsrenv.go:31","msg":"MY_COREDNS_COREDNS_PORT=udp://10.104.3.18:53","app":"nse-discovery"}
{"level":"info","ts":1621628276.0279202,"caller":"utils/nsrenv.go:31","msg":"MY_COREDNS_COREDNS_SERVICE_PORT=53","app":"nse-discovery"}
{"level":"info","ts":1621628276.0279253,"caller":"utils/nsrenv.go:31","msg":"INSECURE=true","app":"nse-discovery"}
{"level":"info","ts":1621628276.027931,"caller":"utils/nsrenv.go:31","msg":"WCM_ETCD_CLUSTER_CLIENT_SERVICE_PORT_2379_TCP_ADDR=10.99.188.8","app":"nse-discovery"}
{"level":"info","ts":1621628276.0279377,"caller":"utils/nsrenv.go:31","msg":"WCM_ETCD_CLUSTER_CLIENT_PORT_2379_TCP_ADDR=10.109.93.42","app":"nse-discovery"}
{"level":"info","ts":1621628276.0279636,"caller":"utils/nsrenv.go:31","msg":"WCM_NSE_OPERATOR_METRICS_PORT_8383_TCP=tcp://10.102.104.55:8383","app":"nse-discovery"}
{"level":"info","ts":1621628276.0279732,"caller":"utils/nsrenv.go:31","msg":"EXAMPLE_WCMD_PORT_2112_TCP=tcp://10.98.218.94:2112","app":"nse-discovery"}
{"level":"info","ts":1621628276.0279963,"caller":"utils/nsrenv.go:31","msg":"KUBERNETES_PORT_443_TCP_ADDR=10.96.0.1","app":"nse-discovery"}
{"level":"info","ts":1621628276.0280044,"caller":"utils/nsrenv.go:31","msg":"EXAMPLE_SERVICE_PORT=31505","app":"nse-discovery"}
{"level":"info","ts":1621628276.028036,"caller":"utils/nsrenv.go:31","msg":"EXAMPLE_PORT_31505_TCP_ADDR=10.105.51.86","app":"nse-discovery"}
{"level":"info","ts":1621628276.028045,"caller":"utils/nsrenv.go:31","msg":"EXAMPLE_PORT=tcp://10.105.51.86:31505","app":"nse-discovery"}
{"level":"info","ts":1621628276.0280526,"caller":"utils/nsrenv.go:31","msg":"EXAMPLE_CD_INFO_PORT_50071_TCP_ADDR=10.97.8.156","app":"nse-discovery"}
{"level":"info","ts":1621628276.0280595,"caller":"utils/nsrenv.go:31","msg":"PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin","app":"nse-discovery"}
{"level":"info","ts":1621628276.0280657,"caller":"utils/nsrenv.go:31","msg":"EXAMPLE_CD_INFO_PORT=tcp://10.97.8.156:50071","app":"nse-discovery"}
{"level":"info","ts":1621628276.0280716,"caller":"utils/nsrenv.go:31","msg":"EXAMPLE_WCMD_PORT_50051_TCP_ADDR=10.98.218.94","app":"nse-discovery"}
{"level":"info","ts":1621628276.0280788,"caller":"utils/nsrenv.go:31","msg":"WCM_ETCD_CLUSTER_CLIENT_SERVICE_PORT=tcp://10.99.188.8:2379","app":"nse-discovery"}
{"level":"info","ts":1621628276.028085,"caller":"utils/nsrenv.go:31","msg":"WCM_ETCD_CLUSTER_CLIENT_SERVICE_SERVICE_PORT=2379","app":"nse-discovery"}
{"level":"info","ts":1621628276.0280914,"caller":"utils/nsrenv.go:31","msg":"WCM_ETCD_CLUSTER_CLIENT_PORT=tcp://10.109.93.42:2379","app":"nse-discovery"}
{"level":"info","ts":1621628276.0280974,"caller":"utils/nsrenv.go:31","msg":"EXAMPLE_CD_INFO_SERVICE_PORT=50071","app":"nse-discovery"}
{"level":"info","ts":1621628276.028103,"caller":"utils/nsrenv.go:31","msg":"WCM_NSE_DISCOVERY_PORT_2112_TCP_ADDR=10.104.182.35","app":"nse-discovery"}
{"level":"info","ts":1621628276.028109,"caller":"utils/nsrenv.go:31","msg":"KUBERNETES_PORT_443_TCP_PORT=443","app":"nse-discovery"}
{"level":"info","ts":1621628276.0281239,"caller":"utils/nsrenv.go:31","msg":"WCM_ETCD_CLUSTER_CLIENT_PORT_2379_TCP_PORT=2379","app":"nse-discovery"}
{"level":"info","ts":1621628276.02813,"caller":"utils/nsrenv.go:31","msg":"EXAMPLE_WCMD_PORT_50061_TCP_ADDR=10.98.218.94","app":"nse-discovery"}
{"level":"info","ts":1621628276.0281363,"caller":"utils/nsrenv.go:31","msg":"WCM_ETCD_CLUSTER_CLIENT_SERVICE_PORT_2379_TCP_PORT=2379","app":"nse-discovery"}
{"level":"info","ts":1621628276.028142,"caller":"utils/nsrenv.go:31","msg":"EXAMPLE_CD_INFO_PORT_50071_TCP_PORT=50071","app":"nse-discovery"}
{"level":"info","ts":1621628276.028149,"caller":"utils/nsrenv.go:31","msg":"KUBERNETES_PORT_443_TCP_PROTO=tcp","app":"nse-discovery"}
{"level":"info","ts":1621628276.0281558,"caller":"utils/nsrenv.go:31","msg":"EXAMPLE_PORT_31505_TCP_PORT=31505","app":"nse-discovery"}
{"level":"info","ts":1621628276.0281634,"caller":"utils/nsrenv.go:31","msg":"WCM_ETCD_CLUSTER_CLIENT_PORT_2379_TCP_PROTO=tcp","app":"nse-discovery"}
{"level":"info","ts":1621628276.0281715,"caller":"utils/nsrenv.go:31","msg":"WCM_ETCD_CLUSTER_CLIENT_SERVICE_PORT_2379_TCP_PROTO=tcp","app":"nse-discovery"}
{"level":"info","ts":1621628276.028197,"caller":"utils/nsrenv.go:31","msg":"WCM_NSE_OPERATOR_METRICS_SERVICE_PORT_CR_METRICS=8686","app":"nse-discovery"}
{"level":"info","ts":1621628276.0282059,"caller":"utils/nsrenv.go:31","msg":"EXAMPLE_WCMD_PORT=tcp://10.98.218.94:50061","app":"nse-discovery"}
{"level":"info","ts":1621628276.028212,"caller":"utils/nsrenv.go:31","msg":"EXAMPLE_WCMD_PORT_50051_TCP_PORT=50051","app":"nse-discovery"}
{"level":"info","ts":1621628276.028219,"caller":"utils/nsrenv.go:31","msg":"EXAMPLE_WCMD_SERVICE_PORT=50061","app":"nse-discovery"}
{"level":"info","ts":1621628276.028226,"caller":"utils/nsrenv.go:31","msg":"EXAMPLE_CD_INFO_PORT_50071_TCP_PROTO=tcp","app":"nse-discovery"}
{"level":"info","ts":1621628276.028231,"caller":"utils/nsrenv.go:31","msg":"EXAMPLE_PORT_31505_TCP_PROTO=tcp","app":"nse-discovery"}
{"level":"info","ts":1621628276.0282352,"caller":"utils/nsrenv.go:31","msg":"WCM_NSE_OPERATOR_METRICS_PORT_8686_TCP=tcp://10.102.104.55:8686","app":"nse-discovery"}
{"level":"info","ts":1621628276.02824,"caller":"utils/nsrenv.go:31","msg":"EXAMPLE_WCMD_PORT_50061_TCP_PORT=50061","app":"nse-discovery"}
{"level":"info","ts":1621628276.028245,"caller":"utils/nsrenv.go:31","msg":"WCM_NSE_DISCOVERY_PORT_2112_TCP_PORT=2112","app":"nse-discovery"}
{"level":"info","ts":1621628276.0282507,"caller":"utils/nsrenv.go:31","msg":"EXAMPLE_WCMD_PORT_50051_TCP_PROTO=tcp","app":"nse-discovery"}
{"level":"info","ts":1621628276.0282557,"caller":"utils/nsrenv.go:31","msg":"EXAMPLE_WCMD_PORT_50061_TCP_PROTO=tcp","app":"nse-discovery"}
{"level":"info","ts":1621628276.0282607,"caller":"utils/nsrenv.go:31","msg":"MY_COREDNS_COREDNS_PORT_53_UDP_ADDR=10.104.3.18","app":"nse-discovery"}
{"level":"info","ts":1621628276.028266,"caller":"utils/nsrenv.go:31","msg":"WCM_NSE_DISCOVERY_PORT_2112_TCP_PROTO=tcp","app":"nse-discovery"}
{"level":"info","ts":1621628276.0282712,"caller":"utils/nsrenv.go:31","msg":"MY_COREDNS_COREDNS_PORT_53_UDP_PORT=53","app":"nse-discovery"}
{"level":"info","ts":1621628276.028276,"caller":"utils/nsrenv.go:31","msg":"MY_COREDNS_COREDNS_PORT_53_UDP_PROTO=udp","app":"nse-discovery"}
{"level":"info","ts":1621628276.028282,"caller":"utils/nsrenv.go:31","msg":"WCM_ETCD_CLUSTER_CLIENT_PORT_2379_TCP=tcp://10.109.93.42:2379","app":"nse-discovery"}
{"level":"info","ts":1621628276.0282886,"caller":"utils/nsrenv.go:31","msg":"KUBERNETES_PORT_443_TCP=tcp://10.96.0.1:443","app":"nse-discovery"}
{"level":"info","ts":1621628276.0282958,"caller":"utils/nsrenv.go:31","msg":"KUBERNETES_SERVICE_PORT_HTTPS=443","app":"nse-discovery"}
{"level":"info","ts":1621628276.0283997,"caller":"utils/nsrenv.go:31","msg":"WCM_ETCD_CLUSTER_CLIENT_SERVICE_PORT_2379_TCP=tcp://10.99.188.8:2379","app":"nse-discovery"}
{"level":"info","ts":1621628276.0284145,"caller":"utils/nsrenv.go:31","msg":"EXAMPLE_CD_INFO_PORT_50071_TCP=tcp://10.97.8.156:50071","app":"nse-discovery"}
{"level":"info","ts":1621628276.0284448,"caller":"utils/nsrenv.go:31","msg":"WCM_NSE_DISCOVERY_SERVICE_HOST=10.104.182.35","app":"nse-discovery"}
{"level":"info","ts":1621628276.0284538,"caller":"utils/nsrenv.go:31","msg":"EXAMPLE_PORT_31505_TCP=tcp://10.105.51.86:31505","app":"nse-discovery"}
{"level":"info","ts":1621628276.0284612,"caller":"utils/nsrenv.go:31","msg":"KUBERNETES_SERVICE_HOST=10.96.0.1","app":"nse-discovery"}
{"level":"info","ts":1621628276.0284758,"caller":"utils/nsrenv.go:31","msg":"EXAMPLE_WCMD_PORT_50051_TCP=tcp://10.98.218.94:50051","app":"nse-discovery"}
{"level":"info","ts":1621628276.0284822,"caller":"utils/nsrenv.go:31","msg":"PWD=/","app":"nse-discovery"}
{"level":"info","ts":1621628276.0284889,"caller":"utils/nsrenv.go:31","msg":"POD_UID=2db67e12-816b-4d00-b525-eb6938573f49","app":"nse-discovery"}
{"level":"info","ts":1621628276.028498,"caller":"utils/nsrenv.go:31","msg":"WCM_NSE_DISCOVERY_PORT_2112_TCP=tcp://10.104.182.35:2112","app":"nse-discovery"}
{"level":"info","ts":1621628276.0285053,"caller":"utils/nsrenv.go:31","msg":"EXAMPLE_WCMD_PORT_50061_TCP=tcp://10.98.218.94:50061","app":"nse-discovery"}
{"level":"info","ts":1621628276.0285127,"caller":"utils/nsrenv.go:31","msg":"EXAMPLE_WCMD_SERVICE_PORT_MONITORING=2112","app":"nse-discovery"}
{"level":"info","ts":1621628276.0285213,"caller":"utils/nsrenv.go:31","msg":"NSR_ADDRESS=wcm-proxy-nsmgr.nsm-system:5005","app":"nse-discovery"}
{"level":"info","ts":1621628276.028529,"caller":"utils/nsrenv.go:31","msg":"MY_COREDNS_COREDNS_PORT_53_UDP=udp://10.104.3.18:53","app":"nse-discovery"}
{"level":"info","ts":1621628276.0285506,"caller":"metrics/metrics.go:56","msg":"Serving metrics","app":"nse-discovery"}
time="2021-05-21T20:17:56Z" level=info msg="Creating logger from config: &{wcm-nse-discovery.tpl@wcm-nse-discovery-9d8cfcc95-4sqfm false false [] 0xc000077140 0xc0003e5810 <nil> <nil> <nil>}"
2021/05/21 20:17:56 debug logging disabled
2021/05/21 20:17:56 Initializing logging reporter
2021/05/21 20:17:56 debug logging disabled
{"level":"info","ts":1621628276.036023,"caller":"nseinformer/nseInformerController.go:61","msg":"Creating NSE CR controller","app":"nse-discovery"}
{"level":"info","ts":1621628276.0363054,"caller":"nseinformer/nseInformerController.go:83","msg":"Created new informer for NSE pod controller","app":"nse-discovery"}
{"level":"info","ts":1621628276.0363448,"caller":"nseinformer/nseInformerController.go:123","msg":"starting NSE pod controller","app":"nse-discovery"}
{"level":"info","ts":1621629782.4432786,"caller":"nseinformer/nseInformerController.go:98","msg":"new NSE CR was created: &{{ } {examplen4z24 example default /apis/networkservicemesh.io/v1alpha1/namespaces/default/networkserviceendpoints/examplen4z24 0d622914-5bc4-4981-8adb-b98c8bcdac84 10253 1 2021-05-21 20:43:02 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:member1_vl3-nse-example-5f77749bd4-k8qck wcm/nsr.addr:example.nispatil-wcm-cisco.com wcm/nsr.port:80] map[] [] []  []} {example IP kind-1-control-plane} {RUNNING}}","app":"nse-discovery"}
{"level":"info","ts":1621629782.4433722,"caller":"nseinformer/nseInformerController.go:156","msg":"Processing NSE named examplen4z24...","app":"nse-discovery"}
{"level":"info","ts":1621629782.443387,"caller":"nseinformer/nseInformerController.go:163","msg":"Found service name: example","app":"nse-discovery"}
{"level":"info","ts":1621629782.4433985,"caller":"nseinformer/nseInformerController.go:178","msg":"Getting endpoints from the local NSR","app":"nse-discovery"}
time="2021-05-21T20:43:02Z" level=info msg="==--> discovery.FindNetworkService() span:2ebdedc9cdbc1ed4:2ebdedc9cdbc1ed4:0000000000000000:1"
time="2021-05-21T20:43:02Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=2ebdedc9cdbc1ed4:2ebdedc9cdbc1ed4:0000000000000000:1"
time="2021-05-21T20:43:02Z" level=info msg=">><<-- nsrURL=\"wcm-proxy-nsmgr.nsm-system:5005\" span=2ebdedc9cdbc1ed4:2ebdedc9cdbc1ed4:0000000000000000:1"
time="2021-05-21T20:43:02Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-05-21T20:43:02Z" level=info msg="==----> initRegistryClient() span:2ebdedc9cdbc1ed4:04c0c9e4c9110b84:2ebdedc9cdbc1ed4:1"
time="2021-05-21T20:43:02Z" level=info msg="Waiting for liveness probe: tcp:wcm-proxy-nsmgr.nsm-system:5005"
time="2021-05-21T20:43:02Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="2ebdedc9cdbc1ed4:04c0c9e4c9110b84:2ebdedc9cdbc1ed4:1"
time="2021-05-21T20:43:02Z" level=info msg="Successfully connected to wcm-proxy-nsmgr.nsm-system:5005" operation=initRegistryClient span="2ebdedc9cdbc1ed4:04c0c9e4c9110b84:2ebdedc9cdbc1ed4:1"
2021/05/21 20:43:02 Reporting span 2ebdedc9cdbc1ed4:04c0c9e4c9110b84:2ebdedc9cdbc1ed4:1
{"level":"info","ts":1621629782.4516008,"caller":"nseinformer/nseInformerController.go:408","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-05-21T20:43:02Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=2ebdedc9cdbc1ed4:2ebdedc9cdbc1ed4:0000000000000000:1"
time="2021-05-21T20:43:02Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=2ebdedc9cdbc1ed4:2ebdedc9cdbc1ed4:0000000000000000:1"
2021/05/21 20:43:02 Reporting span 2ebdedc9cdbc1ed4:4ce850abbffe975f:2ebdedc9cdbc1ed4:1
time="2021-05-21T20:43:02Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-1-control-plane\":{\"name\":\"kind-1-control-plane\",\"url\":\"172.17.0.2:5001\",\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"examplen4z24\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-1-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"member1_vl3-nse-example-5f77749bd4-k8qck\",\"wcm/nsr.addr\":\"example.nispatil-wcm-cisco.com\",\"wcm/nsr.port\":\"80\"},\"state\":\"RUNNING\"}]} span=2ebdedc9cdbc1ed4:2ebdedc9cdbc1ed4:0000000000000000:1"
2021/05/21 20:43:02 Reporting span 2ebdedc9cdbc1ed4:2ebdedc9cdbc1ed4:0000000000000000:1
{"level":"info","ts":1621629782.473533,"caller":"nseinformer/nseInformerController.go:316","msg":"found NSE with name examplen4z24","app":"nse-discovery"}
{"level":"info","ts":1621629782.473626,"caller":"nseinformer/nseInformerController.go:186","msg":"Retrieved 1 endpoints from the local NSR","app":"nse-discovery"}
{"level":"info","ts":1621629782.4736524,"caller":"nseinformer/nseInformerController.go:189","msg":"Getting endpoints from the global NSR at: example.nispatil-wcm-cisco.com:80","app":"nse-discovery"}
time="2021-05-21T20:43:02Z" level=info msg="==--> discovery.FindNetworkService() span:21b226917b3b8fef:21b226917b3b8fef:0000000000000000:1"
time="2021-05-21T20:43:02Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=21b226917b3b8fef:21b226917b3b8fef:0000000000000000:1"
time="2021-05-21T20:43:02Z" level=info msg=">><<-- nsrURL=\"example.nispatil-wcm-cisco.com:80\" span=21b226917b3b8fef:21b226917b3b8fef:0000000000000000:1"
time="2021-05-21T20:43:02Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-05-21T20:43:02Z" level=info msg="==----> initRegistryClient() span:21b226917b3b8fef:598d97b0805276a9:21b226917b3b8fef:1"
time="2021-05-21T20:43:02Z" level=info msg="Waiting for liveness probe: tcp:example.nispatil-wcm-cisco.com:80"
time="2021-05-21T20:43:02Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="21b226917b3b8fef:598d97b0805276a9:21b226917b3b8fef:1"
time="2021-05-21T20:43:02Z" level=info msg="Successfully connected to example.nispatil-wcm-cisco.com:80" operation=initRegistryClient span="21b226917b3b8fef:598d97b0805276a9:21b226917b3b8fef:1"
2021/05/21 20:43:02 Reporting span 21b226917b3b8fef:598d97b0805276a9:21b226917b3b8fef:1
{"level":"info","ts":1621629782.4828167,"caller":"nseinformer/nseInformerController.go:408","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-05-21T20:43:02Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=21b226917b3b8fef:21b226917b3b8fef:0000000000000000:1"
time="2021-05-21T20:43:02Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=21b226917b3b8fef:21b226917b3b8fef:0000000000000000:1"
2021/05/21 20:43:02 Reporting span 21b226917b3b8fef:5d7d9a3746af86dd:21b226917b3b8fef:1
time="2021-05-21T20:43:02Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-2-control-plane\":{\"name\":\"kind-2-control-plane\",\"url\":\"172.17.0.3:5001\",\"expiration_time\":{\"seconds\":1621631723},\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"examplebkpg7\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-2-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-2_vl3-nse-example-9b57cccc7-7qtql\",\"wcm/cluster\":\"member1\",\"wcm/nsr.addr\":\"example.nispatil-wcm-cisco.com\",\"wcm/nsr.port\":\"80\"},\"state\":\"RUNNING\"},{\"name\":\"examplejbwqv\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-2-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-2_vl3-nse-example-9b57cccc7-666pb\",\"wcm/cluster\":\"member1\",\"wcm/nsr.addr\":\"example.nispatil-wcm-cisco.com\",\"wcm/nsr.port\":\"80\"},\"state\":\"RUNNING\"}]} span=21b226917b3b8fef:21b226917b3b8fef:0000000000000000:1"
2021/05/21 20:43:02 Reporting span 21b226917b3b8fef:21b226917b3b8fef:0000000000000000:1
{"level":"info","ts":1621629782.4861438,"caller":"nseinformer/nseInformerController.go:316","msg":"found NSE with name examplebkpg7","app":"nse-discovery"}
{"level":"info","ts":1621629782.4861677,"caller":"nseinformer/nseInformerController.go:316","msg":"found NSE with name examplejbwqv","app":"nse-discovery"}
{"level":"info","ts":1621629782.4861794,"caller":"nseinformer/nseInformerController.go:198","msg":"Retrieved 2 endpoints from the global NSR","app":"nse-discovery"}
{"level":"info","ts":1621629782.4864604,"caller":"nseinformer/nseInformerController.go:331","msg":"NSE diff:  For cluster test, skipping endpoint 'examplebkpg7'","app":"nse-discovery"}
{"level":"info","ts":1621629782.4864755,"caller":"nseinformer/nseInformerController.go:331","msg":"NSE diff:  For cluster test, skipping endpoint 'examplejbwqv'","app":"nse-discovery"}
{"level":"info","ts":1621629782.4865015,"caller":"nseinformer/nseInformerController.go:338","msg":"NSE diff: For cluster test, found diff endpoint 'examplen4z24'","app":"nse-discovery"}
{"level":"info","ts":1621629782.4865289,"caller":"nseinformer/nseInformerController.go:328","msg":"NSE diff: For cluster test, adding endpoint 'examplen4z24'","app":"nse-discovery"}
{"level":"info","ts":1621629782.4865398,"caller":"nseinformer/nseInformerController.go:344","msg":"NSE diff:  For cluster test, skip comparing endpoint 'examplebkpg7'","app":"nse-discovery"}
{"level":"info","ts":1621629782.4865477,"caller":"nseinformer/nseInformerController.go:344","msg":"NSE diff:  For cluster test, skip comparing endpoint 'examplejbwqv'","app":"nse-discovery"}
{"level":"info","ts":1621629782.4865568,"caller":"nseinformer/nseInformerController.go:203","msg":"Global NSE diff result: 1 new NSEs to add, 0 NSEs to delete","app":"nse-discovery"}
time="2021-05-21T20:43:02Z" level=info msg="Requesting NseRegistryClient..."
time="2021-05-21T20:43:02Z" level=info msg="==--> initRegistryClient() span:7118f64702a41e63:7118f64702a41e63:0000000000000000:1"
time="2021-05-21T20:43:02Z" level=info msg="Waiting for liveness probe: tcp:example.nispatil-wcm-cisco.com:80"
time="2021-05-21T20:43:02Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="7118f64702a41e63:7118f64702a41e63:0000000000000000:1"
time="2021-05-21T20:43:02Z" level=info msg="Successfully connected to example.nispatil-wcm-cisco.com:80" operation=initRegistryClient span="7118f64702a41e63:7118f64702a41e63:0000000000000000:1"
2021/05/21 20:43:02 Reporting span 7118f64702a41e63:7118f64702a41e63:0000000000000000:1
time="2021-05-21T20:43:02Z" level=info msg=">><<-- /registry.NetworkServiceRegistry/RegisterNSE()=\"\" span=<nil>"
time="2021-05-21T20:43:02Z" level=info msg=">><<-- request={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-1-control-plane\",\"url\":\"172.17.0.2:5001\",\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"examplen4z24\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-1-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"member1_vl3-nse-example-5f77749bd4-k8qck\",\"wcm/cluster\":\"test\",\"wcm/nsr.addr\":\"example.nispatil-wcm-cisco.com\",\"wcm/nsr.port\":\"80\"},\"state\":\"RUNNING\"}} span=<nil>"
2021/05/21 20:43:02 Reporting span 588e0d936806c5bd:588e0d936806c5bd:0000000000000000:1
time="2021-05-21T20:43:02Z" level=info msg=">><<-- response={\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_manager\":{\"name\":\"kind-1-control-plane\",\"url\":\"172.17.0.2:5001\",\"expiration_time\":{\"seconds\":1621633382},\"state\":\"RUNNING\"},\"network_service_endpoint\":{\"name\":\"examplen4z24\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-1-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"member1_vl3-nse-example-5f77749bd4-k8qck\",\"wcm/cluster\":\"test\",\"wcm/nsr.addr\":\"example.nispatil-wcm-cisco.com\",\"wcm/nsr.port\":\"80\"},\"state\":\"RUNNING\"}} span=<nil>"
{"level":"info","ts":1621629782.4973717,"caller":"nseinformer/nseInformerController.go:266","msg":"No endpoints to remove from Global registry.","app":"nse-discovery"}
{"level":"info","ts":1621629836.048742,"caller":"nseinformer/nseInformerController.go:107","msg":"NSE pod: &{{ } {examplen4z24 example default /apis/networkservicemesh.io/v1alpha1/namespaces/default/networkserviceendpoints/examplen4z24 0d622914-5bc4-4981-8adb-b98c8bcdac84 10253 1 2021-05-21 20:43:02 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:member1_vl3-nse-example-5f77749bd4-k8qck wcm/nsr.addr:example.nispatil-wcm-cisco.com wcm/nsr.port:80] map[] [] []  []} {example IP kind-1-control-plane} {RUNNING}} was updated with: &{{ } {examplen4z24 example default /apis/networkservicemesh.io/v1alpha1/namespaces/default/networkserviceendpoints/examplen4z24 0d622914-5bc4-4981-8adb-b98c8bcdac84 10253 1 2021-05-21 20:43:02 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:member1_vl3-nse-example-5f77749bd4-k8qck wcm/nsr.addr:example.nispatil-wcm-cisco.com wcm/nsr.port:80] map[] [] []  []} {example IP kind-1-control-plane} {RUNNING}}","app":"nse-discovery"}
{"level":"info","ts":1621629836.048868,"caller":"nseinformer/nseInformerController.go:156","msg":"Processing NSE named examplen4z24...","app":"nse-discovery"}
{"level":"info","ts":1621629836.0488803,"caller":"nseinformer/nseInformerController.go:163","msg":"Found service name: example","app":"nse-discovery"}
{"level":"info","ts":1621629836.048892,"caller":"nseinformer/nseInformerController.go:178","msg":"Getting endpoints from the local NSR","app":"nse-discovery"}
time="2021-05-21T20:43:56Z" level=info msg="==--> discovery.FindNetworkService() span:4333956776892d17:4333956776892d17:0000000000000000:1"
time="2021-05-21T20:43:56Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=4333956776892d17:4333956776892d17:0000000000000000:1"
time="2021-05-21T20:43:56Z" level=info msg=">><<-- nsrURL=\"wcm-proxy-nsmgr.nsm-system:5005\" span=4333956776892d17:4333956776892d17:0000000000000000:1"
time="2021-05-21T20:43:56Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-05-21T20:43:56Z" level=info msg="==----> initRegistryClient() span:4333956776892d17:0d10316ab52ae1cf:4333956776892d17:1"
time="2021-05-21T20:43:56Z" level=info msg="Waiting for liveness probe: tcp:wcm-proxy-nsmgr.nsm-system:5005"
time="2021-05-21T20:43:56Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="4333956776892d17:0d10316ab52ae1cf:4333956776892d17:1"
time="2021-05-21T20:43:56Z" level=info msg="Successfully connected to wcm-proxy-nsmgr.nsm-system:5005" operation=initRegistryClient span="4333956776892d17:0d10316ab52ae1cf:4333956776892d17:1"
2021/05/21 20:43:56 Reporting span 4333956776892d17:0d10316ab52ae1cf:4333956776892d17:1
{"level":"info","ts":1621629836.055277,"caller":"nseinformer/nseInformerController.go:408","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-05-21T20:43:56Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=4333956776892d17:4333956776892d17:0000000000000000:1"
time="2021-05-21T20:43:56Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=4333956776892d17:4333956776892d17:0000000000000000:1"
2021/05/21 20:43:56 Reporting span 4333956776892d17:4ab5009313daa7bf:4333956776892d17:1
time="2021-05-21T20:43:56Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-1-control-plane\":{\"name\":\"kind-1-control-plane\",\"url\":\"172.17.0.2:5001\",\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"examplen4z24\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-1-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"member1_vl3-nse-example-5f77749bd4-k8qck\",\"wcm/nsr.addr\":\"example.nispatil-wcm-cisco.com\",\"wcm/nsr.port\":\"80\"},\"state\":\"RUNNING\"}]} span=4333956776892d17:4333956776892d17:0000000000000000:1"
2021/05/21 20:43:56 Reporting span 4333956776892d17:4333956776892d17:0000000000000000:1
{"level":"info","ts":1621629836.0606143,"caller":"nseinformer/nseInformerController.go:316","msg":"found NSE with name examplen4z24","app":"nse-discovery"}
{"level":"info","ts":1621629836.06066,"caller":"nseinformer/nseInformerController.go:186","msg":"Retrieved 1 endpoints from the local NSR","app":"nse-discovery"}
{"level":"info","ts":1621629836.0606735,"caller":"nseinformer/nseInformerController.go:189","msg":"Getting endpoints from the global NSR at: example.nispatil-wcm-cisco.com:80","app":"nse-discovery"}
time="2021-05-21T20:43:56Z" level=info msg="==--> discovery.FindNetworkService() span:36adc1c6aa0c621a:36adc1c6aa0c621a:0000000000000000:1"
time="2021-05-21T20:43:56Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=36adc1c6aa0c621a:36adc1c6aa0c621a:0000000000000000:1"
time="2021-05-21T20:43:56Z" level=info msg=">><<-- nsrURL=\"example.nispatil-wcm-cisco.com:80\" span=36adc1c6aa0c621a:36adc1c6aa0c621a:0000000000000000:1"
time="2021-05-21T20:43:56Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-05-21T20:43:56Z" level=info msg="==----> initRegistryClient() span:36adc1c6aa0c621a:11b64d72201f7994:36adc1c6aa0c621a:1"
time="2021-05-21T20:43:56Z" level=info msg="Waiting for liveness probe: tcp:example.nispatil-wcm-cisco.com:80"
time="2021-05-21T20:43:56Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="36adc1c6aa0c621a:11b64d72201f7994:36adc1c6aa0c621a:1"
time="2021-05-21T20:43:56Z" level=info msg="Successfully connected to example.nispatil-wcm-cisco.com:80" operation=initRegistryClient span="36adc1c6aa0c621a:11b64d72201f7994:36adc1c6aa0c621a:1"
2021/05/21 20:43:56 Reporting span 36adc1c6aa0c621a:11b64d72201f7994:36adc1c6aa0c621a:1
{"level":"info","ts":1621629836.0690196,"caller":"nseinformer/nseInformerController.go:408","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-05-21T20:43:56Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=36adc1c6aa0c621a:36adc1c6aa0c621a:0000000000000000:1"
time="2021-05-21T20:43:56Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=36adc1c6aa0c621a:36adc1c6aa0c621a:0000000000000000:1"
2021/05/21 20:43:56 Reporting span 36adc1c6aa0c621a:1f08b63dfc2b48a4:36adc1c6aa0c621a:1
time="2021-05-21T20:43:56Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-1-control-plane\":{\"name\":\"kind-1-control-plane\",\"url\":\"172.17.0.2:5001\",\"expiration_time\":{\"seconds\":1621633382},\"state\":\"RUNNING\"},\"kind-2-control-plane\":{\"name\":\"kind-2-control-plane\",\"url\":\"172.17.0.3:5001\",\"expiration_time\":{\"seconds\":1621631723},\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"examplebkpg7\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-2-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-2_vl3-nse-example-9b57cccc7-7qtql\",\"wcm/cluster\":\"member1\",\"wcm/nsr.addr\":\"example.nispatil-wcm-cisco.com\",\"wcm/nsr.port\":\"80\"},\"state\":\"RUNNING\"},{\"name\":\"examplejbwqv\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-2-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-2_vl3-nse-example-9b57cccc7-666pb\",\"wcm/cluster\":\"member1\",\"wcm/nsr.addr\":\"example.nispatil-wcm-cisco.com\",\"wcm/nsr.port\":\"80\"},\"state\":\"RUNNING\"},{\"name\":\"examplen4z24\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-1-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"member1_vl3-nse-example-5f77749bd4-k8qck\",\"wcm/cluster\":\"test\",\"wcm/nsr.addr\":\"example.nispatil-wcm-cisco.com\",\"wcm/nsr.port\":\"80\"},\"state\":\"RUNNING\"}]} span=36adc1c6aa0c621a:36adc1c6aa0c621a:0000000000000000:1"
2021/05/21 20:43:56 Reporting span 36adc1c6aa0c621a:36adc1c6aa0c621a:0000000000000000:1
{"level":"info","ts":1621629836.0716817,"caller":"nseinformer/nseInformerController.go:316","msg":"found NSE with name examplebkpg7","app":"nse-discovery"}
{"level":"info","ts":1621629836.071728,"caller":"nseinformer/nseInformerController.go:316","msg":"found NSE with name examplejbwqv","app":"nse-discovery"}
{"level":"info","ts":1621629836.0718122,"caller":"nseinformer/nseInformerController.go:316","msg":"found NSE with name examplen4z24","app":"nse-discovery"}
{"level":"info","ts":1621629836.0718238,"caller":"nseinformer/nseInformerController.go:198","msg":"Retrieved 3 endpoints from the global NSR","app":"nse-discovery"}
{"level":"info","ts":1621629836.0718372,"caller":"nseinformer/nseInformerController.go:331","msg":"NSE diff:  For cluster test, skipping endpoint 'examplebkpg7'","app":"nse-discovery"}
{"level":"info","ts":1621629836.0718467,"caller":"nseinformer/nseInformerController.go:331","msg":"NSE diff:  For cluster test, skipping endpoint 'examplejbwqv'","app":"nse-discovery"}
{"level":"info","ts":1621629836.0718548,"caller":"nseinformer/nseInformerController.go:328","msg":"NSE diff: For cluster test, adding endpoint 'examplen4z24'","app":"nse-discovery"}
{"level":"info","ts":1621629836.0718648,"caller":"nseinformer/nseInformerController.go:341","msg":"NSE diff: For cluster test, endpoint match 'examplen4z24'","app":"nse-discovery"}
{"level":"info","ts":1621629836.071926,"caller":"nseinformer/nseInformerController.go:328","msg":"NSE diff: For cluster test, adding endpoint 'examplen4z24'","app":"nse-discovery"}
{"level":"info","ts":1621629836.0719395,"caller":"nseinformer/nseInformerController.go:344","msg":"NSE diff:  For cluster test, skip comparing endpoint 'examplebkpg7'","app":"nse-discovery"}
{"level":"info","ts":1621629836.0719492,"caller":"nseinformer/nseInformerController.go:344","msg":"NSE diff:  For cluster test, skip comparing endpoint 'examplejbwqv'","app":"nse-discovery"}
{"level":"info","ts":1621629836.0719583,"caller":"nseinformer/nseInformerController.go:341","msg":"NSE diff: For cluster test, endpoint match 'examplen4z24'","app":"nse-discovery"}
{"level":"info","ts":1621629836.071993,"caller":"nseinformer/nseInformerController.go:203","msg":"Global NSE diff result: 0 new NSEs to add, 0 NSEs to delete","app":"nse-discovery"}
{"level":"info","ts":1621629836.0720065,"caller":"nseinformer/nseInformerController.go:240","msg":"No endpoints to register to Global registry.","app":"nse-discovery"}
{"level":"info","ts":1621629836.0720155,"caller":"nseinformer/nseInformerController.go:266","msg":"No endpoints to remove from Global registry.","app":"nse-discovery"}
{"level":"info","ts":1621629956.049194,"caller":"nseinformer/nseInformerController.go:107","msg":"NSE pod: &{{ } {examplen4z24 example default /apis/networkservicemesh.io/v1alpha1/namespaces/default/networkserviceendpoints/examplen4z24 0d622914-5bc4-4981-8adb-b98c8bcdac84 10253 1 2021-05-21 20:43:02 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:member1_vl3-nse-example-5f77749bd4-k8qck wcm/nsr.addr:example.nispatil-wcm-cisco.com wcm/nsr.port:80] map[] [] []  []} {example IP kind-1-control-plane} {RUNNING}} was updated with: &{{ } {examplen4z24 example default /apis/networkservicemesh.io/v1alpha1/namespaces/default/networkserviceendpoints/examplen4z24 0d622914-5bc4-4981-8adb-b98c8bcdac84 10253 1 2021-05-21 20:43:02 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:member1_vl3-nse-example-5f77749bd4-k8qck wcm/nsr.addr:example.nispatil-wcm-cisco.com wcm/nsr.port:80] map[] [] []  []} {example IP kind-1-control-plane} {RUNNING}}","app":"nse-discovery"}
{"level":"info","ts":1621629956.0493505,"caller":"nseinformer/nseInformerController.go:156","msg":"Processing NSE named examplen4z24...","app":"nse-discovery"}
{"level":"info","ts":1621629956.0493672,"caller":"nseinformer/nseInformerController.go:163","msg":"Found service name: example","app":"nse-discovery"}
{"level":"info","ts":1621629956.0493772,"caller":"nseinformer/nseInformerController.go:178","msg":"Getting endpoints from the local NSR","app":"nse-discovery"}
time="2021-05-21T20:45:56Z" level=info msg="==--> discovery.FindNetworkService() span:3527da3823550d57:3527da3823550d57:0000000000000000:1"
time="2021-05-21T20:45:56Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=3527da3823550d57:3527da3823550d57:0000000000000000:1"
time="2021-05-21T20:45:56Z" level=info msg=">><<-- nsrURL=\"wcm-proxy-nsmgr.nsm-system:5005\" span=3527da3823550d57:3527da3823550d57:0000000000000000:1"
time="2021-05-21T20:45:56Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-05-21T20:45:56Z" level=info msg="==----> initRegistryClient() span:3527da3823550d57:22df8d7d0bafda1a:3527da3823550d57:1"
time="2021-05-21T20:45:56Z" level=info msg="Waiting for liveness probe: tcp:wcm-proxy-nsmgr.nsm-system:5005"
time="2021-05-21T20:45:56Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="3527da3823550d57:22df8d7d0bafda1a:3527da3823550d57:1"
time="2021-05-21T20:45:56Z" level=info msg="Successfully connected to wcm-proxy-nsmgr.nsm-system:5005" operation=initRegistryClient span="3527da3823550d57:22df8d7d0bafda1a:3527da3823550d57:1"
2021/05/21 20:45:56 Reporting span 3527da3823550d57:22df8d7d0bafda1a:3527da3823550d57:1
{"level":"info","ts":1621629956.052802,"caller":"nseinformer/nseInformerController.go:408","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-05-21T20:45:56Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=3527da3823550d57:3527da3823550d57:0000000000000000:1"
time="2021-05-21T20:45:56Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=3527da3823550d57:3527da3823550d57:0000000000000000:1"
2021/05/21 20:45:56 Reporting span 3527da3823550d57:31721232b7788c3d:3527da3823550d57:1
time="2021-05-21T20:45:56Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-1-control-plane\":{\"name\":\"kind-1-control-plane\",\"url\":\"172.17.0.2:5001\",\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"examplen4z24\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-1-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"member1_vl3-nse-example-5f77749bd4-k8qck\",\"wcm/nsr.addr\":\"example.nispatil-wcm-cisco.com\",\"wcm/nsr.port\":\"80\"},\"state\":\"RUNNING\"}]} span=3527da3823550d57:3527da3823550d57:0000000000000000:1"
2021/05/21 20:45:56 Reporting span 3527da3823550d57:3527da3823550d57:0000000000000000:1
{"level":"info","ts":1621629956.0603747,"caller":"nseinformer/nseInformerController.go:316","msg":"found NSE with name examplen4z24","app":"nse-discovery"}
{"level":"info","ts":1621629956.0604389,"caller":"nseinformer/nseInformerController.go:186","msg":"Retrieved 1 endpoints from the local NSR","app":"nse-discovery"}
{"level":"info","ts":1621629956.0604515,"caller":"nseinformer/nseInformerController.go:189","msg":"Getting endpoints from the global NSR at: example.nispatil-wcm-cisco.com:80","app":"nse-discovery"}
time="2021-05-21T20:45:56Z" level=info msg="==--> discovery.FindNetworkService() span:685a1a7300fcfce4:685a1a7300fcfce4:0000000000000000:1"
time="2021-05-21T20:45:56Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=685a1a7300fcfce4:685a1a7300fcfce4:0000000000000000:1"
time="2021-05-21T20:45:56Z" level=info msg=">><<-- nsrURL=\"example.nispatil-wcm-cisco.com:80\" span=685a1a7300fcfce4:685a1a7300fcfce4:0000000000000000:1"
time="2021-05-21T20:45:56Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-05-21T20:45:56Z" level=info msg="==----> initRegistryClient() span:685a1a7300fcfce4:7e2676db5565096e:685a1a7300fcfce4:1"
time="2021-05-21T20:45:56Z" level=info msg="Waiting for liveness probe: tcp:example.nispatil-wcm-cisco.com:80"
time="2021-05-21T20:45:56Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="685a1a7300fcfce4:7e2676db5565096e:685a1a7300fcfce4:1"
time="2021-05-21T20:45:56Z" level=info msg="Successfully connected to example.nispatil-wcm-cisco.com:80" operation=initRegistryClient span="685a1a7300fcfce4:7e2676db5565096e:685a1a7300fcfce4:1"
2021/05/21 20:45:56 Reporting span 685a1a7300fcfce4:7e2676db5565096e:685a1a7300fcfce4:1
{"level":"info","ts":1621629956.0727952,"caller":"nseinformer/nseInformerController.go:408","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-05-21T20:45:56Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=685a1a7300fcfce4:685a1a7300fcfce4:0000000000000000:1"
time="2021-05-21T20:45:56Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=685a1a7300fcfce4:685a1a7300fcfce4:0000000000000000:1"
2021/05/21 20:45:56 Reporting span 685a1a7300fcfce4:0d5836ba13a94a9b:685a1a7300fcfce4:1
time="2021-05-21T20:45:56Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-1-control-plane\":{\"name\":\"kind-1-control-plane\",\"url\":\"172.17.0.2:5001\",\"expiration_time\":{\"seconds\":1621633382},\"state\":\"RUNNING\"},\"kind-2-control-plane\":{\"name\":\"kind-2-control-plane\",\"url\":\"172.17.0.3:5001\",\"expiration_time\":{\"seconds\":1621631723},\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"examplebkpg7\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-2-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-2_vl3-nse-example-9b57cccc7-7qtql\",\"wcm/cluster\":\"member1\",\"wcm/nsr.addr\":\"example.nispatil-wcm-cisco.com\",\"wcm/nsr.port\":\"80\"},\"state\":\"RUNNING\"},{\"name\":\"examplejbwqv\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-2-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-2_vl3-nse-example-9b57cccc7-666pb\",\"wcm/cluster\":\"member1\",\"wcm/nsr.addr\":\"example.nispatil-wcm-cisco.com\",\"wcm/nsr.port\":\"80\"},\"state\":\"RUNNING\"},{\"name\":\"examplen4z24\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-1-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"member1_vl3-nse-example-5f77749bd4-k8qck\",\"wcm/cluster\":\"test\",\"wcm/nsr.addr\":\"example.nispatil-wcm-cisco.com\",\"wcm/nsr.port\":\"80\"},\"state\":\"RUNNING\"}]} span=685a1a7300fcfce4:685a1a7300fcfce4:0000000000000000:1"
2021/05/21 20:45:56 Reporting span 685a1a7300fcfce4:685a1a7300fcfce4:0000000000000000:1
{"level":"info","ts":1621629956.0757184,"caller":"nseinformer/nseInformerController.go:316","msg":"found NSE with name examplebkpg7","app":"nse-discovery"}
{"level":"info","ts":1621629956.0757425,"caller":"nseinformer/nseInformerController.go:316","msg":"found NSE with name examplejbwqv","app":"nse-discovery"}
{"level":"info","ts":1621629956.0757525,"caller":"nseinformer/nseInformerController.go:316","msg":"found NSE with name examplen4z24","app":"nse-discovery"}
{"level":"info","ts":1621629956.0757625,"caller":"nseinformer/nseInformerController.go:198","msg":"Retrieved 3 endpoints from the global NSR","app":"nse-discovery"}
{"level":"info","ts":1621629956.0757883,"caller":"nseinformer/nseInformerController.go:331","msg":"NSE diff:  For cluster test, skipping endpoint 'examplebkpg7'","app":"nse-discovery"}
{"level":"info","ts":1621629956.075799,"caller":"nseinformer/nseInformerController.go:331","msg":"NSE diff:  For cluster test, skipping endpoint 'examplejbwqv'","app":"nse-discovery"}
{"level":"info","ts":1621629956.0759225,"caller":"nseinformer/nseInformerController.go:328","msg":"NSE diff: For cluster test, adding endpoint 'examplen4z24'","app":"nse-discovery"}
{"level":"info","ts":1621629956.0759764,"caller":"nseinformer/nseInformerController.go:341","msg":"NSE diff: For cluster test, endpoint match 'examplen4z24'","app":"nse-discovery"}
{"level":"info","ts":1621629956.0759935,"caller":"nseinformer/nseInformerController.go:328","msg":"NSE diff: For cluster test, adding endpoint 'examplen4z24'","app":"nse-discovery"}
{"level":"info","ts":1621629956.0760033,"caller":"nseinformer/nseInformerController.go:344","msg":"NSE diff:  For cluster test, skip comparing endpoint 'examplebkpg7'","app":"nse-discovery"}
{"level":"info","ts":1621629956.0760128,"caller":"nseinformer/nseInformerController.go:344","msg":"NSE diff:  For cluster test, skip comparing endpoint 'examplejbwqv'","app":"nse-discovery"}
{"level":"info","ts":1621629956.0760243,"caller":"nseinformer/nseInformerController.go:341","msg":"NSE diff: For cluster test, endpoint match 'examplen4z24'","app":"nse-discovery"}
{"level":"info","ts":1621629956.07607,"caller":"nseinformer/nseInformerController.go:203","msg":"Global NSE diff result: 0 new NSEs to add, 0 NSEs to delete","app":"nse-discovery"}
{"level":"info","ts":1621629956.0760832,"caller":"nseinformer/nseInformerController.go:240","msg":"No endpoints to register to Global registry.","app":"nse-discovery"}
{"level":"info","ts":1621629956.076092,"caller":"nseinformer/nseInformerController.go:266","msg":"No endpoints to remove from Global registry.","app":"nse-discovery"}
{"level":"info","ts":1621630076.0497508,"caller":"nseinformer/nseInformerController.go:107","msg":"NSE pod: &{{ } {examplen4z24 example default /apis/networkservicemesh.io/v1alpha1/namespaces/default/networkserviceendpoints/examplen4z24 0d622914-5bc4-4981-8adb-b98c8bcdac84 10253 1 2021-05-21 20:43:02 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:member1_vl3-nse-example-5f77749bd4-k8qck wcm/nsr.addr:example.nispatil-wcm-cisco.com wcm/nsr.port:80] map[] [] []  []} {example IP kind-1-control-plane} {RUNNING}} was updated with: &{{ } {examplen4z24 example default /apis/networkservicemesh.io/v1alpha1/namespaces/default/networkserviceendpoints/examplen4z24 0d622914-5bc4-4981-8adb-b98c8bcdac84 10253 1 2021-05-21 20:43:02 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:member1_vl3-nse-example-5f77749bd4-k8qck wcm/nsr.addr:example.nispatil-wcm-cisco.com wcm/nsr.port:80] map[] [] []  []} {example IP kind-1-control-plane} {RUNNING}}","app":"nse-discovery"}
{"level":"info","ts":1621630076.0498207,"caller":"nseinformer/nseInformerController.go:156","msg":"Processing NSE named examplen4z24...","app":"nse-discovery"}
{"level":"info","ts":1621630076.049834,"caller":"nseinformer/nseInformerController.go:163","msg":"Found service name: example","app":"nse-discovery"}
{"level":"info","ts":1621630076.0498443,"caller":"nseinformer/nseInformerController.go:178","msg":"Getting endpoints from the local NSR","app":"nse-discovery"}
time="2021-05-21T20:47:56Z" level=info msg="==--> discovery.FindNetworkService() span:367fbbd367d6af8c:367fbbd367d6af8c:0000000000000000:1"
time="2021-05-21T20:47:56Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=367fbbd367d6af8c:367fbbd367d6af8c:0000000000000000:1"
time="2021-05-21T20:47:56Z" level=info msg=">><<-- nsrURL=\"wcm-proxy-nsmgr.nsm-system:5005\" span=367fbbd367d6af8c:367fbbd367d6af8c:0000000000000000:1"
time="2021-05-21T20:47:56Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-05-21T20:47:56Z" level=info msg="==----> initRegistryClient() span:367fbbd367d6af8c:4c600adc77580ed9:367fbbd367d6af8c:1"
time="2021-05-21T20:47:56Z" level=info msg="Waiting for liveness probe: tcp:wcm-proxy-nsmgr.nsm-system:5005"
time="2021-05-21T20:47:56Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="367fbbd367d6af8c:4c600adc77580ed9:367fbbd367d6af8c:1"
time="2021-05-21T20:47:56Z" level=info msg="Successfully connected to wcm-proxy-nsmgr.nsm-system:5005" operation=initRegistryClient span="367fbbd367d6af8c:4c600adc77580ed9:367fbbd367d6af8c:1"
2021/05/21 20:47:56 Reporting span 367fbbd367d6af8c:4c600adc77580ed9:367fbbd367d6af8c:1
{"level":"info","ts":1621630076.056717,"caller":"nseinformer/nseInformerController.go:408","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-05-21T20:47:56Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=367fbbd367d6af8c:367fbbd367d6af8c:0000000000000000:1"
time="2021-05-21T20:47:56Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=367fbbd367d6af8c:367fbbd367d6af8c:0000000000000000:1"
2021/05/21 20:47:56 Reporting span 367fbbd367d6af8c:5999753de6d38023:367fbbd367d6af8c:1
time="2021-05-21T20:47:56Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-1-control-plane\":{\"name\":\"kind-1-control-plane\",\"url\":\"172.17.0.2:5001\",\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"examplen4z24\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-1-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"member1_vl3-nse-example-5f77749bd4-k8qck\",\"wcm/nsr.addr\":\"example.nispatil-wcm-cisco.com\",\"wcm/nsr.port\":\"80\"},\"state\":\"RUNNING\"}]} span=367fbbd367d6af8c:367fbbd367d6af8c:0000000000000000:1"
2021/05/21 20:47:56 Reporting span 367fbbd367d6af8c:367fbbd367d6af8c:0000000000000000:1
{"level":"info","ts":1621630076.0693722,"caller":"nseinformer/nseInformerController.go:316","msg":"found NSE with name examplen4z24","app":"nse-discovery"}
{"level":"info","ts":1621630076.069421,"caller":"nseinformer/nseInformerController.go:186","msg":"Retrieved 1 endpoints from the local NSR","app":"nse-discovery"}
{"level":"info","ts":1621630076.0694344,"caller":"nseinformer/nseInformerController.go:189","msg":"Getting endpoints from the global NSR at: example.nispatil-wcm-cisco.com:80","app":"nse-discovery"}
time="2021-05-21T20:47:56Z" level=info msg="==--> discovery.FindNetworkService() span:119605fcda81e663:119605fcda81e663:0000000000000000:1"
time="2021-05-21T20:47:56Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=119605fcda81e663:119605fcda81e663:0000000000000000:1"
time="2021-05-21T20:47:56Z" level=info msg=">><<-- nsrURL=\"example.nispatil-wcm-cisco.com:80\" span=119605fcda81e663:119605fcda81e663:0000000000000000:1"
time="2021-05-21T20:47:56Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-05-21T20:47:56Z" level=info msg="==----> initRegistryClient() span:119605fcda81e663:28eefc6fae0b85cb:119605fcda81e663:1"
time="2021-05-21T20:47:56Z" level=info msg="Waiting for liveness probe: tcp:example.nispatil-wcm-cisco.com:80"
time="2021-05-21T20:47:56Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="119605fcda81e663:28eefc6fae0b85cb:119605fcda81e663:1"
time="2021-05-21T20:47:56Z" level=info msg="Successfully connected to example.nispatil-wcm-cisco.com:80" operation=initRegistryClient span="119605fcda81e663:28eefc6fae0b85cb:119605fcda81e663:1"
2021/05/21 20:47:56 Reporting span 119605fcda81e663:28eefc6fae0b85cb:119605fcda81e663:1
{"level":"info","ts":1621630076.077426,"caller":"nseinformer/nseInformerController.go:408","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-05-21T20:47:56Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=119605fcda81e663:119605fcda81e663:0000000000000000:1"
time="2021-05-21T20:47:56Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=119605fcda81e663:119605fcda81e663:0000000000000000:1"
2021/05/21 20:47:56 Reporting span 119605fcda81e663:7c6fba1c8f30e98f:119605fcda81e663:1
time="2021-05-21T20:47:56Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-1-control-plane\":{\"name\":\"kind-1-control-plane\",\"url\":\"172.17.0.2:5001\",\"expiration_time\":{\"seconds\":1621633382},\"state\":\"RUNNING\"},\"kind-2-control-plane\":{\"name\":\"kind-2-control-plane\",\"url\":\"172.17.0.3:5001\",\"expiration_time\":{\"seconds\":1621631723},\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"examplebkpg7\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-2-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-2_vl3-nse-example-9b57cccc7-7qtql\",\"wcm/cluster\":\"member1\",\"wcm/nsr.addr\":\"example.nispatil-wcm-cisco.com\",\"wcm/nsr.port\":\"80\"},\"state\":\"RUNNING\"},{\"name\":\"examplejbwqv\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-2-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-2_vl3-nse-example-9b57cccc7-666pb\",\"wcm/cluster\":\"member1\",\"wcm/nsr.addr\":\"example.nispatil-wcm-cisco.com\",\"wcm/nsr.port\":\"80\"},\"state\":\"RUNNING\"},{\"name\":\"examplen4z24\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-1-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"member1_vl3-nse-example-5f77749bd4-k8qck\",\"wcm/cluster\":\"test\",\"wcm/nsr.addr\":\"example.nispatil-wcm-cisco.com\",\"wcm/nsr.port\":\"80\"},\"state\":\"RUNNING\"}]} span=119605fcda81e663:119605fcda81e663:0000000000000000:1"
2021/05/21 20:47:56 Reporting span 119605fcda81e663:119605fcda81e663:0000000000000000:1
{"level":"info","ts":1621630076.080084,"caller":"nseinformer/nseInformerController.go:316","msg":"found NSE with name examplebkpg7","app":"nse-discovery"}
{"level":"info","ts":1621630076.0801334,"caller":"nseinformer/nseInformerController.go:316","msg":"found NSE with name examplejbwqv","app":"nse-discovery"}
{"level":"info","ts":1621630076.0801454,"caller":"nseinformer/nseInformerController.go:316","msg":"found NSE with name examplen4z24","app":"nse-discovery"}
{"level":"info","ts":1621630076.0801556,"caller":"nseinformer/nseInformerController.go:198","msg":"Retrieved 3 endpoints from the global NSR","app":"nse-discovery"}
{"level":"info","ts":1621630076.0801709,"caller":"nseinformer/nseInformerController.go:331","msg":"NSE diff:  For cluster test, skipping endpoint 'examplebkpg7'","app":"nse-discovery"}
{"level":"info","ts":1621630076.08018,"caller":"nseinformer/nseInformerController.go:331","msg":"NSE diff:  For cluster test, skipping endpoint 'examplejbwqv'","app":"nse-discovery"}
{"level":"info","ts":1621630076.0801888,"caller":"nseinformer/nseInformerController.go:328","msg":"NSE diff: For cluster test, adding endpoint 'examplen4z24'","app":"nse-discovery"}
{"level":"info","ts":1621630076.080393,"caller":"nseinformer/nseInformerController.go:341","msg":"NSE diff: For cluster test, endpoint match 'examplen4z24'","app":"nse-discovery"}
{"level":"info","ts":1621630076.080472,"caller":"nseinformer/nseInformerController.go:328","msg":"NSE diff: For cluster test, adding endpoint 'examplen4z24'","app":"nse-discovery"}
{"level":"info","ts":1621630076.0804915,"caller":"nseinformer/nseInformerController.go:344","msg":"NSE diff:  For cluster test, skip comparing endpoint 'examplebkpg7'","app":"nse-discovery"}
{"level":"info","ts":1621630076.0805004,"caller":"nseinformer/nseInformerController.go:344","msg":"NSE diff:  For cluster test, skip comparing endpoint 'examplejbwqv'","app":"nse-discovery"}
{"level":"info","ts":1621630076.080509,"caller":"nseinformer/nseInformerController.go:341","msg":"NSE diff: For cluster test, endpoint match 'examplen4z24'","app":"nse-discovery"}
{"level":"info","ts":1621630076.0805616,"caller":"nseinformer/nseInformerController.go:203","msg":"Global NSE diff result: 0 new NSEs to add, 0 NSEs to delete","app":"nse-discovery"}
{"level":"info","ts":1621630076.0805926,"caller":"nseinformer/nseInformerController.go:240","msg":"No endpoints to register to Global registry.","app":"nse-discovery"}
{"level":"info","ts":1621630076.080616,"caller":"nseinformer/nseInformerController.go:266","msg":"No endpoints to remove from Global registry.","app":"nse-discovery"}
{"level":"info","ts":1621630196.0501647,"caller":"nseinformer/nseInformerController.go:107","msg":"NSE pod: &{{ } {examplen4z24 example default /apis/networkservicemesh.io/v1alpha1/namespaces/default/networkserviceendpoints/examplen4z24 0d622914-5bc4-4981-8adb-b98c8bcdac84 10253 1 2021-05-21 20:43:02 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:member1_vl3-nse-example-5f77749bd4-k8qck wcm/nsr.addr:example.nispatil-wcm-cisco.com wcm/nsr.port:80] map[] [] []  []} {example IP kind-1-control-plane} {RUNNING}} was updated with: &{{ } {examplen4z24 example default /apis/networkservicemesh.io/v1alpha1/namespaces/default/networkserviceendpoints/examplen4z24 0d622914-5bc4-4981-8adb-b98c8bcdac84 10253 1 2021-05-21 20:43:02 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:member1_vl3-nse-example-5f77749bd4-k8qck wcm/nsr.addr:example.nispatil-wcm-cisco.com wcm/nsr.port:80] map[] [] []  []} {example IP kind-1-control-plane} {RUNNING}}","app":"nse-discovery"}
{"level":"info","ts":1621630196.0502543,"caller":"nseinformer/nseInformerController.go:156","msg":"Processing NSE named examplen4z24...","app":"nse-discovery"}
{"level":"info","ts":1621630196.0502677,"caller":"nseinformer/nseInformerController.go:163","msg":"Found service name: example","app":"nse-discovery"}
{"level":"info","ts":1621630196.0503147,"caller":"nseinformer/nseInformerController.go:178","msg":"Getting endpoints from the local NSR","app":"nse-discovery"}
time="2021-05-21T20:49:56Z" level=info msg="==--> discovery.FindNetworkService() span:6df75ecc745135b0:6df75ecc745135b0:0000000000000000:1"
time="2021-05-21T20:49:56Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=6df75ecc745135b0:6df75ecc745135b0:0000000000000000:1"
time="2021-05-21T20:49:56Z" level=info msg=">><<-- nsrURL=\"wcm-proxy-nsmgr.nsm-system:5005\" span=6df75ecc745135b0:6df75ecc745135b0:0000000000000000:1"
time="2021-05-21T20:49:56Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-05-21T20:49:56Z" level=info msg="==----> initRegistryClient() span:6df75ecc745135b0:4b6464096c729763:6df75ecc745135b0:1"
time="2021-05-21T20:49:56Z" level=info msg="Waiting for liveness probe: tcp:wcm-proxy-nsmgr.nsm-system:5005"
time="2021-05-21T20:49:56Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="6df75ecc745135b0:4b6464096c729763:6df75ecc745135b0:1"
time="2021-05-21T20:49:56Z" level=info msg="Successfully connected to wcm-proxy-nsmgr.nsm-system:5005" operation=initRegistryClient span="6df75ecc745135b0:4b6464096c729763:6df75ecc745135b0:1"
2021/05/21 20:49:56 Reporting span 6df75ecc745135b0:4b6464096c729763:6df75ecc745135b0:1
{"level":"info","ts":1621630196.0544946,"caller":"nseinformer/nseInformerController.go:408","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-05-21T20:49:56Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=6df75ecc745135b0:6df75ecc745135b0:0000000000000000:1"
time="2021-05-21T20:49:56Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=6df75ecc745135b0:6df75ecc745135b0:0000000000000000:1"
2021/05/21 20:49:56 Reporting span 6df75ecc745135b0:1b64cd79616439af:6df75ecc745135b0:1
time="2021-05-21T20:49:56Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-1-control-plane\":{\"name\":\"kind-1-control-plane\",\"url\":\"172.17.0.2:5001\",\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"examplen4z24\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-1-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"member1_vl3-nse-example-5f77749bd4-k8qck\",\"wcm/nsr.addr\":\"example.nispatil-wcm-cisco.com\",\"wcm/nsr.port\":\"80\"},\"state\":\"RUNNING\"}]} span=6df75ecc745135b0:6df75ecc745135b0:0000000000000000:1"
2021/05/21 20:49:56 Reporting span 6df75ecc745135b0:6df75ecc745135b0:0000000000000000:1
{"level":"info","ts":1621630196.0594962,"caller":"nseinformer/nseInformerController.go:316","msg":"found NSE with name examplen4z24","app":"nse-discovery"}
{"level":"info","ts":1621630196.059523,"caller":"nseinformer/nseInformerController.go:186","msg":"Retrieved 1 endpoints from the local NSR","app":"nse-discovery"}
{"level":"info","ts":1621630196.059654,"caller":"nseinformer/nseInformerController.go:189","msg":"Getting endpoints from the global NSR at: example.nispatil-wcm-cisco.com:80","app":"nse-discovery"}
time="2021-05-21T20:49:56Z" level=info msg="==--> discovery.FindNetworkService() span:686494d1ed6bf0fe:686494d1ed6bf0fe:0000000000000000:1"
time="2021-05-21T20:49:56Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=686494d1ed6bf0fe:686494d1ed6bf0fe:0000000000000000:1"
time="2021-05-21T20:49:56Z" level=info msg=">><<-- nsrURL=\"example.nispatil-wcm-cisco.com:80\" span=686494d1ed6bf0fe:686494d1ed6bf0fe:0000000000000000:1"
time="2021-05-21T20:49:56Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-05-21T20:49:56Z" level=info msg="==----> initRegistryClient() span:686494d1ed6bf0fe:3f8c5a26cde936e7:686494d1ed6bf0fe:1"
time="2021-05-21T20:49:56Z" level=info msg="Waiting for liveness probe: tcp:example.nispatil-wcm-cisco.com:80"
time="2021-05-21T20:50:16Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="686494d1ed6bf0fe:3f8c5a26cde936e7:686494d1ed6bf0fe:1"
time="2021-05-21T20:50:26Z" level=error msg="Failed to dial Network Service Registry at example.nispatil-wcm-cisco.com:80: context deadline exceeded" operation=initRegistryClient span="686494d1ed6bf0fe:3f8c5a26cde936e7:686494d1ed6bf0fe:1"
2021/05/21 20:50:26 Reporting span 686494d1ed6bf0fe:3f8c5a26cde936e7:686494d1ed6bf0fe:1
2021/05/21 20:50:26 Reporting span 686494d1ed6bf0fe:686494d1ed6bf0fe:0000000000000000:1
{"level":"info","ts":1621630226.0603101,"caller":"nseinformer/nseInformerController.go:369","msg":"Error processing pod &{{ } {examplen4z24 example default /apis/networkservicemesh.io/v1alpha1/namespaces/default/networkserviceendpoints/examplen4z24 0d622914-5bc4-4981-8adb-b98c8bcdac84 10253 1 2021-05-21 20:43:02 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:member1_vl3-nse-example-5f77749bd4-k8qck wcm/nsr.addr:example.nispatil-wcm-cisco.com wcm/nsr.port:80] map[] [] []  []} {example IP kind-1-control-plane} {RUNNING}}: Connection to Network Registry Server is not available","app":"nse-discovery"}
{"level":"info","ts":1621630226.0655684,"caller":"nseinformer/nseInformerController.go:156","msg":"Processing NSE named examplen4z24...","app":"nse-discovery"}
{"level":"info","ts":1621630226.0656106,"caller":"nseinformer/nseInformerController.go:163","msg":"Found service name: example","app":"nse-discovery"}
{"level":"info","ts":1621630226.0656402,"caller":"nseinformer/nseInformerController.go:178","msg":"Getting endpoints from the local NSR","app":"nse-discovery"}
time="2021-05-21T20:50:26Z" level=info msg="==--> discovery.FindNetworkService() span:3b07c0600ebd0fc9:3b07c0600ebd0fc9:0000000000000000:1"
time="2021-05-21T20:50:26Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=3b07c0600ebd0fc9:3b07c0600ebd0fc9:0000000000000000:1"
time="2021-05-21T20:50:26Z" level=info msg=">><<-- nsrURL=\"wcm-proxy-nsmgr.nsm-system:5005\" span=3b07c0600ebd0fc9:3b07c0600ebd0fc9:0000000000000000:1"
time="2021-05-21T20:50:26Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-05-21T20:50:26Z" level=info msg="==----> initRegistryClient() span:3b07c0600ebd0fc9:3d00a1a3820b814d:3b07c0600ebd0fc9:1"
time="2021-05-21T20:50:26Z" level=info msg="Waiting for liveness probe: tcp:wcm-proxy-nsmgr.nsm-system:5005"
time="2021-05-21T20:50:26Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="3b07c0600ebd0fc9:3d00a1a3820b814d:3b07c0600ebd0fc9:1"
time="2021-05-21T20:50:26Z" level=info msg="Successfully connected to wcm-proxy-nsmgr.nsm-system:5005" operation=initRegistryClient span="3b07c0600ebd0fc9:3d00a1a3820b814d:3b07c0600ebd0fc9:1"
2021/05/21 20:50:26 Reporting span 3b07c0600ebd0fc9:3d00a1a3820b814d:3b07c0600ebd0fc9:1
{"level":"info","ts":1621630226.069455,"caller":"nseinformer/nseInformerController.go:408","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-05-21T20:50:26Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=3b07c0600ebd0fc9:3b07c0600ebd0fc9:0000000000000000:1"
time="2021-05-21T20:50:26Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=3b07c0600ebd0fc9:3b07c0600ebd0fc9:0000000000000000:1"
2021/05/21 20:50:26 Reporting span 3b07c0600ebd0fc9:4c009be178470797:3b07c0600ebd0fc9:1
time="2021-05-21T20:50:26Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-1-control-plane\":{\"name\":\"kind-1-control-plane\",\"url\":\"172.17.0.2:5001\",\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"examplen4z24\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-1-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"member1_vl3-nse-example-5f77749bd4-k8qck\",\"wcm/nsr.addr\":\"example.nispatil-wcm-cisco.com\",\"wcm/nsr.port\":\"80\"},\"state\":\"RUNNING\"}]} span=3b07c0600ebd0fc9:3b07c0600ebd0fc9:0000000000000000:1"
2021/05/21 20:50:26 Reporting span 3b07c0600ebd0fc9:3b07c0600ebd0fc9:0000000000000000:1
{"level":"info","ts":1621630226.0737946,"caller":"nseinformer/nseInformerController.go:316","msg":"found NSE with name examplen4z24","app":"nse-discovery"}
{"level":"info","ts":1621630226.073841,"caller":"nseinformer/nseInformerController.go:186","msg":"Retrieved 1 endpoints from the local NSR","app":"nse-discovery"}
{"level":"info","ts":1621630226.0738547,"caller":"nseinformer/nseInformerController.go:189","msg":"Getting endpoints from the global NSR at: example.nispatil-wcm-cisco.com:80","app":"nse-discovery"}
time="2021-05-21T20:50:26Z" level=info msg="==--> discovery.FindNetworkService() span:71346e4d5e28a377:71346e4d5e28a377:0000000000000000:1"
time="2021-05-21T20:50:26Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=71346e4d5e28a377:71346e4d5e28a377:0000000000000000:1"
time="2021-05-21T20:50:26Z" level=info msg=">><<-- nsrURL=\"example.nispatil-wcm-cisco.com:80\" span=71346e4d5e28a377:71346e4d5e28a377:0000000000000000:1"
time="2021-05-21T20:50:26Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-05-21T20:50:26Z" level=info msg="==----> initRegistryClient() span:71346e4d5e28a377:57e3ce90f77c7248:71346e4d5e28a377:1"
time="2021-05-21T20:50:26Z" level=info msg="Waiting for liveness probe: tcp:example.nispatil-wcm-cisco.com:80"
time="2021-05-21T20:50:46Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="71346e4d5e28a377:57e3ce90f77c7248:71346e4d5e28a377:1"
time="2021-05-21T20:50:56Z" level=error msg="Failed to dial Network Service Registry at example.nispatil-wcm-cisco.com:80: context deadline exceeded" operation=initRegistryClient span="71346e4d5e28a377:57e3ce90f77c7248:71346e4d5e28a377:1"
2021/05/21 20:50:56 Reporting span 71346e4d5e28a377:57e3ce90f77c7248:71346e4d5e28a377:1
2021/05/21 20:50:56 Reporting span 71346e4d5e28a377:71346e4d5e28a377:0000000000000000:1
{"level":"info","ts":1621630256.0743368,"caller":"nseinformer/nseInformerController.go:369","msg":"Error processing pod &{{ } {examplen4z24 example default /apis/networkservicemesh.io/v1alpha1/namespaces/default/networkserviceendpoints/examplen4z24 0d622914-5bc4-4981-8adb-b98c8bcdac84 10253 1 2021-05-21 20:43:02 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:member1_vl3-nse-example-5f77749bd4-k8qck wcm/nsr.addr:example.nispatil-wcm-cisco.com wcm/nsr.port:80] map[] [] []  []} {example IP kind-1-control-plane} {RUNNING}}: Connection to Network Registry Server is not available","app":"nse-discovery"}
{"level":"info","ts":1621630256.0846019,"caller":"nseinformer/nseInformerController.go:156","msg":"Processing NSE named examplen4z24...","app":"nse-discovery"}
{"level":"info","ts":1621630256.0846844,"caller":"nseinformer/nseInformerController.go:163","msg":"Found service name: example","app":"nse-discovery"}
{"level":"info","ts":1621630256.0846984,"caller":"nseinformer/nseInformerController.go:178","msg":"Getting endpoints from the local NSR","app":"nse-discovery"}
time="2021-05-21T20:50:56Z" level=info msg="==--> discovery.FindNetworkService() span:5a399b17bd766ecf:5a399b17bd766ecf:0000000000000000:1"
time="2021-05-21T20:50:56Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=5a399b17bd766ecf:5a399b17bd766ecf:0000000000000000:1"
time="2021-05-21T20:50:56Z" level=info msg=">><<-- nsrURL=\"wcm-proxy-nsmgr.nsm-system:5005\" span=5a399b17bd766ecf:5a399b17bd766ecf:0000000000000000:1"
time="2021-05-21T20:50:56Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-05-21T20:50:56Z" level=info msg="==----> initRegistryClient() span:5a399b17bd766ecf:4b93a179e5f192c8:5a399b17bd766ecf:1"
time="2021-05-21T20:50:56Z" level=info msg="Waiting for liveness probe: tcp:wcm-proxy-nsmgr.nsm-system:5005"
time="2021-05-21T20:50:56Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="5a399b17bd766ecf:4b93a179e5f192c8:5a399b17bd766ecf:1"
time="2021-05-21T20:50:56Z" level=info msg="Successfully connected to wcm-proxy-nsmgr.nsm-system:5005" operation=initRegistryClient span="5a399b17bd766ecf:4b93a179e5f192c8:5a399b17bd766ecf:1"
2021/05/21 20:50:56 Reporting span 5a399b17bd766ecf:4b93a179e5f192c8:5a399b17bd766ecf:1
{"level":"info","ts":1621630256.088688,"caller":"nseinformer/nseInformerController.go:408","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-05-21T20:50:56Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=5a399b17bd766ecf:5a399b17bd766ecf:0000000000000000:1"
time="2021-05-21T20:50:56Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=5a399b17bd766ecf:5a399b17bd766ecf:0000000000000000:1"
2021/05/21 20:50:56 Reporting span 5a399b17bd766ecf:7fce5374e8d0b650:5a399b17bd766ecf:1
time="2021-05-21T20:50:56Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-1-control-plane\":{\"name\":\"kind-1-control-plane\",\"url\":\"172.17.0.2:5001\",\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"examplen4z24\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-1-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"member1_vl3-nse-example-5f77749bd4-k8qck\",\"wcm/nsr.addr\":\"example.nispatil-wcm-cisco.com\",\"wcm/nsr.port\":\"80\"},\"state\":\"RUNNING\"}]} span=5a399b17bd766ecf:5a399b17bd766ecf:0000000000000000:1"
2021/05/21 20:50:56 Reporting span 5a399b17bd766ecf:5a399b17bd766ecf:0000000000000000:1
{"level":"info","ts":1621630256.094812,"caller":"nseinformer/nseInformerController.go:316","msg":"found NSE with name examplen4z24","app":"nse-discovery"}
{"level":"info","ts":1621630256.0948436,"caller":"nseinformer/nseInformerController.go:186","msg":"Retrieved 1 endpoints from the local NSR","app":"nse-discovery"}
{"level":"info","ts":1621630256.0948553,"caller":"nseinformer/nseInformerController.go:189","msg":"Getting endpoints from the global NSR at: example.nispatil-wcm-cisco.com:80","app":"nse-discovery"}
time="2021-05-21T20:50:56Z" level=info msg="==--> discovery.FindNetworkService() span:78875b2c7bf8c15c:78875b2c7bf8c15c:0000000000000000:1"
time="2021-05-21T20:50:56Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=78875b2c7bf8c15c:78875b2c7bf8c15c:0000000000000000:1"
time="2021-05-21T20:50:56Z" level=info msg=">><<-- nsrURL=\"example.nispatil-wcm-cisco.com:80\" span=78875b2c7bf8c15c:78875b2c7bf8c15c:0000000000000000:1"
time="2021-05-21T20:50:56Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-05-21T20:50:56Z" level=info msg="==----> initRegistryClient() span:78875b2c7bf8c15c:7b83a749bd0a05d7:78875b2c7bf8c15c:1"
time="2021-05-21T20:50:56Z" level=info msg="Waiting for liveness probe: tcp:example.nispatil-wcm-cisco.com:80"
time="2021-05-21T20:51:11Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="78875b2c7bf8c15c:7b83a749bd0a05d7:78875b2c7bf8c15c:1"
time="2021-05-21T20:51:11Z" level=info msg="Successfully connected to example.nispatil-wcm-cisco.com:80" operation=initRegistryClient span="78875b2c7bf8c15c:7b83a749bd0a05d7:78875b2c7bf8c15c:1"
2021/05/21 20:51:11 Reporting span 78875b2c7bf8c15c:7b83a749bd0a05d7:78875b2c7bf8c15c:1
{"level":"info","ts":1621630271.1083949,"caller":"nseinformer/nseInformerController.go:408","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-05-21T20:51:11Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=78875b2c7bf8c15c:78875b2c7bf8c15c:0000000000000000:1"
time="2021-05-21T20:51:11Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=78875b2c7bf8c15c:78875b2c7bf8c15c:0000000000000000:1"
2021/05/21 20:51:11 Reporting span 78875b2c7bf8c15c:0620c8620438cc11:78875b2c7bf8c15c:1
time="2021-05-21T20:51:11Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-1-control-plane\":{\"name\":\"kind-1-control-plane\",\"url\":\"172.17.0.2:5001\",\"expiration_time\":{\"seconds\":1621633382},\"state\":\"RUNNING\"},\"kind-2-control-plane\":{\"name\":\"kind-2-control-plane\",\"url\":\"172.17.0.3:5001\",\"expiration_time\":{\"seconds\":1621631723},\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"examplebkpg7\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-2-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-2_vl3-nse-example-9b57cccc7-7qtql\",\"wcm/cluster\":\"member1\",\"wcm/nsr.addr\":\"example.nispatil-wcm-cisco.com\",\"wcm/nsr.port\":\"80\"},\"state\":\"RUNNING\"},{\"name\":\"examplejbwqv\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-2-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-2_vl3-nse-example-9b57cccc7-666pb\",\"wcm/cluster\":\"member1\",\"wcm/nsr.addr\":\"example.nispatil-wcm-cisco.com\",\"wcm/nsr.port\":\"80\"},\"state\":\"RUNNING\"},{\"name\":\"examplen4z24\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-1-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"member1_vl3-nse-example-5f77749bd4-k8qck\",\"wcm/cluster\":\"test\",\"wcm/nsr.addr\":\"example.nispatil-wcm-cisco.com\",\"wcm/nsr.port\":\"80\"},\"state\":\"RUNNING\"}]} span=78875b2c7bf8c15c:78875b2c7bf8c15c:0000000000000000:1"
2021/05/21 20:51:11 Reporting span 78875b2c7bf8c15c:78875b2c7bf8c15c:0000000000000000:1
{"level":"info","ts":1621630271.1111782,"caller":"nseinformer/nseInformerController.go:316","msg":"found NSE with name examplebkpg7","app":"nse-discovery"}
{"level":"info","ts":1621630271.1112149,"caller":"nseinformer/nseInformerController.go:316","msg":"found NSE with name examplejbwqv","app":"nse-discovery"}
{"level":"info","ts":1621630271.1112268,"caller":"nseinformer/nseInformerController.go:316","msg":"found NSE with name examplen4z24","app":"nse-discovery"}
{"level":"info","ts":1621630271.1112545,"caller":"nseinformer/nseInformerController.go:198","msg":"Retrieved 3 endpoints from the global NSR","app":"nse-discovery"}
{"level":"info","ts":1621630271.1112683,"caller":"nseinformer/nseInformerController.go:331","msg":"NSE diff:  For cluster test, skipping endpoint 'examplebkpg7'","app":"nse-discovery"}
{"level":"info","ts":1621630271.111292,"caller":"nseinformer/nseInformerController.go:331","msg":"NSE diff:  For cluster test, skipping endpoint 'examplejbwqv'","app":"nse-discovery"}
{"level":"info","ts":1621630271.1113021,"caller":"nseinformer/nseInformerController.go:328","msg":"NSE diff: For cluster test, adding endpoint 'examplen4z24'","app":"nse-discovery"}
{"level":"info","ts":1621630271.1113124,"caller":"nseinformer/nseInformerController.go:341","msg":"NSE diff: For cluster test, endpoint match 'examplen4z24'","app":"nse-discovery"}
{"level":"info","ts":1621630271.1113353,"caller":"nseinformer/nseInformerController.go:328","msg":"NSE diff: For cluster test, adding endpoint 'examplen4z24'","app":"nse-discovery"}
{"level":"info","ts":1621630271.1113427,"caller":"nseinformer/nseInformerController.go:344","msg":"NSE diff:  For cluster test, skip comparing endpoint 'examplebkpg7'","app":"nse-discovery"}
{"level":"info","ts":1621630271.1113482,"caller":"nseinformer/nseInformerController.go:344","msg":"NSE diff:  For cluster test, skip comparing endpoint 'examplejbwqv'","app":"nse-discovery"}
{"level":"info","ts":1621630271.111354,"caller":"nseinformer/nseInformerController.go:341","msg":"NSE diff: For cluster test, endpoint match 'examplen4z24'","app":"nse-discovery"}
{"level":"info","ts":1621630271.1113763,"caller":"nseinformer/nseInformerController.go:203","msg":"Global NSE diff result: 0 new NSEs to add, 0 NSEs to delete","app":"nse-discovery"}
{"level":"info","ts":1621630271.1113825,"caller":"nseinformer/nseInformerController.go:240","msg":"No endpoints to register to Global registry.","app":"nse-discovery"}
{"level":"info","ts":1621630271.1113896,"caller":"nseinformer/nseInformerController.go:266","msg":"No endpoints to remove from Global registry.","app":"nse-discovery"}
{"level":"info","ts":1621630316.0504198,"caller":"nseinformer/nseInformerController.go:107","msg":"NSE pod: &{{ } {examplen4z24 example default /apis/networkservicemesh.io/v1alpha1/namespaces/default/networkserviceendpoints/examplen4z24 0d622914-5bc4-4981-8adb-b98c8bcdac84 10253 1 2021-05-21 20:43:02 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:member1_vl3-nse-example-5f77749bd4-k8qck wcm/nsr.addr:example.nispatil-wcm-cisco.com wcm/nsr.port:80] map[] [] []  []} {example IP kind-1-control-plane} {RUNNING}} was updated with: &{{ } {examplen4z24 example default /apis/networkservicemesh.io/v1alpha1/namespaces/default/networkserviceendpoints/examplen4z24 0d622914-5bc4-4981-8adb-b98c8bcdac84 10253 1 2021-05-21 20:43:02 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:member1_vl3-nse-example-5f77749bd4-k8qck wcm/nsr.addr:example.nispatil-wcm-cisco.com wcm/nsr.port:80] map[] [] []  []} {example IP kind-1-control-plane} {RUNNING}}","app":"nse-discovery"}
{"level":"info","ts":1621630316.0504982,"caller":"nseinformer/nseInformerController.go:156","msg":"Processing NSE named examplen4z24...","app":"nse-discovery"}
{"level":"info","ts":1621630316.0505111,"caller":"nseinformer/nseInformerController.go:163","msg":"Found service name: example","app":"nse-discovery"}
{"level":"info","ts":1621630316.050524,"caller":"nseinformer/nseInformerController.go:178","msg":"Getting endpoints from the local NSR","app":"nse-discovery"}
time="2021-05-21T20:51:56Z" level=info msg="==--> discovery.FindNetworkService() span:7e2dd18389d256f9:7e2dd18389d256f9:0000000000000000:1"
time="2021-05-21T20:51:56Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=7e2dd18389d256f9:7e2dd18389d256f9:0000000000000000:1"
time="2021-05-21T20:51:56Z" level=info msg=">><<-- nsrURL=\"wcm-proxy-nsmgr.nsm-system:5005\" span=7e2dd18389d256f9:7e2dd18389d256f9:0000000000000000:1"
time="2021-05-21T20:51:56Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-05-21T20:51:56Z" level=info msg="==----> initRegistryClient() span:7e2dd18389d256f9:036ae8cd7c23996b:7e2dd18389d256f9:1"
time="2021-05-21T20:51:56Z" level=info msg="Waiting for liveness probe: tcp:wcm-proxy-nsmgr.nsm-system:5005"
time="2021-05-21T20:51:56Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="7e2dd18389d256f9:036ae8cd7c23996b:7e2dd18389d256f9:1"
time="2021-05-21T20:51:56Z" level=info msg="Successfully connected to wcm-proxy-nsmgr.nsm-system:5005" operation=initRegistryClient span="7e2dd18389d256f9:036ae8cd7c23996b:7e2dd18389d256f9:1"
2021/05/21 20:51:56 Reporting span 7e2dd18389d256f9:036ae8cd7c23996b:7e2dd18389d256f9:1
{"level":"info","ts":1621630316.0543017,"caller":"nseinformer/nseInformerController.go:408","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-05-21T20:51:56Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=7e2dd18389d256f9:7e2dd18389d256f9:0000000000000000:1"
time="2021-05-21T20:51:56Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=7e2dd18389d256f9:7e2dd18389d256f9:0000000000000000:1"
2021/05/21 20:51:56 Reporting span 7e2dd18389d256f9:6f956abb6ce0ea65:7e2dd18389d256f9:1
time="2021-05-21T20:51:56Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-1-control-plane\":{\"name\":\"kind-1-control-plane\",\"url\":\"172.17.0.2:5001\",\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"examplen4z24\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-1-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"member1_vl3-nse-example-5f77749bd4-k8qck\",\"wcm/nsr.addr\":\"example.nispatil-wcm-cisco.com\",\"wcm/nsr.port\":\"80\"},\"state\":\"RUNNING\"}]} span=7e2dd18389d256f9:7e2dd18389d256f9:0000000000000000:1"
2021/05/21 20:51:56 Reporting span 7e2dd18389d256f9:7e2dd18389d256f9:0000000000000000:1
{"level":"info","ts":1621630316.0597236,"caller":"nseinformer/nseInformerController.go:316","msg":"found NSE with name examplen4z24","app":"nse-discovery"}
{"level":"info","ts":1621630316.059956,"caller":"nseinformer/nseInformerController.go:186","msg":"Retrieved 1 endpoints from the local NSR","app":"nse-discovery"}
{"level":"info","ts":1621630316.0599709,"caller":"nseinformer/nseInformerController.go:189","msg":"Getting endpoints from the global NSR at: example.nispatil-wcm-cisco.com:80","app":"nse-discovery"}
time="2021-05-21T20:51:56Z" level=info msg="==--> discovery.FindNetworkService() span:515211a60e2d521e:515211a60e2d521e:0000000000000000:1"
time="2021-05-21T20:51:56Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=515211a60e2d521e:515211a60e2d521e:0000000000000000:1"
time="2021-05-21T20:51:56Z" level=info msg=">><<-- nsrURL=\"example.nispatil-wcm-cisco.com:80\" span=515211a60e2d521e:515211a60e2d521e:0000000000000000:1"
time="2021-05-21T20:51:56Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-05-21T20:51:56Z" level=info msg="==----> initRegistryClient() span:515211a60e2d521e:1cee821fd31f62d4:515211a60e2d521e:1"
time="2021-05-21T20:51:56Z" level=info msg="Waiting for liveness probe: tcp:example.nispatil-wcm-cisco.com:80"
time="2021-05-21T20:52:11Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="515211a60e2d521e:1cee821fd31f62d4:515211a60e2d521e:1"
time="2021-05-21T20:52:17Z" level=info msg="Successfully connected to example.nispatil-wcm-cisco.com:80" operation=initRegistryClient span="515211a60e2d521e:1cee821fd31f62d4:515211a60e2d521e:1"
2021/05/21 20:52:17 Reporting span 515211a60e2d521e:1cee821fd31f62d4:515211a60e2d521e:1
{"level":"info","ts":1621630337.734288,"caller":"nseinformer/nseInformerController.go:408","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-05-21T20:52:17Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=515211a60e2d521e:515211a60e2d521e:0000000000000000:1"
time="2021-05-21T20:52:17Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=515211a60e2d521e:515211a60e2d521e:0000000000000000:1"
2021/05/21 20:52:17 Reporting span 515211a60e2d521e:2dbadc32ae479300:515211a60e2d521e:1
time="2021-05-21T20:52:17Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-1-control-plane\":{\"name\":\"kind-1-control-plane\",\"url\":\"172.17.0.2:5001\",\"expiration_time\":{\"seconds\":1621633382},\"state\":\"RUNNING\"},\"kind-2-control-plane\":{\"name\":\"kind-2-control-plane\",\"url\":\"172.17.0.3:5001\",\"expiration_time\":{\"seconds\":1621631723},\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"examplebkpg7\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-2-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-2_vl3-nse-example-9b57cccc7-7qtql\",\"wcm/cluster\":\"member1\",\"wcm/nsr.addr\":\"example.nispatil-wcm-cisco.com\",\"wcm/nsr.port\":\"80\"},\"state\":\"RUNNING\"},{\"name\":\"examplejbwqv\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-2-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-2_vl3-nse-example-9b57cccc7-666pb\",\"wcm/cluster\":\"member1\",\"wcm/nsr.addr\":\"example.nispatil-wcm-cisco.com\",\"wcm/nsr.port\":\"80\"},\"state\":\"RUNNING\"},{\"name\":\"examplen4z24\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-1-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"member1_vl3-nse-example-5f77749bd4-k8qck\",\"wcm/cluster\":\"test\",\"wcm/nsr.addr\":\"example.nispatil-wcm-cisco.com\",\"wcm/nsr.port\":\"80\"},\"state\":\"RUNNING\"}]} span=515211a60e2d521e:515211a60e2d521e:0000000000000000:1"
2021/05/21 20:52:17 Reporting span 515211a60e2d521e:515211a60e2d521e:0000000000000000:1
{"level":"info","ts":1621630337.736805,"caller":"nseinformer/nseInformerController.go:316","msg":"found NSE with name examplebkpg7","app":"nse-discovery"}
{"level":"info","ts":1621630337.7368302,"caller":"nseinformer/nseInformerController.go:316","msg":"found NSE with name examplejbwqv","app":"nse-discovery"}
{"level":"info","ts":1621630337.7368414,"caller":"nseinformer/nseInformerController.go:316","msg":"found NSE with name examplen4z24","app":"nse-discovery"}
{"level":"info","ts":1621630337.7368512,"caller":"nseinformer/nseInformerController.go:198","msg":"Retrieved 3 endpoints from the global NSR","app":"nse-discovery"}
{"level":"info","ts":1621630337.7368639,"caller":"nseinformer/nseInformerController.go:331","msg":"NSE diff:  For cluster test, skipping endpoint 'examplebkpg7'","app":"nse-discovery"}
{"level":"info","ts":1621630337.7368727,"caller":"nseinformer/nseInformerController.go:331","msg":"NSE diff:  For cluster test, skipping endpoint 'examplejbwqv'","app":"nse-discovery"}
{"level":"info","ts":1621630337.7368813,"caller":"nseinformer/nseInformerController.go:328","msg":"NSE diff: For cluster test, adding endpoint 'examplen4z24'","app":"nse-discovery"}
{"level":"info","ts":1621630337.7368903,"caller":"nseinformer/nseInformerController.go:341","msg":"NSE diff: For cluster test, endpoint match 'examplen4z24'","app":"nse-discovery"}
{"level":"info","ts":1621630337.7368994,"caller":"nseinformer/nseInformerController.go:328","msg":"NSE diff: For cluster test, adding endpoint 'examplen4z24'","app":"nse-discovery"}
{"level":"info","ts":1621630337.7369084,"caller":"nseinformer/nseInformerController.go:344","msg":"NSE diff:  For cluster test, skip comparing endpoint 'examplebkpg7'","app":"nse-discovery"}
{"level":"info","ts":1621630337.736917,"caller":"nseinformer/nseInformerController.go:344","msg":"NSE diff:  For cluster test, skip comparing endpoint 'examplejbwqv'","app":"nse-discovery"}
{"level":"info","ts":1621630337.7369268,"caller":"nseinformer/nseInformerController.go:341","msg":"NSE diff: For cluster test, endpoint match 'examplen4z24'","app":"nse-discovery"}
{"level":"info","ts":1621630337.7369356,"caller":"nseinformer/nseInformerController.go:203","msg":"Global NSE diff result: 0 new NSEs to add, 0 NSEs to delete","app":"nse-discovery"}
{"level":"info","ts":1621630337.736976,"caller":"nseinformer/nseInformerController.go:240","msg":"No endpoints to register to Global registry.","app":"nse-discovery"}
{"level":"info","ts":1621630337.7370074,"caller":"nseinformer/nseInformerController.go:266","msg":"No endpoints to remove from Global registry.","app":"nse-discovery"}
{"level":"info","ts":1621630436.0508347,"caller":"nseinformer/nseInformerController.go:107","msg":"NSE pod: &{{ } {examplen4z24 example default /apis/networkservicemesh.io/v1alpha1/namespaces/default/networkserviceendpoints/examplen4z24 0d622914-5bc4-4981-8adb-b98c8bcdac84 10253 1 2021-05-21 20:43:02 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:member1_vl3-nse-example-5f77749bd4-k8qck wcm/nsr.addr:example.nispatil-wcm-cisco.com wcm/nsr.port:80] map[] [] []  []} {example IP kind-1-control-plane} {RUNNING}} was updated with: &{{ } {examplen4z24 example default /apis/networkservicemesh.io/v1alpha1/namespaces/default/networkserviceendpoints/examplen4z24 0d622914-5bc4-4981-8adb-b98c8bcdac84 10253 1 2021-05-21 20:43:02 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:member1_vl3-nse-example-5f77749bd4-k8qck wcm/nsr.addr:example.nispatil-wcm-cisco.com wcm/nsr.port:80] map[] [] []  []} {example IP kind-1-control-plane} {RUNNING}}","app":"nse-discovery"}
{"level":"info","ts":1621630436.0509086,"caller":"nseinformer/nseInformerController.go:156","msg":"Processing NSE named examplen4z24...","app":"nse-discovery"}
{"level":"info","ts":1621630436.0509224,"caller":"nseinformer/nseInformerController.go:163","msg":"Found service name: example","app":"nse-discovery"}
{"level":"info","ts":1621630436.0509346,"caller":"nseinformer/nseInformerController.go:178","msg":"Getting endpoints from the local NSR","app":"nse-discovery"}
time="2021-05-21T20:53:56Z" level=info msg="==--> discovery.FindNetworkService() span:1277041623cf7eea:1277041623cf7eea:0000000000000000:1"
time="2021-05-21T20:53:56Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=1277041623cf7eea:1277041623cf7eea:0000000000000000:1"
time="2021-05-21T20:53:56Z" level=info msg=">><<-- nsrURL=\"wcm-proxy-nsmgr.nsm-system:5005\" span=1277041623cf7eea:1277041623cf7eea:0000000000000000:1"
time="2021-05-21T20:53:56Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-05-21T20:53:56Z" level=info msg="==----> initRegistryClient() span:1277041623cf7eea:057f3cd2ed314279:1277041623cf7eea:1"
time="2021-05-21T20:53:56Z" level=info msg="Waiting for liveness probe: tcp:wcm-proxy-nsmgr.nsm-system:5005"
time="2021-05-21T20:53:56Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="1277041623cf7eea:057f3cd2ed314279:1277041623cf7eea:1"
time="2021-05-21T20:53:56Z" level=info msg="Successfully connected to wcm-proxy-nsmgr.nsm-system:5005" operation=initRegistryClient span="1277041623cf7eea:057f3cd2ed314279:1277041623cf7eea:1"
2021/05/21 20:53:56 Reporting span 1277041623cf7eea:057f3cd2ed314279:1277041623cf7eea:1
{"level":"info","ts":1621630436.05448,"caller":"nseinformer/nseInformerController.go:408","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-05-21T20:53:56Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=1277041623cf7eea:1277041623cf7eea:0000000000000000:1"
time="2021-05-21T20:53:56Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=1277041623cf7eea:1277041623cf7eea:0000000000000000:1"
2021/05/21 20:53:56 Reporting span 1277041623cf7eea:3e8c4bcff6757168:1277041623cf7eea:1
time="2021-05-21T20:53:56Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-1-control-plane\":{\"name\":\"kind-1-control-plane\",\"url\":\"172.17.0.2:5001\",\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"examplen4z24\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-1-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"member1_vl3-nse-example-5f77749bd4-k8qck\",\"wcm/nsr.addr\":\"example.nispatil-wcm-cisco.com\",\"wcm/nsr.port\":\"80\"},\"state\":\"RUNNING\"}]} span=1277041623cf7eea:1277041623cf7eea:0000000000000000:1"
2021/05/21 20:53:56 Reporting span 1277041623cf7eea:1277041623cf7eea:0000000000000000:1
{"level":"info","ts":1621630436.0600228,"caller":"nseinformer/nseInformerController.go:316","msg":"found NSE with name examplen4z24","app":"nse-discovery"}
{"level":"info","ts":1621630436.060055,"caller":"nseinformer/nseInformerController.go:186","msg":"Retrieved 1 endpoints from the local NSR","app":"nse-discovery"}
{"level":"info","ts":1621630436.0600665,"caller":"nseinformer/nseInformerController.go:189","msg":"Getting endpoints from the global NSR at: example.nispatil-wcm-cisco.com:80","app":"nse-discovery"}
time="2021-05-21T20:53:56Z" level=info msg="==--> discovery.FindNetworkService() span:5a3bcae5917f8674:5a3bcae5917f8674:0000000000000000:1"
time="2021-05-21T20:53:56Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=5a3bcae5917f8674:5a3bcae5917f8674:0000000000000000:1"
time="2021-05-21T20:53:56Z" level=info msg=">><<-- nsrURL=\"example.nispatil-wcm-cisco.com:80\" span=5a3bcae5917f8674:5a3bcae5917f8674:0000000000000000:1"
time="2021-05-21T20:53:56Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-05-21T20:53:56Z" level=info msg="==----> initRegistryClient() span:5a3bcae5917f8674:468bb87fd90df831:5a3bcae5917f8674:1"
time="2021-05-21T20:53:56Z" level=info msg="Waiting for liveness probe: tcp:example.nispatil-wcm-cisco.com:80"
time="2021-05-21T20:54:16Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="5a3bcae5917f8674:468bb87fd90df831:5a3bcae5917f8674:1"
time="2021-05-21T20:54:26Z" level=error msg="Failed to dial Network Service Registry at example.nispatil-wcm-cisco.com:80: context deadline exceeded" operation=initRegistryClient span="5a3bcae5917f8674:468bb87fd90df831:5a3bcae5917f8674:1"
2021/05/21 20:54:26 Reporting span 5a3bcae5917f8674:468bb87fd90df831:5a3bcae5917f8674:1
2021/05/21 20:54:26 Reporting span 5a3bcae5917f8674:5a3bcae5917f8674:0000000000000000:1
{"level":"info","ts":1621630466.0606654,"caller":"nseinformer/nseInformerController.go:369","msg":"Error processing pod &{{ } {examplen4z24 example default /apis/networkservicemesh.io/v1alpha1/namespaces/default/networkserviceendpoints/examplen4z24 0d622914-5bc4-4981-8adb-b98c8bcdac84 10253 1 2021-05-21 20:43:02 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:member1_vl3-nse-example-5f77749bd4-k8qck wcm/nsr.addr:example.nispatil-wcm-cisco.com wcm/nsr.port:80] map[] [] []  []} {example IP kind-1-control-plane} {RUNNING}}: Connection to Network Registry Server is not available","app":"nse-discovery"}
{"level":"info","ts":1621630466.0658484,"caller":"nseinformer/nseInformerController.go:156","msg":"Processing NSE named examplen4z24...","app":"nse-discovery"}
{"level":"info","ts":1621630466.0658832,"caller":"nseinformer/nseInformerController.go:163","msg":"Found service name: example","app":"nse-discovery"}
{"level":"info","ts":1621630466.065892,"caller":"nseinformer/nseInformerController.go:178","msg":"Getting endpoints from the local NSR","app":"nse-discovery"}
time="2021-05-21T20:54:26Z" level=info msg="==--> discovery.FindNetworkService() span:40c6eb1da529be92:40c6eb1da529be92:0000000000000000:1"
time="2021-05-21T20:54:26Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=40c6eb1da529be92:40c6eb1da529be92:0000000000000000:1"
time="2021-05-21T20:54:26Z" level=info msg=">><<-- nsrURL=\"wcm-proxy-nsmgr.nsm-system:5005\" span=40c6eb1da529be92:40c6eb1da529be92:0000000000000000:1"
time="2021-05-21T20:54:26Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-05-21T20:54:26Z" level=info msg="==----> initRegistryClient() span:40c6eb1da529be92:4d08ac6e4bd57a03:40c6eb1da529be92:1"
time="2021-05-21T20:54:26Z" level=info msg="Waiting for liveness probe: tcp:wcm-proxy-nsmgr.nsm-system:5005"
time="2021-05-21T20:54:26Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="40c6eb1da529be92:4d08ac6e4bd57a03:40c6eb1da529be92:1"
time="2021-05-21T20:54:26Z" level=info msg="Successfully connected to wcm-proxy-nsmgr.nsm-system:5005" operation=initRegistryClient span="40c6eb1da529be92:4d08ac6e4bd57a03:40c6eb1da529be92:1"
2021/05/21 20:54:26 Reporting span 40c6eb1da529be92:4d08ac6e4bd57a03:40c6eb1da529be92:1
{"level":"info","ts":1621630466.0705628,"caller":"nseinformer/nseInformerController.go:408","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-05-21T20:54:26Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=40c6eb1da529be92:40c6eb1da529be92:0000000000000000:1"
time="2021-05-21T20:54:26Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=40c6eb1da529be92:40c6eb1da529be92:0000000000000000:1"
2021/05/21 20:54:26 Reporting span 40c6eb1da529be92:2cd800fb5bbc756d:40c6eb1da529be92:1
time="2021-05-21T20:54:26Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-1-control-plane\":{\"name\":\"kind-1-control-plane\",\"url\":\"172.17.0.2:5001\",\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"examplen4z24\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-1-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"member1_vl3-nse-example-5f77749bd4-k8qck\",\"wcm/nsr.addr\":\"example.nispatil-wcm-cisco.com\",\"wcm/nsr.port\":\"80\"},\"state\":\"RUNNING\"}]} span=40c6eb1da529be92:40c6eb1da529be92:0000000000000000:1"
2021/05/21 20:54:26 Reporting span 40c6eb1da529be92:40c6eb1da529be92:0000000000000000:1
{"level":"info","ts":1621630466.0758095,"caller":"nseinformer/nseInformerController.go:316","msg":"found NSE with name examplen4z24","app":"nse-discovery"}
{"level":"info","ts":1621630466.0758476,"caller":"nseinformer/nseInformerController.go:186","msg":"Retrieved 1 endpoints from the local NSR","app":"nse-discovery"}
{"level":"info","ts":1621630466.07586,"caller":"nseinformer/nseInformerController.go:189","msg":"Getting endpoints from the global NSR at: example.nispatil-wcm-cisco.com:80","app":"nse-discovery"}
time="2021-05-21T20:54:26Z" level=info msg="==--> discovery.FindNetworkService() span:471a448e2a781e6d:471a448e2a781e6d:0000000000000000:1"
time="2021-05-21T20:54:26Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=471a448e2a781e6d:471a448e2a781e6d:0000000000000000:1"
time="2021-05-21T20:54:26Z" level=info msg=">><<-- nsrURL=\"example.nispatil-wcm-cisco.com:80\" span=471a448e2a781e6d:471a448e2a781e6d:0000000000000000:1"
time="2021-05-21T20:54:26Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-05-21T20:54:26Z" level=info msg="==----> initRegistryClient() span:471a448e2a781e6d:388660025af6d358:471a448e2a781e6d:1"
time="2021-05-21T20:54:26Z" level=info msg="Waiting for liveness probe: tcp:example.nispatil-wcm-cisco.com:80"
time="2021-05-21T20:54:46Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="471a448e2a781e6d:388660025af6d358:471a448e2a781e6d:1"
time="2021-05-21T20:54:46Z" level=info msg="Successfully connected to example.nispatil-wcm-cisco.com:80" operation=initRegistryClient span="471a448e2a781e6d:388660025af6d358:471a448e2a781e6d:1"
2021/05/21 20:54:46 Reporting span 471a448e2a781e6d:388660025af6d358:471a448e2a781e6d:1
{"level":"info","ts":1621630486.087137,"caller":"nseinformer/nseInformerController.go:408","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-05-21T20:54:46Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=471a448e2a781e6d:471a448e2a781e6d:0000000000000000:1"
time="2021-05-21T20:54:46Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=471a448e2a781e6d:471a448e2a781e6d:0000000000000000:1"
2021/05/21 20:54:46 Reporting span 471a448e2a781e6d:6bc5c67d3e5a1414:471a448e2a781e6d:1
time="2021-05-21T20:54:46Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-1-control-plane\":{\"name\":\"kind-1-control-plane\",\"url\":\"172.17.0.2:5001\",\"expiration_time\":{\"seconds\":1621633382},\"state\":\"RUNNING\"},\"kind-2-control-plane\":{\"name\":\"kind-2-control-plane\",\"url\":\"172.17.0.3:5001\",\"expiration_time\":{\"seconds\":1621631723},\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"examplebkpg7\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-2-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-2_vl3-nse-example-9b57cccc7-7qtql\",\"wcm/cluster\":\"member1\",\"wcm/nsr.addr\":\"example.nispatil-wcm-cisco.com\",\"wcm/nsr.port\":\"80\"},\"state\":\"RUNNING\"},{\"name\":\"examplejbwqv\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-2-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-2_vl3-nse-example-9b57cccc7-666pb\",\"wcm/cluster\":\"member1\",\"wcm/nsr.addr\":\"example.nispatil-wcm-cisco.com\",\"wcm/nsr.port\":\"80\"},\"state\":\"RUNNING\"},{\"name\":\"examplen4z24\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-1-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"member1_vl3-nse-example-5f77749bd4-k8qck\",\"wcm/cluster\":\"test\",\"wcm/nsr.addr\":\"example.nispatil-wcm-cisco.com\",\"wcm/nsr.port\":\"80\"},\"state\":\"RUNNING\"}]} span=471a448e2a781e6d:471a448e2a781e6d:0000000000000000:1"
2021/05/21 20:54:46 Reporting span 471a448e2a781e6d:471a448e2a781e6d:0000000000000000:1
{"level":"info","ts":1621630486.090035,"caller":"nseinformer/nseInformerController.go:316","msg":"found NSE with name examplebkpg7","app":"nse-discovery"}
{"level":"info","ts":1621630486.0900896,"caller":"nseinformer/nseInformerController.go:316","msg":"found NSE with name examplejbwqv","app":"nse-discovery"}
{"level":"info","ts":1621630486.090102,"caller":"nseinformer/nseInformerController.go:316","msg":"found NSE with name examplen4z24","app":"nse-discovery"}
{"level":"info","ts":1621630486.090166,"caller":"nseinformer/nseInformerController.go:198","msg":"Retrieved 3 endpoints from the global NSR","app":"nse-discovery"}
{"level":"info","ts":1621630486.0901997,"caller":"nseinformer/nseInformerController.go:331","msg":"NSE diff:  For cluster test, skipping endpoint 'examplebkpg7'","app":"nse-discovery"}
{"level":"info","ts":1621630486.09021,"caller":"nseinformer/nseInformerController.go:331","msg":"NSE diff:  For cluster test, skipping endpoint 'examplejbwqv'","app":"nse-discovery"}
{"level":"info","ts":1621630486.0902317,"caller":"nseinformer/nseInformerController.go:328","msg":"NSE diff: For cluster test, adding endpoint 'examplen4z24'","app":"nse-discovery"}
{"level":"info","ts":1621630486.0902443,"caller":"nseinformer/nseInformerController.go:341","msg":"NSE diff: For cluster test, endpoint match 'examplen4z24'","app":"nse-discovery"}
{"level":"info","ts":1621630486.090254,"caller":"nseinformer/nseInformerController.go:328","msg":"NSE diff: For cluster test, adding endpoint 'examplen4z24'","app":"nse-discovery"}
{"level":"info","ts":1621630486.090263,"caller":"nseinformer/nseInformerController.go:344","msg":"NSE diff:  For cluster test, skip comparing endpoint 'examplebkpg7'","app":"nse-discovery"}
{"level":"info","ts":1621630486.0902715,"caller":"nseinformer/nseInformerController.go:344","msg":"NSE diff:  For cluster test, skip comparing endpoint 'examplejbwqv'","app":"nse-discovery"}
{"level":"info","ts":1621630486.0903027,"caller":"nseinformer/nseInformerController.go:341","msg":"NSE diff: For cluster test, endpoint match 'examplen4z24'","app":"nse-discovery"}
{"level":"info","ts":1621630486.09033,"caller":"nseinformer/nseInformerController.go:203","msg":"Global NSE diff result: 0 new NSEs to add, 0 NSEs to delete","app":"nse-discovery"}
{"level":"info","ts":1621630486.0903394,"caller":"nseinformer/nseInformerController.go:240","msg":"No endpoints to register to Global registry.","app":"nse-discovery"}
{"level":"info","ts":1621630486.0903704,"caller":"nseinformer/nseInformerController.go:266","msg":"No endpoints to remove from Global registry.","app":"nse-discovery"}
{"level":"info","ts":1621630556.051161,"caller":"nseinformer/nseInformerController.go:107","msg":"NSE pod: &{{ } {examplen4z24 example default /apis/networkservicemesh.io/v1alpha1/namespaces/default/networkserviceendpoints/examplen4z24 0d622914-5bc4-4981-8adb-b98c8bcdac84 10253 1 2021-05-21 20:43:02 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:member1_vl3-nse-example-5f77749bd4-k8qck wcm/nsr.addr:example.nispatil-wcm-cisco.com wcm/nsr.port:80] map[] [] []  []} {example IP kind-1-control-plane} {RUNNING}} was updated with: &{{ } {examplen4z24 example default /apis/networkservicemesh.io/v1alpha1/namespaces/default/networkserviceendpoints/examplen4z24 0d622914-5bc4-4981-8adb-b98c8bcdac84 10253 1 2021-05-21 20:43:02 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:member1_vl3-nse-example-5f77749bd4-k8qck wcm/nsr.addr:example.nispatil-wcm-cisco.com wcm/nsr.port:80] map[] [] []  []} {example IP kind-1-control-plane} {RUNNING}}","app":"nse-discovery"}
{"level":"info","ts":1621630556.051239,"caller":"nseinformer/nseInformerController.go:156","msg":"Processing NSE named examplen4z24...","app":"nse-discovery"}
{"level":"info","ts":1621630556.0512488,"caller":"nseinformer/nseInformerController.go:163","msg":"Found service name: example","app":"nse-discovery"}
{"level":"info","ts":1621630556.051258,"caller":"nseinformer/nseInformerController.go:178","msg":"Getting endpoints from the local NSR","app":"nse-discovery"}
time="2021-05-21T20:55:56Z" level=info msg="==--> discovery.FindNetworkService() span:7e5c85332bc56635:7e5c85332bc56635:0000000000000000:1"
time="2021-05-21T20:55:56Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=7e5c85332bc56635:7e5c85332bc56635:0000000000000000:1"
time="2021-05-21T20:55:56Z" level=info msg=">><<-- nsrURL=\"wcm-proxy-nsmgr.nsm-system:5005\" span=7e5c85332bc56635:7e5c85332bc56635:0000000000000000:1"
time="2021-05-21T20:55:56Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-05-21T20:55:56Z" level=info msg="==----> initRegistryClient() span:7e5c85332bc56635:41601773f7ac9624:7e5c85332bc56635:1"
time="2021-05-21T20:55:56Z" level=info msg="Waiting for liveness probe: tcp:wcm-proxy-nsmgr.nsm-system:5005"
time="2021-05-21T20:55:56Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="7e5c85332bc56635:41601773f7ac9624:7e5c85332bc56635:1"
time="2021-05-21T20:55:56Z" level=info msg="Successfully connected to wcm-proxy-nsmgr.nsm-system:5005" operation=initRegistryClient span="7e5c85332bc56635:41601773f7ac9624:7e5c85332bc56635:1"
2021/05/21 20:55:56 Reporting span 7e5c85332bc56635:41601773f7ac9624:7e5c85332bc56635:1
{"level":"info","ts":1621630556.0553439,"caller":"nseinformer/nseInformerController.go:408","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-05-21T20:55:56Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=7e5c85332bc56635:7e5c85332bc56635:0000000000000000:1"
time="2021-05-21T20:55:56Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=7e5c85332bc56635:7e5c85332bc56635:0000000000000000:1"
2021/05/21 20:55:56 Reporting span 7e5c85332bc56635:3342c4eaf7b46f13:7e5c85332bc56635:1
time="2021-05-21T20:55:56Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-1-control-plane\":{\"name\":\"kind-1-control-plane\",\"url\":\"172.17.0.2:5001\",\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"examplen4z24\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-1-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"member1_vl3-nse-example-5f77749bd4-k8qck\",\"wcm/nsr.addr\":\"example.nispatil-wcm-cisco.com\",\"wcm/nsr.port\":\"80\"},\"state\":\"RUNNING\"}]} span=7e5c85332bc56635:7e5c85332bc56635:0000000000000000:1"
2021/05/21 20:55:56 Reporting span 7e5c85332bc56635:7e5c85332bc56635:0000000000000000:1
{"level":"info","ts":1621630556.0609195,"caller":"nseinformer/nseInformerController.go:316","msg":"found NSE with name examplen4z24","app":"nse-discovery"}
{"level":"info","ts":1621630556.06116,"caller":"nseinformer/nseInformerController.go:186","msg":"Retrieved 1 endpoints from the local NSR","app":"nse-discovery"}
{"level":"info","ts":1621630556.0611956,"caller":"nseinformer/nseInformerController.go:189","msg":"Getting endpoints from the global NSR at: example.nispatil-wcm-cisco.com:80","app":"nse-discovery"}
time="2021-05-21T20:55:56Z" level=info msg="==--> discovery.FindNetworkService() span:13a94f5fa3238da0:13a94f5fa3238da0:0000000000000000:1"
time="2021-05-21T20:55:56Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=13a94f5fa3238da0:13a94f5fa3238da0:0000000000000000:1"
time="2021-05-21T20:55:56Z" level=info msg=">><<-- nsrURL=\"example.nispatil-wcm-cisco.com:80\" span=13a94f5fa3238da0:13a94f5fa3238da0:0000000000000000:1"
time="2021-05-21T20:55:56Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-05-21T20:55:56Z" level=info msg="==----> initRegistryClient() span:13a94f5fa3238da0:72649a51bfb021f6:13a94f5fa3238da0:1"
time="2021-05-21T20:55:56Z" level=info msg="Waiting for liveness probe: tcp:example.nispatil-wcm-cisco.com:80"
time="2021-05-21T20:56:06Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="13a94f5fa3238da0:72649a51bfb021f6:13a94f5fa3238da0:1"
time="2021-05-21T20:56:06Z" level=info msg="Successfully connected to example.nispatil-wcm-cisco.com:80" operation=initRegistryClient span="13a94f5fa3238da0:72649a51bfb021f6:13a94f5fa3238da0:1"
2021/05/21 20:56:06 Reporting span 13a94f5fa3238da0:72649a51bfb021f6:13a94f5fa3238da0:1
{"level":"info","ts":1621630566.0689948,"caller":"nseinformer/nseInformerController.go:408","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-05-21T20:56:06Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=13a94f5fa3238da0:13a94f5fa3238da0:0000000000000000:1"
time="2021-05-21T20:56:06Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=13a94f5fa3238da0:13a94f5fa3238da0:0000000000000000:1"
2021/05/21 20:56:06 Reporting span 13a94f5fa3238da0:10da79ecd3089042:13a94f5fa3238da0:1
time="2021-05-21T20:56:06Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-1-control-plane\":{\"name\":\"kind-1-control-plane\",\"url\":\"172.17.0.2:5001\",\"expiration_time\":{\"seconds\":1621633382},\"state\":\"RUNNING\"},\"kind-2-control-plane\":{\"name\":\"kind-2-control-plane\",\"url\":\"172.17.0.3:5001\",\"expiration_time\":{\"seconds\":1621631723},\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"examplebkpg7\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-2-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-2_vl3-nse-example-9b57cccc7-7qtql\",\"wcm/cluster\":\"member1\",\"wcm/nsr.addr\":\"example.nispatil-wcm-cisco.com\",\"wcm/nsr.port\":\"80\"},\"state\":\"RUNNING\"},{\"name\":\"examplejbwqv\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-2-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-2_vl3-nse-example-9b57cccc7-666pb\",\"wcm/cluster\":\"member1\",\"wcm/nsr.addr\":\"example.nispatil-wcm-cisco.com\",\"wcm/nsr.port\":\"80\"},\"state\":\"RUNNING\"},{\"name\":\"examplen4z24\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-1-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"member1_vl3-nse-example-5f77749bd4-k8qck\",\"wcm/cluster\":\"test\",\"wcm/nsr.addr\":\"example.nispatil-wcm-cisco.com\",\"wcm/nsr.port\":\"80\"},\"state\":\"RUNNING\"}]} span=13a94f5fa3238da0:13a94f5fa3238da0:0000000000000000:1"
2021/05/21 20:56:06 Reporting span 13a94f5fa3238da0:13a94f5fa3238da0:0000000000000000:1
{"level":"info","ts":1621630566.0714998,"caller":"nseinformer/nseInformerController.go:316","msg":"found NSE with name examplebkpg7","app":"nse-discovery"}
{"level":"info","ts":1621630566.071553,"caller":"nseinformer/nseInformerController.go:316","msg":"found NSE with name examplejbwqv","app":"nse-discovery"}
{"level":"info","ts":1621630566.0715904,"caller":"nseinformer/nseInformerController.go:316","msg":"found NSE with name examplen4z24","app":"nse-discovery"}
{"level":"info","ts":1621630566.0716882,"caller":"nseinformer/nseInformerController.go:198","msg":"Retrieved 3 endpoints from the global NSR","app":"nse-discovery"}
{"level":"info","ts":1621630566.0718467,"caller":"nseinformer/nseInformerController.go:331","msg":"NSE diff:  For cluster test, skipping endpoint 'examplebkpg7'","app":"nse-discovery"}
{"level":"info","ts":1621630566.0719202,"caller":"nseinformer/nseInformerController.go:331","msg":"NSE diff:  For cluster test, skipping endpoint 'examplejbwqv'","app":"nse-discovery"}
{"level":"info","ts":1621630566.0719497,"caller":"nseinformer/nseInformerController.go:328","msg":"NSE diff: For cluster test, adding endpoint 'examplen4z24'","app":"nse-discovery"}
{"level":"info","ts":1621630566.0719616,"caller":"nseinformer/nseInformerController.go:341","msg":"NSE diff: For cluster test, endpoint match 'examplen4z24'","app":"nse-discovery"}
{"level":"info","ts":1621630566.0719712,"caller":"nseinformer/nseInformerController.go:328","msg":"NSE diff: For cluster test, adding endpoint 'examplen4z24'","app":"nse-discovery"}
{"level":"info","ts":1621630566.0719805,"caller":"nseinformer/nseInformerController.go:344","msg":"NSE diff:  For cluster test, skip comparing endpoint 'examplebkpg7'","app":"nse-discovery"}
{"level":"info","ts":1621630566.0719905,"caller":"nseinformer/nseInformerController.go:344","msg":"NSE diff:  For cluster test, skip comparing endpoint 'examplejbwqv'","app":"nse-discovery"}
{"level":"info","ts":1621630566.072063,"caller":"nseinformer/nseInformerController.go:341","msg":"NSE diff: For cluster test, endpoint match 'examplen4z24'","app":"nse-discovery"}
{"level":"info","ts":1621630566.0720904,"caller":"nseinformer/nseInformerController.go:203","msg":"Global NSE diff result: 0 new NSEs to add, 0 NSEs to delete","app":"nse-discovery"}
{"level":"info","ts":1621630566.0721,"caller":"nseinformer/nseInformerController.go:240","msg":"No endpoints to register to Global registry.","app":"nse-discovery"}
{"level":"info","ts":1621630566.072108,"caller":"nseinformer/nseInformerController.go:266","msg":"No endpoints to remove from Global registry.","app":"nse-discovery"}
{"level":"info","ts":1621630676.0513606,"caller":"nseinformer/nseInformerController.go:107","msg":"NSE pod: &{{ } {examplen4z24 example default /apis/networkservicemesh.io/v1alpha1/namespaces/default/networkserviceendpoints/examplen4z24 0d622914-5bc4-4981-8adb-b98c8bcdac84 10253 1 2021-05-21 20:43:02 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:member1_vl3-nse-example-5f77749bd4-k8qck wcm/nsr.addr:example.nispatil-wcm-cisco.com wcm/nsr.port:80] map[] [] []  []} {example IP kind-1-control-plane} {RUNNING}} was updated with: &{{ } {examplen4z24 example default /apis/networkservicemesh.io/v1alpha1/namespaces/default/networkserviceendpoints/examplen4z24 0d622914-5bc4-4981-8adb-b98c8bcdac84 10253 1 2021-05-21 20:43:02 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:member1_vl3-nse-example-5f77749bd4-k8qck wcm/nsr.addr:example.nispatil-wcm-cisco.com wcm/nsr.port:80] map[] [] []  []} {example IP kind-1-control-plane} {RUNNING}}","app":"nse-discovery"}
{"level":"info","ts":1621630676.0514433,"caller":"nseinformer/nseInformerController.go:156","msg":"Processing NSE named examplen4z24...","app":"nse-discovery"}
{"level":"info","ts":1621630676.0514557,"caller":"nseinformer/nseInformerController.go:163","msg":"Found service name: example","app":"nse-discovery"}
{"level":"info","ts":1621630676.051467,"caller":"nseinformer/nseInformerController.go:178","msg":"Getting endpoints from the local NSR","app":"nse-discovery"}
time="2021-05-21T20:57:56Z" level=info msg="==--> discovery.FindNetworkService() span:2ec44325abbadbd9:2ec44325abbadbd9:0000000000000000:1"
time="2021-05-21T20:57:56Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=2ec44325abbadbd9:2ec44325abbadbd9:0000000000000000:1"
time="2021-05-21T20:57:56Z" level=info msg=">><<-- nsrURL=\"wcm-proxy-nsmgr.nsm-system:5005\" span=2ec44325abbadbd9:2ec44325abbadbd9:0000000000000000:1"
time="2021-05-21T20:57:56Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-05-21T20:57:56Z" level=info msg="==----> initRegistryClient() span:2ec44325abbadbd9:260a74d42188ee64:2ec44325abbadbd9:1"
time="2021-05-21T20:57:56Z" level=info msg="Waiting for liveness probe: tcp:wcm-proxy-nsmgr.nsm-system:5005"
time="2021-05-21T20:57:56Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="2ec44325abbadbd9:260a74d42188ee64:2ec44325abbadbd9:1"
time="2021-05-21T20:57:56Z" level=info msg="Successfully connected to wcm-proxy-nsmgr.nsm-system:5005" operation=initRegistryClient span="2ec44325abbadbd9:260a74d42188ee64:2ec44325abbadbd9:1"
2021/05/21 20:57:56 Reporting span 2ec44325abbadbd9:260a74d42188ee64:2ec44325abbadbd9:1
{"level":"info","ts":1621630676.0546815,"caller":"nseinformer/nseInformerController.go:408","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-05-21T20:57:56Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=2ec44325abbadbd9:2ec44325abbadbd9:0000000000000000:1"
time="2021-05-21T20:57:56Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=2ec44325abbadbd9:2ec44325abbadbd9:0000000000000000:1"
2021/05/21 20:57:56 Reporting span 2ec44325abbadbd9:7aeba4d91994d311:2ec44325abbadbd9:1
time="2021-05-21T20:57:56Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-1-control-plane\":{\"name\":\"kind-1-control-plane\",\"url\":\"172.17.0.2:5001\",\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"examplen4z24\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-1-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"member1_vl3-nse-example-5f77749bd4-k8qck\",\"wcm/nsr.addr\":\"example.nispatil-wcm-cisco.com\",\"wcm/nsr.port\":\"80\"},\"state\":\"RUNNING\"}]} span=2ec44325abbadbd9:2ec44325abbadbd9:0000000000000000:1"
2021/05/21 20:57:56 Reporting span 2ec44325abbadbd9:2ec44325abbadbd9:0000000000000000:1
{"level":"info","ts":1621630676.0592017,"caller":"nseinformer/nseInformerController.go:316","msg":"found NSE with name examplen4z24","app":"nse-discovery"}
{"level":"info","ts":1621630676.059232,"caller":"nseinformer/nseInformerController.go:186","msg":"Retrieved 1 endpoints from the local NSR","app":"nse-discovery"}
{"level":"info","ts":1621630676.0592477,"caller":"nseinformer/nseInformerController.go:189","msg":"Getting endpoints from the global NSR at: example.nispatil-wcm-cisco.com:80","app":"nse-discovery"}
time="2021-05-21T20:57:56Z" level=info msg="==--> discovery.FindNetworkService() span:12abaeb6b5639259:12abaeb6b5639259:0000000000000000:1"
time="2021-05-21T20:57:56Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=12abaeb6b5639259:12abaeb6b5639259:0000000000000000:1"
time="2021-05-21T20:57:56Z" level=info msg=">><<-- nsrURL=\"example.nispatil-wcm-cisco.com:80\" span=12abaeb6b5639259:12abaeb6b5639259:0000000000000000:1"
time="2021-05-21T20:57:56Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-05-21T20:57:56Z" level=info msg="==----> initRegistryClient() span:12abaeb6b5639259:662b07ad8b94207c:12abaeb6b5639259:1"
time="2021-05-21T20:57:56Z" level=info msg="Waiting for liveness probe: tcp:example.nispatil-wcm-cisco.com:80"
time="2021-05-21T20:58:16Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="12abaeb6b5639259:662b07ad8b94207c:12abaeb6b5639259:1"
time="2021-05-21T20:58:22Z" level=info msg="Successfully connected to example.nispatil-wcm-cisco.com:80" operation=initRegistryClient span="12abaeb6b5639259:662b07ad8b94207c:12abaeb6b5639259:1"
2021/05/21 20:58:22 Reporting span 12abaeb6b5639259:662b07ad8b94207c:12abaeb6b5639259:1
{"level":"info","ts":1621630702.7318068,"caller":"nseinformer/nseInformerController.go:408","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-05-21T20:58:22Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=12abaeb6b5639259:12abaeb6b5639259:0000000000000000:1"
time="2021-05-21T20:58:22Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=12abaeb6b5639259:12abaeb6b5639259:0000000000000000:1"
2021/05/21 20:58:22 Reporting span 12abaeb6b5639259:06b7daee1d901496:12abaeb6b5639259:1
time="2021-05-21T20:58:22Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-1-control-plane\":{\"name\":\"kind-1-control-plane\",\"url\":\"172.17.0.2:5001\",\"expiration_time\":{\"seconds\":1621633382},\"state\":\"RUNNING\"},\"kind-2-control-plane\":{\"name\":\"kind-2-control-plane\",\"url\":\"172.17.0.3:5001\",\"expiration_time\":{\"seconds\":1621631723},\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"examplebkpg7\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-2-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-2_vl3-nse-example-9b57cccc7-7qtql\",\"wcm/cluster\":\"member1\",\"wcm/nsr.addr\":\"example.nispatil-wcm-cisco.com\",\"wcm/nsr.port\":\"80\"},\"state\":\"RUNNING\"},{\"name\":\"examplejbwqv\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-2-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-2_vl3-nse-example-9b57cccc7-666pb\",\"wcm/cluster\":\"member1\",\"wcm/nsr.addr\":\"example.nispatil-wcm-cisco.com\",\"wcm/nsr.port\":\"80\"},\"state\":\"RUNNING\"},{\"name\":\"examplen4z24\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-1-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"member1_vl3-nse-example-5f77749bd4-k8qck\",\"wcm/cluster\":\"test\",\"wcm/nsr.addr\":\"example.nispatil-wcm-cisco.com\",\"wcm/nsr.port\":\"80\"},\"state\":\"RUNNING\"}]} span=12abaeb6b5639259:12abaeb6b5639259:0000000000000000:1"
2021/05/21 20:58:22 Reporting span 12abaeb6b5639259:12abaeb6b5639259:0000000000000000:1
{"level":"info","ts":1621630702.7354271,"caller":"nseinformer/nseInformerController.go:316","msg":"found NSE with name examplebkpg7","app":"nse-discovery"}
{"level":"info","ts":1621630702.7354662,"caller":"nseinformer/nseInformerController.go:316","msg":"found NSE with name examplejbwqv","app":"nse-discovery"}
{"level":"info","ts":1621630702.7355354,"caller":"nseinformer/nseInformerController.go:316","msg":"found NSE with name examplen4z24","app":"nse-discovery"}
{"level":"info","ts":1621630702.7355528,"caller":"nseinformer/nseInformerController.go:198","msg":"Retrieved 3 endpoints from the global NSR","app":"nse-discovery"}
{"level":"info","ts":1621630702.7355657,"caller":"nseinformer/nseInformerController.go:331","msg":"NSE diff:  For cluster test, skipping endpoint 'examplebkpg7'","app":"nse-discovery"}
{"level":"info","ts":1621630702.735605,"caller":"nseinformer/nseInformerController.go:331","msg":"NSE diff:  For cluster test, skipping endpoint 'examplejbwqv'","app":"nse-discovery"}
{"level":"info","ts":1621630702.7356591,"caller":"nseinformer/nseInformerController.go:328","msg":"NSE diff: For cluster test, adding endpoint 'examplen4z24'","app":"nse-discovery"}
{"level":"info","ts":1621630702.7356732,"caller":"nseinformer/nseInformerController.go:341","msg":"NSE diff: For cluster test, endpoint match 'examplen4z24'","app":"nse-discovery"}
{"level":"info","ts":1621630702.7356803,"caller":"nseinformer/nseInformerController.go:328","msg":"NSE diff: For cluster test, adding endpoint 'examplen4z24'","app":"nse-discovery"}
{"level":"info","ts":1621630702.7356856,"caller":"nseinformer/nseInformerController.go:344","msg":"NSE diff:  For cluster test, skip comparing endpoint 'examplebkpg7'","app":"nse-discovery"}
{"level":"info","ts":1621630702.7356913,"caller":"nseinformer/nseInformerController.go:344","msg":"NSE diff:  For cluster test, skip comparing endpoint 'examplejbwqv'","app":"nse-discovery"}
{"level":"info","ts":1621630702.7356968,"caller":"nseinformer/nseInformerController.go:341","msg":"NSE diff: For cluster test, endpoint match 'examplen4z24'","app":"nse-discovery"}
{"level":"info","ts":1621630702.735703,"caller":"nseinformer/nseInformerController.go:203","msg":"Global NSE diff result: 0 new NSEs to add, 0 NSEs to delete","app":"nse-discovery"}
{"level":"info","ts":1621630702.7357087,"caller":"nseinformer/nseInformerController.go:240","msg":"No endpoints to register to Global registry.","app":"nse-discovery"}
{"level":"info","ts":1621630702.7357137,"caller":"nseinformer/nseInformerController.go:266","msg":"No endpoints to remove from Global registry.","app":"nse-discovery"}
{"level":"info","ts":1621630796.0516508,"caller":"nseinformer/nseInformerController.go:107","msg":"NSE pod: &{{ } {examplen4z24 example default /apis/networkservicemesh.io/v1alpha1/namespaces/default/networkserviceendpoints/examplen4z24 0d622914-5bc4-4981-8adb-b98c8bcdac84 10253 1 2021-05-21 20:43:02 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:member1_vl3-nse-example-5f77749bd4-k8qck wcm/nsr.addr:example.nispatil-wcm-cisco.com wcm/nsr.port:80] map[] [] []  []} {example IP kind-1-control-plane} {RUNNING}} was updated with: &{{ } {examplen4z24 example default /apis/networkservicemesh.io/v1alpha1/namespaces/default/networkserviceendpoints/examplen4z24 0d622914-5bc4-4981-8adb-b98c8bcdac84 10253 1 2021-05-21 20:43:02 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:member1_vl3-nse-example-5f77749bd4-k8qck wcm/nsr.addr:example.nispatil-wcm-cisco.com wcm/nsr.port:80] map[] [] []  []} {example IP kind-1-control-plane} {RUNNING}}","app":"nse-discovery"}
{"level":"info","ts":1621630796.0517364,"caller":"nseinformer/nseInformerController.go:156","msg":"Processing NSE named examplen4z24...","app":"nse-discovery"}
{"level":"info","ts":1621630796.0517502,"caller":"nseinformer/nseInformerController.go:163","msg":"Found service name: example","app":"nse-discovery"}
{"level":"info","ts":1621630796.0517602,"caller":"nseinformer/nseInformerController.go:178","msg":"Getting endpoints from the local NSR","app":"nse-discovery"}
time="2021-05-21T20:59:56Z" level=info msg="==--> discovery.FindNetworkService() span:28aa53097cb2a615:28aa53097cb2a615:0000000000000000:1"
time="2021-05-21T20:59:56Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=28aa53097cb2a615:28aa53097cb2a615:0000000000000000:1"
time="2021-05-21T20:59:56Z" level=info msg=">><<-- nsrURL=\"wcm-proxy-nsmgr.nsm-system:5005\" span=28aa53097cb2a615:28aa53097cb2a615:0000000000000000:1"
time="2021-05-21T20:59:56Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-05-21T20:59:56Z" level=info msg="==----> initRegistryClient() span:28aa53097cb2a615:34bd9b509c8fa97d:28aa53097cb2a615:1"
time="2021-05-21T20:59:56Z" level=info msg="Waiting for liveness probe: tcp:wcm-proxy-nsmgr.nsm-system:5005"
time="2021-05-21T20:59:56Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="28aa53097cb2a615:34bd9b509c8fa97d:28aa53097cb2a615:1"
time="2021-05-21T20:59:56Z" level=info msg="Successfully connected to wcm-proxy-nsmgr.nsm-system:5005" operation=initRegistryClient span="28aa53097cb2a615:34bd9b509c8fa97d:28aa53097cb2a615:1"
2021/05/21 20:59:56 Reporting span 28aa53097cb2a615:34bd9b509c8fa97d:28aa53097cb2a615:1
{"level":"info","ts":1621630796.0557125,"caller":"nseinformer/nseInformerController.go:408","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-05-21T20:59:56Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=28aa53097cb2a615:28aa53097cb2a615:0000000000000000:1"
time="2021-05-21T20:59:56Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=28aa53097cb2a615:28aa53097cb2a615:0000000000000000:1"
2021/05/21 20:59:56 Reporting span 28aa53097cb2a615:2daaf8c5d944658c:28aa53097cb2a615:1
time="2021-05-21T20:59:56Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-1-control-plane\":{\"name\":\"kind-1-control-plane\",\"url\":\"172.17.0.2:5001\",\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"examplen4z24\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-1-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"member1_vl3-nse-example-5f77749bd4-k8qck\",\"wcm/nsr.addr\":\"example.nispatil-wcm-cisco.com\",\"wcm/nsr.port\":\"80\"},\"state\":\"RUNNING\"}]} span=28aa53097cb2a615:28aa53097cb2a615:0000000000000000:1"
2021/05/21 20:59:56 Reporting span 28aa53097cb2a615:28aa53097cb2a615:0000000000000000:1
{"level":"info","ts":1621630796.0610044,"caller":"nseinformer/nseInformerController.go:316","msg":"found NSE with name examplen4z24","app":"nse-discovery"}
{"level":"info","ts":1621630796.0610332,"caller":"nseinformer/nseInformerController.go:186","msg":"Retrieved 1 endpoints from the local NSR","app":"nse-discovery"}
{"level":"info","ts":1621630796.0610454,"caller":"nseinformer/nseInformerController.go:189","msg":"Getting endpoints from the global NSR at: example.nispatil-wcm-cisco.com:80","app":"nse-discovery"}
time="2021-05-21T20:59:56Z" level=info msg="==--> discovery.FindNetworkService() span:1c029bdcd9179b8b:1c029bdcd9179b8b:0000000000000000:1"
time="2021-05-21T20:59:56Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=1c029bdcd9179b8b:1c029bdcd9179b8b:0000000000000000:1"
time="2021-05-21T20:59:56Z" level=info msg=">><<-- nsrURL=\"example.nispatil-wcm-cisco.com:80\" span=1c029bdcd9179b8b:1c029bdcd9179b8b:0000000000000000:1"
time="2021-05-21T20:59:56Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-05-21T20:59:56Z" level=info msg="==----> initRegistryClient() span:1c029bdcd9179b8b:7bee69ad1415dbb6:1c029bdcd9179b8b:1"
time="2021-05-21T20:59:56Z" level=info msg="Waiting for liveness probe: tcp:example.nispatil-wcm-cisco.com:80"
time="2021-05-21T21:00:06Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="1c029bdcd9179b8b:7bee69ad1415dbb6:1c029bdcd9179b8b:1"
time="2021-05-21T21:00:06Z" level=info msg="Successfully connected to example.nispatil-wcm-cisco.com:80" operation=initRegistryClient span="1c029bdcd9179b8b:7bee69ad1415dbb6:1c029bdcd9179b8b:1"
2021/05/21 21:00:06 Reporting span 1c029bdcd9179b8b:7bee69ad1415dbb6:1c029bdcd9179b8b:1
{"level":"info","ts":1621630806.068227,"caller":"nseinformer/nseInformerController.go:408","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-05-21T21:00:06Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=1c029bdcd9179b8b:1c029bdcd9179b8b:0000000000000000:1"
time="2021-05-21T21:00:06Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=1c029bdcd9179b8b:1c029bdcd9179b8b:0000000000000000:1"
2021/05/21 21:00:06 Reporting span 1c029bdcd9179b8b:6c99c318a34d9a62:1c029bdcd9179b8b:1
time="2021-05-21T21:00:06Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-1-control-plane\":{\"name\":\"kind-1-control-plane\",\"url\":\"172.17.0.2:5001\",\"expiration_time\":{\"seconds\":1621633382},\"state\":\"RUNNING\"},\"kind-2-control-plane\":{\"name\":\"kind-2-control-plane\",\"url\":\"172.17.0.3:5001\",\"expiration_time\":{\"seconds\":1621631723},\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"examplebkpg7\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-2-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-2_vl3-nse-example-9b57cccc7-7qtql\",\"wcm/cluster\":\"member1\",\"wcm/nsr.addr\":\"example.nispatil-wcm-cisco.com\",\"wcm/nsr.port\":\"80\"},\"state\":\"RUNNING\"},{\"name\":\"examplejbwqv\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-2-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-2_vl3-nse-example-9b57cccc7-666pb\",\"wcm/cluster\":\"member1\",\"wcm/nsr.addr\":\"example.nispatil-wcm-cisco.com\",\"wcm/nsr.port\":\"80\"},\"state\":\"RUNNING\"},{\"name\":\"examplen4z24\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-1-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"member1_vl3-nse-example-5f77749bd4-k8qck\",\"wcm/cluster\":\"test\",\"wcm/nsr.addr\":\"example.nispatil-wcm-cisco.com\",\"wcm/nsr.port\":\"80\"},\"state\":\"RUNNING\"}]} span=1c029bdcd9179b8b:1c029bdcd9179b8b:0000000000000000:1"
2021/05/21 21:00:06 Reporting span 1c029bdcd9179b8b:1c029bdcd9179b8b:0000000000000000:1
{"level":"info","ts":1621630806.0712955,"caller":"nseinformer/nseInformerController.go:316","msg":"found NSE with name examplebkpg7","app":"nse-discovery"}
{"level":"info","ts":1621630806.0713844,"caller":"nseinformer/nseInformerController.go:316","msg":"found NSE with name examplejbwqv","app":"nse-discovery"}
{"level":"info","ts":1621630806.0714004,"caller":"nseinformer/nseInformerController.go:316","msg":"found NSE with name examplen4z24","app":"nse-discovery"}
{"level":"info","ts":1621630806.0714114,"caller":"nseinformer/nseInformerController.go:198","msg":"Retrieved 3 endpoints from the global NSR","app":"nse-discovery"}
{"level":"info","ts":1621630806.0714645,"caller":"nseinformer/nseInformerController.go:331","msg":"NSE diff:  For cluster test, skipping endpoint 'examplebkpg7'","app":"nse-discovery"}
{"level":"info","ts":1621630806.071506,"caller":"nseinformer/nseInformerController.go:331","msg":"NSE diff:  For cluster test, skipping endpoint 'examplejbwqv'","app":"nse-discovery"}
{"level":"info","ts":1621630806.071549,"caller":"nseinformer/nseInformerController.go:328","msg":"NSE diff: For cluster test, adding endpoint 'examplen4z24'","app":"nse-discovery"}
{"level":"info","ts":1621630806.0715814,"caller":"nseinformer/nseInformerController.go:341","msg":"NSE diff: For cluster test, endpoint match 'examplen4z24'","app":"nse-discovery"}
{"level":"info","ts":1621630806.0715945,"caller":"nseinformer/nseInformerController.go:328","msg":"NSE diff: For cluster test, adding endpoint 'examplen4z24'","app":"nse-discovery"}
{"level":"info","ts":1621630806.0716043,"caller":"nseinformer/nseInformerController.go:344","msg":"NSE diff:  For cluster test, skip comparing endpoint 'examplebkpg7'","app":"nse-discovery"}
{"level":"info","ts":1621630806.0716121,"caller":"nseinformer/nseInformerController.go:344","msg":"NSE diff:  For cluster test, skip comparing endpoint 'examplejbwqv'","app":"nse-discovery"}
{"level":"info","ts":1621630806.0716207,"caller":"nseinformer/nseInformerController.go:341","msg":"NSE diff: For cluster test, endpoint match 'examplen4z24'","app":"nse-discovery"}
{"level":"info","ts":1621630806.0716465,"caller":"nseinformer/nseInformerController.go:203","msg":"Global NSE diff result: 0 new NSEs to add, 0 NSEs to delete","app":"nse-discovery"}
{"level":"info","ts":1621630806.071657,"caller":"nseinformer/nseInformerController.go:240","msg":"No endpoints to register to Global registry.","app":"nse-discovery"}
{"level":"info","ts":1621630806.0716655,"caller":"nseinformer/nseInformerController.go:266","msg":"No endpoints to remove from Global registry.","app":"nse-discovery"}
{"level":"info","ts":1621630916.051974,"caller":"nseinformer/nseInformerController.go:107","msg":"NSE pod: &{{ } {examplen4z24 example default /apis/networkservicemesh.io/v1alpha1/namespaces/default/networkserviceendpoints/examplen4z24 0d622914-5bc4-4981-8adb-b98c8bcdac84 10253 1 2021-05-21 20:43:02 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:member1_vl3-nse-example-5f77749bd4-k8qck wcm/nsr.addr:example.nispatil-wcm-cisco.com wcm/nsr.port:80] map[] [] []  []} {example IP kind-1-control-plane} {RUNNING}} was updated with: &{{ } {examplen4z24 example default /apis/networkservicemesh.io/v1alpha1/namespaces/default/networkserviceendpoints/examplen4z24 0d622914-5bc4-4981-8adb-b98c8bcdac84 10253 1 2021-05-21 20:43:02 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:member1_vl3-nse-example-5f77749bd4-k8qck wcm/nsr.addr:example.nispatil-wcm-cisco.com wcm/nsr.port:80] map[] [] []  []} {example IP kind-1-control-plane} {RUNNING}}","app":"nse-discovery"}
{"level":"info","ts":1621630916.052049,"caller":"nseinformer/nseInformerController.go:156","msg":"Processing NSE named examplen4z24...","app":"nse-discovery"}
{"level":"info","ts":1621630916.0520627,"caller":"nseinformer/nseInformerController.go:163","msg":"Found service name: example","app":"nse-discovery"}
{"level":"info","ts":1621630916.0520766,"caller":"nseinformer/nseInformerController.go:178","msg":"Getting endpoints from the local NSR","app":"nse-discovery"}
time="2021-05-21T21:01:56Z" level=info msg="==--> discovery.FindNetworkService() span:4092b60e5f363f6b:4092b60e5f363f6b:0000000000000000:1"
time="2021-05-21T21:01:56Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=4092b60e5f363f6b:4092b60e5f363f6b:0000000000000000:1"
time="2021-05-21T21:01:56Z" level=info msg=">><<-- nsrURL=\"wcm-proxy-nsmgr.nsm-system:5005\" span=4092b60e5f363f6b:4092b60e5f363f6b:0000000000000000:1"
time="2021-05-21T21:01:56Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-05-21T21:01:56Z" level=info msg="==----> initRegistryClient() span:4092b60e5f363f6b:09ebd54ec4c956ff:4092b60e5f363f6b:1"
time="2021-05-21T21:01:56Z" level=info msg="Waiting for liveness probe: tcp:wcm-proxy-nsmgr.nsm-system:5005"
time="2021-05-21T21:01:56Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="4092b60e5f363f6b:09ebd54ec4c956ff:4092b60e5f363f6b:1"
time="2021-05-21T21:01:56Z" level=info msg="Successfully connected to wcm-proxy-nsmgr.nsm-system:5005" operation=initRegistryClient span="4092b60e5f363f6b:09ebd54ec4c956ff:4092b60e5f363f6b:1"
2021/05/21 21:01:56 Reporting span 4092b60e5f363f6b:09ebd54ec4c956ff:4092b60e5f363f6b:1
{"level":"info","ts":1621630916.05591,"caller":"nseinformer/nseInformerController.go:408","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-05-21T21:01:56Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=4092b60e5f363f6b:4092b60e5f363f6b:0000000000000000:1"
time="2021-05-21T21:01:56Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=4092b60e5f363f6b:4092b60e5f363f6b:0000000000000000:1"
2021/05/21 21:01:56 Reporting span 4092b60e5f363f6b:6e8e97e96989e64c:4092b60e5f363f6b:1
time="2021-05-21T21:01:56Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-1-control-plane\":{\"name\":\"kind-1-control-plane\",\"url\":\"172.17.0.2:5001\",\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"examplen4z24\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-1-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"member1_vl3-nse-example-5f77749bd4-k8qck\",\"wcm/nsr.addr\":\"example.nispatil-wcm-cisco.com\",\"wcm/nsr.port\":\"80\"},\"state\":\"RUNNING\"}]} span=4092b60e5f363f6b:4092b60e5f363f6b:0000000000000000:1"
2021/05/21 21:01:56 Reporting span 4092b60e5f363f6b:4092b60e5f363f6b:0000000000000000:1
{"level":"info","ts":1621630916.0610847,"caller":"nseinformer/nseInformerController.go:316","msg":"found NSE with name examplen4z24","app":"nse-discovery"}
{"level":"info","ts":1621630916.0611165,"caller":"nseinformer/nseInformerController.go:186","msg":"Retrieved 1 endpoints from the local NSR","app":"nse-discovery"}
{"level":"info","ts":1621630916.0611284,"caller":"nseinformer/nseInformerController.go:189","msg":"Getting endpoints from the global NSR at: example.nispatil-wcm-cisco.com:80","app":"nse-discovery"}
time="2021-05-21T21:01:56Z" level=info msg="==--> discovery.FindNetworkService() span:43841fa91d283521:43841fa91d283521:0000000000000000:1"
time="2021-05-21T21:01:56Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=43841fa91d283521:43841fa91d283521:0000000000000000:1"
time="2021-05-21T21:01:56Z" level=info msg=">><<-- nsrURL=\"example.nispatil-wcm-cisco.com:80\" span=43841fa91d283521:43841fa91d283521:0000000000000000:1"
time="2021-05-21T21:01:56Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-05-21T21:01:56Z" level=info msg="==----> initRegistryClient() span:43841fa91d283521:3bcc3058d72c0135:43841fa91d283521:1"
time="2021-05-21T21:01:56Z" level=info msg="Waiting for liveness probe: tcp:example.nispatil-wcm-cisco.com:80"
time="2021-05-21T21:02:16Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="43841fa91d283521:3bcc3058d72c0135:43841fa91d283521:1"
time="2021-05-21T21:02:26Z" level=error msg="Failed to dial Network Service Registry at example.nispatil-wcm-cisco.com:80: context deadline exceeded" operation=initRegistryClient span="43841fa91d283521:3bcc3058d72c0135:43841fa91d283521:1"
2021/05/21 21:02:26 Reporting span 43841fa91d283521:3bcc3058d72c0135:43841fa91d283521:1
2021/05/21 21:02:26 Reporting span 43841fa91d283521:43841fa91d283521:0000000000000000:1
{"level":"info","ts":1621630946.0621002,"caller":"nseinformer/nseInformerController.go:369","msg":"Error processing pod &{{ } {examplen4z24 example default /apis/networkservicemesh.io/v1alpha1/namespaces/default/networkserviceendpoints/examplen4z24 0d622914-5bc4-4981-8adb-b98c8bcdac84 10253 1 2021-05-21 20:43:02 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:member1_vl3-nse-example-5f77749bd4-k8qck wcm/nsr.addr:example.nispatil-wcm-cisco.com wcm/nsr.port:80] map[] [] []  []} {example IP kind-1-control-plane} {RUNNING}}: Connection to Network Registry Server is not available","app":"nse-discovery"}
{"level":"info","ts":1621630946.0673337,"caller":"nseinformer/nseInformerController.go:156","msg":"Processing NSE named examplen4z24...","app":"nse-discovery"}
{"level":"info","ts":1621630946.0673757,"caller":"nseinformer/nseInformerController.go:163","msg":"Found service name: example","app":"nse-discovery"}
{"level":"info","ts":1621630946.0673876,"caller":"nseinformer/nseInformerController.go:178","msg":"Getting endpoints from the local NSR","app":"nse-discovery"}
time="2021-05-21T21:02:26Z" level=info msg="==--> discovery.FindNetworkService() span:10d442d185625ff5:10d442d185625ff5:0000000000000000:1"
time="2021-05-21T21:02:26Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=10d442d185625ff5:10d442d185625ff5:0000000000000000:1"
time="2021-05-21T21:02:26Z" level=info msg=">><<-- nsrURL=\"wcm-proxy-nsmgr.nsm-system:5005\" span=10d442d185625ff5:10d442d185625ff5:0000000000000000:1"
time="2021-05-21T21:02:26Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-05-21T21:02:26Z" level=info msg="==----> initRegistryClient() span:10d442d185625ff5:6be864f1bfa44bd6:10d442d185625ff5:1"
time="2021-05-21T21:02:26Z" level=info msg="Waiting for liveness probe: tcp:wcm-proxy-nsmgr.nsm-system:5005"
time="2021-05-21T21:02:26Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="10d442d185625ff5:6be864f1bfa44bd6:10d442d185625ff5:1"
time="2021-05-21T21:02:26Z" level=info msg="Successfully connected to wcm-proxy-nsmgr.nsm-system:5005" operation=initRegistryClient span="10d442d185625ff5:6be864f1bfa44bd6:10d442d185625ff5:1"
2021/05/21 21:02:26 Reporting span 10d442d185625ff5:6be864f1bfa44bd6:10d442d185625ff5:1
{"level":"info","ts":1621630946.0709305,"caller":"nseinformer/nseInformerController.go:408","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-05-21T21:02:26Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=10d442d185625ff5:10d442d185625ff5:0000000000000000:1"
time="2021-05-21T21:02:26Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=10d442d185625ff5:10d442d185625ff5:0000000000000000:1"
2021/05/21 21:02:26 Reporting span 10d442d185625ff5:357d8ebc20932717:10d442d185625ff5:1
time="2021-05-21T21:02:26Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-1-control-plane\":{\"name\":\"kind-1-control-plane\",\"url\":\"172.17.0.2:5001\",\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"examplen4z24\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-1-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"member1_vl3-nse-example-5f77749bd4-k8qck\",\"wcm/nsr.addr\":\"example.nispatil-wcm-cisco.com\",\"wcm/nsr.port\":\"80\"},\"state\":\"RUNNING\"}]} span=10d442d185625ff5:10d442d185625ff5:0000000000000000:1"
2021/05/21 21:02:26 Reporting span 10d442d185625ff5:10d442d185625ff5:0000000000000000:1
{"level":"info","ts":1621630946.075529,"caller":"nseinformer/nseInformerController.go:316","msg":"found NSE with name examplen4z24","app":"nse-discovery"}
{"level":"info","ts":1621630946.0755646,"caller":"nseinformer/nseInformerController.go:186","msg":"Retrieved 1 endpoints from the local NSR","app":"nse-discovery"}
{"level":"info","ts":1621630946.075587,"caller":"nseinformer/nseInformerController.go:189","msg":"Getting endpoints from the global NSR at: example.nispatil-wcm-cisco.com:80","app":"nse-discovery"}
time="2021-05-21T21:02:26Z" level=info msg="==--> discovery.FindNetworkService() span:72e61cd98740900c:72e61cd98740900c:0000000000000000:1"
time="2021-05-21T21:02:26Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=72e61cd98740900c:72e61cd98740900c:0000000000000000:1"
time="2021-05-21T21:02:26Z" level=info msg=">><<-- nsrURL=\"example.nispatil-wcm-cisco.com:80\" span=72e61cd98740900c:72e61cd98740900c:0000000000000000:1"
time="2021-05-21T21:02:26Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-05-21T21:02:26Z" level=info msg="==----> initRegistryClient() span:72e61cd98740900c:17bb9a2d2757f4f2:72e61cd98740900c:1"
time="2021-05-21T21:02:26Z" level=info msg="Waiting for liveness probe: tcp:example.nispatil-wcm-cisco.com:80"
time="2021-05-21T21:02:46Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="72e61cd98740900c:17bb9a2d2757f4f2:72e61cd98740900c:1"
time="2021-05-21T21:02:46Z" level=info msg="Successfully connected to example.nispatil-wcm-cisco.com:80" operation=initRegistryClient span="72e61cd98740900c:17bb9a2d2757f4f2:72e61cd98740900c:1"
2021/05/21 21:02:46 Reporting span 72e61cd98740900c:17bb9a2d2757f4f2:72e61cd98740900c:1
{"level":"info","ts":1621630966.0847692,"caller":"nseinformer/nseInformerController.go:408","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-05-21T21:02:46Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=72e61cd98740900c:72e61cd98740900c:0000000000000000:1"
time="2021-05-21T21:02:46Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=72e61cd98740900c:72e61cd98740900c:0000000000000000:1"
2021/05/21 21:02:46 Reporting span 72e61cd98740900c:25d3bd78b04f0860:72e61cd98740900c:1
time="2021-05-21T21:02:46Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-1-control-plane\":{\"name\":\"kind-1-control-plane\",\"url\":\"172.17.0.2:5001\",\"expiration_time\":{\"seconds\":1621633382},\"state\":\"RUNNING\"},\"kind-2-control-plane\":{\"name\":\"kind-2-control-plane\",\"url\":\"172.17.0.3:5001\",\"expiration_time\":{\"seconds\":1621631723},\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"examplebkpg7\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-2-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-2_vl3-nse-example-9b57cccc7-7qtql\",\"wcm/cluster\":\"member1\",\"wcm/nsr.addr\":\"example.nispatil-wcm-cisco.com\",\"wcm/nsr.port\":\"80\"},\"state\":\"RUNNING\"},{\"name\":\"examplejbwqv\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-2-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-2_vl3-nse-example-9b57cccc7-666pb\",\"wcm/cluster\":\"member1\",\"wcm/nsr.addr\":\"example.nispatil-wcm-cisco.com\",\"wcm/nsr.port\":\"80\"},\"state\":\"RUNNING\"},{\"name\":\"examplen4z24\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-1-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"member1_vl3-nse-example-5f77749bd4-k8qck\",\"wcm/cluster\":\"test\",\"wcm/nsr.addr\":\"example.nispatil-wcm-cisco.com\",\"wcm/nsr.port\":\"80\"},\"state\":\"RUNNING\"}]} span=72e61cd98740900c:72e61cd98740900c:0000000000000000:1"
2021/05/21 21:02:46 Reporting span 72e61cd98740900c:72e61cd98740900c:0000000000000000:1
{"level":"info","ts":1621630966.0873492,"caller":"nseinformer/nseInformerController.go:316","msg":"found NSE with name examplebkpg7","app":"nse-discovery"}
{"level":"info","ts":1621630966.0873911,"caller":"nseinformer/nseInformerController.go:316","msg":"found NSE with name examplejbwqv","app":"nse-discovery"}
{"level":"info","ts":1621630966.0874033,"caller":"nseinformer/nseInformerController.go:316","msg":"found NSE with name examplen4z24","app":"nse-discovery"}
{"level":"info","ts":1621630966.087433,"caller":"nseinformer/nseInformerController.go:198","msg":"Retrieved 3 endpoints from the global NSR","app":"nse-discovery"}
{"level":"info","ts":1621630966.0874484,"caller":"nseinformer/nseInformerController.go:331","msg":"NSE diff:  For cluster test, skipping endpoint 'examplebkpg7'","app":"nse-discovery"}
{"level":"info","ts":1621630966.0874739,"caller":"nseinformer/nseInformerController.go:331","msg":"NSE diff:  For cluster test, skipping endpoint 'examplejbwqv'","app":"nse-discovery"}
{"level":"info","ts":1621630966.087484,"caller":"nseinformer/nseInformerController.go:328","msg":"NSE diff: For cluster test, adding endpoint 'examplen4z24'","app":"nse-discovery"}
{"level":"info","ts":1621630966.0874937,"caller":"nseinformer/nseInformerController.go:341","msg":"NSE diff: For cluster test, endpoint match 'examplen4z24'","app":"nse-discovery"}
{"level":"info","ts":1621630966.0875187,"caller":"nseinformer/nseInformerController.go:328","msg":"NSE diff: For cluster test, adding endpoint 'examplen4z24'","app":"nse-discovery"}
{"level":"info","ts":1621630966.0875287,"caller":"nseinformer/nseInformerController.go:344","msg":"NSE diff:  For cluster test, skip comparing endpoint 'examplebkpg7'","app":"nse-discovery"}
{"level":"info","ts":1621630966.087538,"caller":"nseinformer/nseInformerController.go:344","msg":"NSE diff:  For cluster test, skip comparing endpoint 'examplejbwqv'","app":"nse-discovery"}
{"level":"info","ts":1621630966.0875468,"caller":"nseinformer/nseInformerController.go:341","msg":"NSE diff: For cluster test, endpoint match 'examplen4z24'","app":"nse-discovery"}
{"level":"info","ts":1621630966.087557,"caller":"nseinformer/nseInformerController.go:203","msg":"Global NSE diff result: 0 new NSEs to add, 0 NSEs to delete","app":"nse-discovery"}
{"level":"info","ts":1621630966.0877924,"caller":"nseinformer/nseInformerController.go:240","msg":"No endpoints to register to Global registry.","app":"nse-discovery"}
{"level":"info","ts":1621630966.0878236,"caller":"nseinformer/nseInformerController.go:266","msg":"No endpoints to remove from Global registry.","app":"nse-discovery"}
{"level":"info","ts":1621631036.0522535,"caller":"nseinformer/nseInformerController.go:107","msg":"NSE pod: &{{ } {examplen4z24 example default /apis/networkservicemesh.io/v1alpha1/namespaces/default/networkserviceendpoints/examplen4z24 0d622914-5bc4-4981-8adb-b98c8bcdac84 10253 1 2021-05-21 20:43:02 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:member1_vl3-nse-example-5f77749bd4-k8qck wcm/nsr.addr:example.nispatil-wcm-cisco.com wcm/nsr.port:80] map[] [] []  []} {example IP kind-1-control-plane} {RUNNING}} was updated with: &{{ } {examplen4z24 example default /apis/networkservicemesh.io/v1alpha1/namespaces/default/networkserviceendpoints/examplen4z24 0d622914-5bc4-4981-8adb-b98c8bcdac84 10253 1 2021-05-21 20:43:02 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:member1_vl3-nse-example-5f77749bd4-k8qck wcm/nsr.addr:example.nispatil-wcm-cisco.com wcm/nsr.port:80] map[] [] []  []} {example IP kind-1-control-plane} {RUNNING}}","app":"nse-discovery"}
{"level":"info","ts":1621631036.0523405,"caller":"nseinformer/nseInformerController.go:156","msg":"Processing NSE named examplen4z24...","app":"nse-discovery"}
{"level":"info","ts":1621631036.0523493,"caller":"nseinformer/nseInformerController.go:163","msg":"Found service name: example","app":"nse-discovery"}
{"level":"info","ts":1621631036.052357,"caller":"nseinformer/nseInformerController.go:178","msg":"Getting endpoints from the local NSR","app":"nse-discovery"}
time="2021-05-21T21:03:56Z" level=info msg="==--> discovery.FindNetworkService() span:760fe89c7577e9c3:760fe89c7577e9c3:0000000000000000:1"
time="2021-05-21T21:03:56Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=760fe89c7577e9c3:760fe89c7577e9c3:0000000000000000:1"
time="2021-05-21T21:03:56Z" level=info msg=">><<-- nsrURL=\"wcm-proxy-nsmgr.nsm-system:5005\" span=760fe89c7577e9c3:760fe89c7577e9c3:0000000000000000:1"
time="2021-05-21T21:03:56Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-05-21T21:03:56Z" level=info msg="==----> initRegistryClient() span:760fe89c7577e9c3:170f53b458842233:760fe89c7577e9c3:1"
time="2021-05-21T21:03:56Z" level=info msg="Waiting for liveness probe: tcp:wcm-proxy-nsmgr.nsm-system:5005"
time="2021-05-21T21:03:56Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="760fe89c7577e9c3:170f53b458842233:760fe89c7577e9c3:1"
time="2021-05-21T21:03:56Z" level=info msg="Successfully connected to wcm-proxy-nsmgr.nsm-system:5005" operation=initRegistryClient span="760fe89c7577e9c3:170f53b458842233:760fe89c7577e9c3:1"
2021/05/21 21:03:56 Reporting span 760fe89c7577e9c3:170f53b458842233:760fe89c7577e9c3:1
{"level":"info","ts":1621631036.0562959,"caller":"nseinformer/nseInformerController.go:408","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-05-21T21:03:56Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=760fe89c7577e9c3:760fe89c7577e9c3:0000000000000000:1"
time="2021-05-21T21:03:56Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=760fe89c7577e9c3:760fe89c7577e9c3:0000000000000000:1"
2021/05/21 21:03:56 Reporting span 760fe89c7577e9c3:6db571eca5c7f073:760fe89c7577e9c3:1
time="2021-05-21T21:03:56Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-1-control-plane\":{\"name\":\"kind-1-control-plane\",\"url\":\"172.17.0.2:5001\",\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"examplen4z24\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-1-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"member1_vl3-nse-example-5f77749bd4-k8qck\",\"wcm/nsr.addr\":\"example.nispatil-wcm-cisco.com\",\"wcm/nsr.port\":\"80\"},\"state\":\"RUNNING\"}]} span=760fe89c7577e9c3:760fe89c7577e9c3:0000000000000000:1"
2021/05/21 21:03:56 Reporting span 760fe89c7577e9c3:760fe89c7577e9c3:0000000000000000:1
{"level":"info","ts":1621631036.0618575,"caller":"nseinformer/nseInformerController.go:316","msg":"found NSE with name examplen4z24","app":"nse-discovery"}
{"level":"info","ts":1621631036.0619006,"caller":"nseinformer/nseInformerController.go:186","msg":"Retrieved 1 endpoints from the local NSR","app":"nse-discovery"}
{"level":"info","ts":1621631036.061925,"caller":"nseinformer/nseInformerController.go:189","msg":"Getting endpoints from the global NSR at: example.nispatil-wcm-cisco.com:80","app":"nse-discovery"}
time="2021-05-21T21:03:56Z" level=info msg="==--> discovery.FindNetworkService() span:72a4d050adf86812:72a4d050adf86812:0000000000000000:1"
time="2021-05-21T21:03:56Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=72a4d050adf86812:72a4d050adf86812:0000000000000000:1"
time="2021-05-21T21:03:56Z" level=info msg=">><<-- nsrURL=\"example.nispatil-wcm-cisco.com:80\" span=72a4d050adf86812:72a4d050adf86812:0000000000000000:1"
time="2021-05-21T21:03:56Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-05-21T21:03:56Z" level=info msg="==----> initRegistryClient() span:72a4d050adf86812:5b4b3e8556a75e9b:72a4d050adf86812:1"
time="2021-05-21T21:03:56Z" level=info msg="Waiting for liveness probe: tcp:example.nispatil-wcm-cisco.com:80"
time="2021-05-21T21:04:16Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="72a4d050adf86812:5b4b3e8556a75e9b:72a4d050adf86812:1"
time="2021-05-21T21:04:22Z" level=info msg="Successfully connected to example.nispatil-wcm-cisco.com:80" operation=initRegistryClient span="72a4d050adf86812:5b4b3e8556a75e9b:72a4d050adf86812:1"
2021/05/21 21:04:22 Reporting span 72a4d050adf86812:5b4b3e8556a75e9b:72a4d050adf86812:1
{"level":"info","ts":1621631062.7356944,"caller":"nseinformer/nseInformerController.go:408","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-05-21T21:04:22Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=72a4d050adf86812:72a4d050adf86812:0000000000000000:1"
time="2021-05-21T21:04:22Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=72a4d050adf86812:72a4d050adf86812:0000000000000000:1"
2021/05/21 21:04:22 Reporting span 72a4d050adf86812:6e8bd76c14f09c13:72a4d050adf86812:1
time="2021-05-21T21:04:22Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-1-control-plane\":{\"name\":\"kind-1-control-plane\",\"url\":\"172.17.0.2:5001\",\"expiration_time\":{\"seconds\":1621633382},\"state\":\"RUNNING\"},\"kind-2-control-plane\":{\"name\":\"kind-2-control-plane\",\"url\":\"172.17.0.3:5001\",\"expiration_time\":{\"seconds\":1621631723},\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"examplebkpg7\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-2-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-2_vl3-nse-example-9b57cccc7-7qtql\",\"wcm/cluster\":\"member1\",\"wcm/nsr.addr\":\"example.nispatil-wcm-cisco.com\",\"wcm/nsr.port\":\"80\"},\"state\":\"RUNNING\"},{\"name\":\"examplejbwqv\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-2-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-2_vl3-nse-example-9b57cccc7-666pb\",\"wcm/cluster\":\"member1\",\"wcm/nsr.addr\":\"example.nispatil-wcm-cisco.com\",\"wcm/nsr.port\":\"80\"},\"state\":\"RUNNING\"},{\"name\":\"examplen4z24\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-1-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"member1_vl3-nse-example-5f77749bd4-k8qck\",\"wcm/cluster\":\"test\",\"wcm/nsr.addr\":\"example.nispatil-wcm-cisco.com\",\"wcm/nsr.port\":\"80\"},\"state\":\"RUNNING\"}]} span=72a4d050adf86812:72a4d050adf86812:0000000000000000:1"
2021/05/21 21:04:22 Reporting span 72a4d050adf86812:72a4d050adf86812:0000000000000000:1
{"level":"info","ts":1621631062.7383962,"caller":"nseinformer/nseInformerController.go:316","msg":"found NSE with name examplebkpg7","app":"nse-discovery"}
{"level":"info","ts":1621631062.738424,"caller":"nseinformer/nseInformerController.go:316","msg":"found NSE with name examplejbwqv","app":"nse-discovery"}
{"level":"info","ts":1621631062.7384353,"caller":"nseinformer/nseInformerController.go:316","msg":"found NSE with name examplen4z24","app":"nse-discovery"}
{"level":"info","ts":1621631062.7385275,"caller":"nseinformer/nseInformerController.go:198","msg":"Retrieved 3 endpoints from the global NSR","app":"nse-discovery"}
{"level":"info","ts":1621631062.7385728,"caller":"nseinformer/nseInformerController.go:331","msg":"NSE diff:  For cluster test, skipping endpoint 'examplebkpg7'","app":"nse-discovery"}
{"level":"info","ts":1621631062.73866,"caller":"nseinformer/nseInformerController.go:331","msg":"NSE diff:  For cluster test, skipping endpoint 'examplejbwqv'","app":"nse-discovery"}
{"level":"info","ts":1621631062.7386801,"caller":"nseinformer/nseInformerController.go:328","msg":"NSE diff: For cluster test, adding endpoint 'examplen4z24'","app":"nse-discovery"}
{"level":"info","ts":1621631062.738691,"caller":"nseinformer/nseInformerController.go:341","msg":"NSE diff: For cluster test, endpoint match 'examplen4z24'","app":"nse-discovery"}
{"level":"info","ts":1621631062.7387006,"caller":"nseinformer/nseInformerController.go:328","msg":"NSE diff: For cluster test, adding endpoint 'examplen4z24'","app":"nse-discovery"}
{"level":"info","ts":1621631062.7387092,"caller":"nseinformer/nseInformerController.go:344","msg":"NSE diff:  For cluster test, skip comparing endpoint 'examplebkpg7'","app":"nse-discovery"}
{"level":"info","ts":1621631062.7387178,"caller":"nseinformer/nseInformerController.go:344","msg":"NSE diff:  For cluster test, skip comparing endpoint 'examplejbwqv'","app":"nse-discovery"}
{"level":"info","ts":1621631062.7387445,"caller":"nseinformer/nseInformerController.go:341","msg":"NSE diff: For cluster test, endpoint match 'examplen4z24'","app":"nse-discovery"}
{"level":"info","ts":1621631062.7387557,"caller":"nseinformer/nseInformerController.go:203","msg":"Global NSE diff result: 0 new NSEs to add, 0 NSEs to delete","app":"nse-discovery"}
{"level":"info","ts":1621631062.7387633,"caller":"nseinformer/nseInformerController.go:240","msg":"No endpoints to register to Global registry.","app":"nse-discovery"}
{"level":"info","ts":1621631062.7388036,"caller":"nseinformer/nseInformerController.go:266","msg":"No endpoints to remove from Global registry.","app":"nse-discovery"}
{"level":"info","ts":1621631156.0528126,"caller":"nseinformer/nseInformerController.go:107","msg":"NSE pod: &{{ } {examplen4z24 example default /apis/networkservicemesh.io/v1alpha1/namespaces/default/networkserviceendpoints/examplen4z24 0d622914-5bc4-4981-8adb-b98c8bcdac84 10253 1 2021-05-21 20:43:02 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:member1_vl3-nse-example-5f77749bd4-k8qck wcm/nsr.addr:example.nispatil-wcm-cisco.com wcm/nsr.port:80] map[] [] []  []} {example IP kind-1-control-plane} {RUNNING}} was updated with: &{{ } {examplen4z24 example default /apis/networkservicemesh.io/v1alpha1/namespaces/default/networkserviceendpoints/examplen4z24 0d622914-5bc4-4981-8adb-b98c8bcdac84 10253 1 2021-05-21 20:43:02 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:member1_vl3-nse-example-5f77749bd4-k8qck wcm/nsr.addr:example.nispatil-wcm-cisco.com wcm/nsr.port:80] map[] [] []  []} {example IP kind-1-control-plane} {RUNNING}}","app":"nse-discovery"}
{"level":"info","ts":1621631156.0528991,"caller":"nseinformer/nseInformerController.go:156","msg":"Processing NSE named examplen4z24...","app":"nse-discovery"}
{"level":"info","ts":1621631156.0529134,"caller":"nseinformer/nseInformerController.go:163","msg":"Found service name: example","app":"nse-discovery"}
{"level":"info","ts":1621631156.0529227,"caller":"nseinformer/nseInformerController.go:178","msg":"Getting endpoints from the local NSR","app":"nse-discovery"}
time="2021-05-21T21:05:56Z" level=info msg="==--> discovery.FindNetworkService() span:5a1d0d16e4fd24fa:5a1d0d16e4fd24fa:0000000000000000:1"
time="2021-05-21T21:05:56Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=5a1d0d16e4fd24fa:5a1d0d16e4fd24fa:0000000000000000:1"
time="2021-05-21T21:05:56Z" level=info msg=">><<-- nsrURL=\"wcm-proxy-nsmgr.nsm-system:5005\" span=5a1d0d16e4fd24fa:5a1d0d16e4fd24fa:0000000000000000:1"
time="2021-05-21T21:05:56Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-05-21T21:05:56Z" level=info msg="==----> initRegistryClient() span:5a1d0d16e4fd24fa:621f228cc0266b8a:5a1d0d16e4fd24fa:1"
time="2021-05-21T21:05:56Z" level=info msg="Waiting for liveness probe: tcp:wcm-proxy-nsmgr.nsm-system:5005"
time="2021-05-21T21:05:56Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="5a1d0d16e4fd24fa:621f228cc0266b8a:5a1d0d16e4fd24fa:1"
time="2021-05-21T21:05:56Z" level=info msg="Successfully connected to wcm-proxy-nsmgr.nsm-system:5005" operation=initRegistryClient span="5a1d0d16e4fd24fa:621f228cc0266b8a:5a1d0d16e4fd24fa:1"
2021/05/21 21:05:56 Reporting span 5a1d0d16e4fd24fa:621f228cc0266b8a:5a1d0d16e4fd24fa:1
{"level":"info","ts":1621631156.0578687,"caller":"nseinformer/nseInformerController.go:408","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-05-21T21:05:56Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=5a1d0d16e4fd24fa:5a1d0d16e4fd24fa:0000000000000000:1"
time="2021-05-21T21:05:56Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=5a1d0d16e4fd24fa:5a1d0d16e4fd24fa:0000000000000000:1"
2021/05/21 21:05:56 Reporting span 5a1d0d16e4fd24fa:624c5364e3aa8c16:5a1d0d16e4fd24fa:1
time="2021-05-21T21:05:56Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-1-control-plane\":{\"name\":\"kind-1-control-plane\",\"url\":\"172.17.0.2:5001\",\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"examplen4z24\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-1-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"member1_vl3-nse-example-5f77749bd4-k8qck\",\"wcm/nsr.addr\":\"example.nispatil-wcm-cisco.com\",\"wcm/nsr.port\":\"80\"},\"state\":\"RUNNING\"}]} span=5a1d0d16e4fd24fa:5a1d0d16e4fd24fa:0000000000000000:1"
2021/05/21 21:05:56 Reporting span 5a1d0d16e4fd24fa:5a1d0d16e4fd24fa:0000000000000000:1
{"level":"info","ts":1621631156.06292,"caller":"nseinformer/nseInformerController.go:316","msg":"found NSE with name examplen4z24","app":"nse-discovery"}
{"level":"info","ts":1621631156.0631013,"caller":"nseinformer/nseInformerController.go:186","msg":"Retrieved 1 endpoints from the local NSR","app":"nse-discovery"}
{"level":"info","ts":1621631156.0631151,"caller":"nseinformer/nseInformerController.go:189","msg":"Getting endpoints from the global NSR at: example.nispatil-wcm-cisco.com:80","app":"nse-discovery"}
time="2021-05-21T21:05:56Z" level=info msg="==--> discovery.FindNetworkService() span:5ceefa837e9c3575:5ceefa837e9c3575:0000000000000000:1"
time="2021-05-21T21:05:56Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=5ceefa837e9c3575:5ceefa837e9c3575:0000000000000000:1"
time="2021-05-21T21:05:56Z" level=info msg=">><<-- nsrURL=\"example.nispatil-wcm-cisco.com:80\" span=5ceefa837e9c3575:5ceefa837e9c3575:0000000000000000:1"
time="2021-05-21T21:05:56Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-05-21T21:05:56Z" level=info msg="==----> initRegistryClient() span:5ceefa837e9c3575:7959ad4b49474900:5ceefa837e9c3575:1"
time="2021-05-21T21:05:56Z" level=info msg="Waiting for liveness probe: tcp:example.nispatil-wcm-cisco.com:80"
time="2021-05-21T21:06:16Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="5ceefa837e9c3575:7959ad4b49474900:5ceefa837e9c3575:1"
time="2021-05-21T21:06:26Z" level=error msg="Failed to dial Network Service Registry at example.nispatil-wcm-cisco.com:80: context deadline exceeded" operation=initRegistryClient span="5ceefa837e9c3575:7959ad4b49474900:5ceefa837e9c3575:1"
2021/05/21 21:06:26 Reporting span 5ceefa837e9c3575:7959ad4b49474900:5ceefa837e9c3575:1
2021/05/21 21:06:26 Reporting span 5ceefa837e9c3575:5ceefa837e9c3575:0000000000000000:1
{"level":"info","ts":1621631186.064021,"caller":"nseinformer/nseInformerController.go:369","msg":"Error processing pod &{{ } {examplen4z24 example default /apis/networkservicemesh.io/v1alpha1/namespaces/default/networkserviceendpoints/examplen4z24 0d622914-5bc4-4981-8adb-b98c8bcdac84 10253 1 2021-05-21 20:43:02 +0000 UTC <nil> <nil> map[app:vl3-nse-example networkservicename:example nsepod.name:member1_vl3-nse-example-5f77749bd4-k8qck wcm/nsr.addr:example.nispatil-wcm-cisco.com wcm/nsr.port:80] map[] [] []  []} {example IP kind-1-control-plane} {RUNNING}}: Connection to Network Registry Server is not available","app":"nse-discovery"}
{"level":"info","ts":1621631186.0694256,"caller":"nseinformer/nseInformerController.go:156","msg":"Processing NSE named examplen4z24...","app":"nse-discovery"}
{"level":"info","ts":1621631186.0694761,"caller":"nseinformer/nseInformerController.go:163","msg":"Found service name: example","app":"nse-discovery"}
{"level":"info","ts":1621631186.0694861,"caller":"nseinformer/nseInformerController.go:178","msg":"Getting endpoints from the local NSR","app":"nse-discovery"}
time="2021-05-21T21:06:26Z" level=info msg="==--> discovery.FindNetworkService() span:2a69718879eeb5ba:2a69718879eeb5ba:0000000000000000:1"
time="2021-05-21T21:06:26Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=2a69718879eeb5ba:2a69718879eeb5ba:0000000000000000:1"
time="2021-05-21T21:06:26Z" level=info msg=">><<-- nsrURL=\"wcm-proxy-nsmgr.nsm-system:5005\" span=2a69718879eeb5ba:2a69718879eeb5ba:0000000000000000:1"
time="2021-05-21T21:06:26Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-05-21T21:06:26Z" level=info msg="==----> initRegistryClient() span:2a69718879eeb5ba:0fb62a8a15dc9710:2a69718879eeb5ba:1"
time="2021-05-21T21:06:26Z" level=info msg="Waiting for liveness probe: tcp:wcm-proxy-nsmgr.nsm-system:5005"
time="2021-05-21T21:06:26Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="2a69718879eeb5ba:0fb62a8a15dc9710:2a69718879eeb5ba:1"
time="2021-05-21T21:06:26Z" level=info msg="Successfully connected to wcm-proxy-nsmgr.nsm-system:5005" operation=initRegistryClient span="2a69718879eeb5ba:0fb62a8a15dc9710:2a69718879eeb5ba:1"
2021/05/21 21:06:26 Reporting span 2a69718879eeb5ba:0fb62a8a15dc9710:2a69718879eeb5ba:1
{"level":"info","ts":1621631186.0731537,"caller":"nseinformer/nseInformerController.go:408","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-05-21T21:06:26Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=2a69718879eeb5ba:2a69718879eeb5ba:0000000000000000:1"
time="2021-05-21T21:06:26Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=2a69718879eeb5ba:2a69718879eeb5ba:0000000000000000:1"
2021/05/21 21:06:26 Reporting span 2a69718879eeb5ba:60b475b246db7942:2a69718879eeb5ba:1
time="2021-05-21T21:06:26Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-1-control-plane\":{\"name\":\"kind-1-control-plane\",\"url\":\"172.17.0.2:5001\",\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"examplen4z24\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-1-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"member1_vl3-nse-example-5f77749bd4-k8qck\",\"wcm/nsr.addr\":\"example.nispatil-wcm-cisco.com\",\"wcm/nsr.port\":\"80\"},\"state\":\"RUNNING\"}]} span=2a69718879eeb5ba:2a69718879eeb5ba:0000000000000000:1"
2021/05/21 21:06:26 Reporting span 2a69718879eeb5ba:2a69718879eeb5ba:0000000000000000:1
{"level":"info","ts":1621631186.0782547,"caller":"nseinformer/nseInformerController.go:316","msg":"found NSE with name examplen4z24","app":"nse-discovery"}
{"level":"info","ts":1621631186.0783067,"caller":"nseinformer/nseInformerController.go:186","msg":"Retrieved 1 endpoints from the local NSR","app":"nse-discovery"}
{"level":"info","ts":1621631186.0783193,"caller":"nseinformer/nseInformerController.go:189","msg":"Getting endpoints from the global NSR at: example.nispatil-wcm-cisco.com:80","app":"nse-discovery"}
time="2021-05-21T21:06:26Z" level=info msg="==--> discovery.FindNetworkService() span:028f5ed59392fa60:028f5ed59392fa60:0000000000000000:1"
time="2021-05-21T21:06:26Z" level=info msg=">><<-- request={\"network_service_name\":\"example\"} span=028f5ed59392fa60:028f5ed59392fa60:0000000000000000:1"
time="2021-05-21T21:06:26Z" level=info msg=">><<-- nsrURL=\"example.nispatil-wcm-cisco.com:80\" span=028f5ed59392fa60:028f5ed59392fa60:0000000000000000:1"
time="2021-05-21T21:06:26Z" level=info msg="Requesting NetworkServiceDiscoveryClient..."
time="2021-05-21T21:06:26Z" level=info msg="==----> initRegistryClient() span:028f5ed59392fa60:6fddd8746b6c48d0:028f5ed59392fa60:1"
time="2021-05-21T21:06:26Z" level=info msg="Waiting for liveness probe: tcp:example.nispatil-wcm-cisco.com:80"
time="2021-05-21T21:06:36Z" level=info msg="Registry port now available, attempting to connect..." operation=initRegistryClient span="028f5ed59392fa60:6fddd8746b6c48d0:028f5ed59392fa60:1"
time="2021-05-21T21:06:36Z" level=info msg="Successfully connected to example.nispatil-wcm-cisco.com:80" operation=initRegistryClient span="028f5ed59392fa60:6fddd8746b6c48d0:028f5ed59392fa60:1"
2021/05/21 21:06:36 Reporting span 028f5ed59392fa60:6fddd8746b6c48d0:028f5ed59392fa60:1
{"level":"info","ts":1621631196.0861812,"caller":"nseinformer/nseInformerController.go:408","msg":"Discover NSEs from NSR: network_service_name:\"example\" ","app":"nse-discovery"}
time="2021-05-21T21:06:36Z" level=info msg=">><<---- /registry.NetworkServiceDiscovery/FindNetworkService()=\"\" span=028f5ed59392fa60:028f5ed59392fa60:0000000000000000:1"
time="2021-05-21T21:06:36Z" level=info msg=">><<---- request={\"network_service_name\":\"example\"} span=028f5ed59392fa60:028f5ed59392fa60:0000000000000000:1"
2021/05/21 21:06:36 Reporting span 028f5ed59392fa60:0bc4ff3a6ceff789:028f5ed59392fa60:1
time="2021-05-21T21:06:36Z" level=info msg=">><<---- response={\"payload\":\"IP\",\"network_service\":{\"name\":\"example\",\"payload\":\"IP\"},\"network_service_managers\":{\"kind-1-control-plane\":{\"name\":\"kind-1-control-plane\",\"url\":\"172.17.0.2:5001\",\"expiration_time\":{\"seconds\":1621633382},\"state\":\"RUNNING\"},\"kind-2-control-plane\":{\"name\":\"kind-2-control-plane\",\"url\":\"172.17.0.3:5001\",\"expiration_time\":{\"seconds\":1621631723},\"state\":\"RUNNING\"}},\"network_service_endpoints\":[{\"name\":\"examplebkpg7\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-2-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-2_vl3-nse-example-9b57cccc7-7qtql\",\"wcm/cluster\":\"member1\",\"wcm/nsr.addr\":\"example.nispatil-wcm-cisco.com\",\"wcm/nsr.port\":\"80\"},\"state\":\"RUNNING\"},{\"name\":\"examplejbwqv\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-2-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"example-kind-2_vl3-nse-example-9b57cccc7-666pb\",\"wcm/cluster\":\"member1\",\"wcm/nsr.addr\":\"example.nispatil-wcm-cisco.com\",\"wcm/nsr.port\":\"80\"},\"state\":\"RUNNING\"},{\"name\":\"examplen4z24\",\"payload\":\"IP\",\"network_service_name\":\"example\",\"network_service_manager_name\":\"kind-1-control-plane\",\"labels\":{\"app\":\"vl3-nse-example\",\"networkservicename\":\"example\",\"nsepod.name\":\"member1_vl3-nse-example-5f77749bd4-k8qck\",\"wcm/cluster\":\"test\",\"wcm/nsr.addr\":\"example.nispatil-wcm-cisco.com\",\"wcm/nsr.port\":\"80\"},\"state\":\"RUNNING\"}]} span=028f5ed59392fa60:028f5ed59392fa60:0000000000000000:1"
2021/05/21 21:06:36 Reporting span 028f5ed59392fa60:028f5ed59392fa60:0000000000000000:1
{"level":"info","ts":1621631196.0888236,"caller":"nseinformer/nseInformerController.go:316","msg":"found NSE with name examplebkpg7","app":"nse-discovery"}
{"level":"info","ts":1621631196.0888624,"caller":"nseinformer/nseInformerController.go:316","msg":"found NSE with name examplejbwqv","app":"nse-discovery"}
{"level":"info","ts":1621631196.0888736,"caller":"nseinformer/nseInformerController.go:316","msg":"found NSE with name examplen4z24","app":"nse-discovery"}
{"level":"info","ts":1621631196.0889003,"caller":"nseinformer/nseInformerController.go:198","msg":"Retrieved 3 endpoints from the global NSR","app":"nse-discovery"}
{"level":"info","ts":1621631196.0889378,"caller":"nseinformer/nseInformerController.go:331","msg":"NSE diff:  For cluster test, skipping endpoint 'examplebkpg7'","app":"nse-discovery"}
{"level":"info","ts":1621631196.088948,"caller":"nseinformer/nseInformerController.go:331","msg":"NSE diff:  For cluster test, skipping endpoint 'examplejbwqv'","app":"nse-discovery"}
{"level":"info","ts":1621631196.088956,"caller":"nseinformer/nseInformerController.go:328","msg":"NSE diff: For cluster test, adding endpoint 'examplen4z24'","app":"nse-discovery"}
{"level":"info","ts":1621631196.08897,"caller":"nseinformer/nseInformerController.go:341","msg":"NSE diff: For cluster test, endpoint match 'examplen4z24'","app":"nse-discovery"}
{"level":"info","ts":1621631196.088979,"caller":"nseinformer/nseInformerController.go:328","msg":"NSE diff: For cluster test, adding endpoint 'examplen4z24'","app":"nse-discovery"}
{"level":"info","ts":1621631196.0905936,"caller":"nseinformer/nseInformerController.go:344","msg":"NSE diff:  For cluster test, skip comparing endpoint 'examplebkpg7'","app":"nse-discovery"}
{"level":"info","ts":1621631196.0906527,"caller":"nseinformer/nseInformerController.go:344","msg":"NSE diff:  For cluster test, skip comparing endpoint 'examplejbwqv'","app":"nse-discovery"}
{"level":"info","ts":1621631196.0906641,"caller":"nseinformer/nseInformerController.go:341","msg":"NSE diff: For cluster test, endpoint match 'examplen4z24'","app":"nse-discovery"}
{"level":"info","ts":1621631196.0906737,"caller":"nseinformer/nseInformerController.go:203","msg":"Global NSE diff result: 0 new NSEs to add, 0 NSEs to delete","app":"nse-discovery"}
{"level":"info","ts":1621631196.0906825,"caller":"nseinformer/nseInformerController.go:240","msg":"No endpoints to register to Global registry.","app":"nse-discovery"}
{"level":"info","ts":1621631196.0906913,"caller":"nseinformer/nseInformerController.go:266","msg":"No endpoints to remove from Global registry.","app":"nse-discovery"}
==== END logs for container wcm-nse-discovery of pod wcm-system/wcm-nse-discovery-9d8cfcc95-4sqfm ====
