==== START logs for container wcm-nsm-vpp-forwarder of pod nsm-system/wcm-nsm-vpp-forwarder-shv4l ====
time="2021-04-28 21:15:01.45619" level=info msg="Starting agent version: v0.0.0-dev" BuildDate= CommitHash= loc="agent/agent.go(134)" logger=agent
time="2021-04-28 21:15:01.45804" level=info msg="Agent started with 2 plugins (took 1ms)" loc="agent/agent.go(179)" logger=agent
time="2021-04-28T21:15:01Z" level=info msg="Starting vppagent-forwarder..."
time="2021-04-28T21:15:01Z" level=info msg="Version: v0.2.10-vl3-8-gf6ff158b"
time="2021-04-28T21:15:01Z" level=info msg="Creating logger from config: &{vppagent-forwarder@kind-2-control-plane false false [] 0xc000400480 0xc000466150 <nil> <nil> <nil>}"
2021/04/28 21:15:01 debug logging disabled
2021/04/28 21:15:01 Initializing logging reporter
2021/04/28 21:15:01 debug logging disabled
time="2021-04-28T21:15:01Z" level=info msg="==--> Start.VPPAgent.Forwarder() span:339c684690faa6ca:339c684690faa6ca:0000000000000000:1"
time="2021-04-28T21:15:01Z" level=info msg="==----> CreateForwarder() span:339c684690faa6ca:2c12f44d3539b981:339c684690faa6ca:1"
time="2021-04-28T21:15:01Z" level=info msg="==------> createForwartderConfig() span:339c684690faa6ca:6f1b95408e267c2b:2c12f44d3539b981:1"
time="2021-04-28T21:15:01Z" level=info msg=">><<------ FORWARDER_NAME=\"vppagent (default value)\" span=339c684690faa6ca:6f1b95408e267c2b:2c12f44d3539b981:1"
time="2021-04-28T21:15:01Z" level=info msg=">><<------ FORWARDER_SOCKET=\"/var/lib/networkservicemesh/nsm-vppagent.forwarder.sock (default value)\" span=339c684690faa6ca:6f1b95408e267c2b:2c12f44d3539b981:1"
time="2021-04-28T21:15:01Z" level=info msg=">><<------ FORWARDER_SOCKET_TYPE=\"unix (default value)\" span=339c684690faa6ca:6f1b95408e267c2b:2c12f44d3539b981:1"
time="2021-04-28T21:15:01Z" level=info msg=">><<------ NSM_BASEDIR=\"/var/lib/networkservicemesh/ (default value)\" span=339c684690faa6ca:6f1b95408e267c2b:2c12f44d3539b981:1"
time="2021-04-28T21:15:01Z" level=info msg=">><<------ FORWARDER_REGISTRAR_SOCKET=\"/var/lib/networkservicemesh/nsm.forwarder-registrar.io.sock (default value)\" span=339c684690faa6ca:6f1b95408e267c2b:2c12f44d3539b981:1"
time="2021-04-28T21:15:01Z" level=info msg=">><<------ FORWARDER_REGISTRAR_SOCKET_TYPE=\"unix (default value)\" span=339c684690faa6ca:6f1b95408e267c2b:2c12f44d3539b981:1"
time="2021-04-28T21:15:01Z" level=info msg=">><<------ METRICS_COLLECTOR_ENABLED=false span=339c684690faa6ca:6f1b95408e267c2b:2c12f44d3539b981:1"
time="2021-04-28T21:15:01Z" level=info msg="Parts: [Iface Destination Gateway  Flags RefCnt Use Metric Mask  MTU Window IRTT]"
time="2021-04-28T21:15:01Z" level=info msg="Parts: [eth0 00000000 010011AC 0003 0 0 0 00000000 0 0 0]"
time="2021-04-28T21:15:01Z" level=info msg="Found default gateway 172.17.0.1 outgoing: eth0"
time="2021-04-28T21:15:01Z" level=info msg="INTERFACE: lo : [127.0.0.1/8]"
time="2021-04-28T21:15:01Z" level=info msg="INTERFACE: tunl0 : []"
time="2021-04-28T21:15:01Z" level=info msg="INTERFACE: ip6tnl0 : []"
time="2021-04-28T21:15:01Z" level=info msg="INTERFACE: veth5783eafa : [10.244.0.1/32]"
time="2021-04-28T21:15:01Z" level=info msg="INTERFACE: veth113652db : [10.244.0.1/32]"
time="2021-04-28T21:15:01Z" level=info msg="INTERFACE: vethd1455e0e : [10.244.0.1/32]"
time="2021-04-28T21:15:01Z" level=info msg="INTERFACE: vethd0794651 : [10.244.0.1/32]"
time="2021-04-28T21:15:01Z" level=info msg="INTERFACE: vethbd1b1a5e : [10.244.0.1/32]"
time="2021-04-28T21:15:01Z" level=info msg="INTERFACE: vethc6893e1d : [10.244.0.1/32]"
time="2021-04-28T21:15:01Z" level=info msg="INTERFACE: vethabb9e937 : [10.244.0.1/32]"
time="2021-04-28T21:15:01Z" level=info msg="INTERFACE: veth72e7b6c6 : [10.244.0.1/32]"
time="2021-04-28T21:15:01Z" level=info msg="INTERFACE: veth1cf4a56e : [10.244.0.1/32]"
time="2021-04-28T21:15:01Z" level=info msg="INTERFACE: eth0 : [172.17.0.3/16]"
time="2021-04-28T21:15:01Z" level=info msg=">><<------ NSM_CONNECTION_MTU_OVERRIDE=0 span=339c684690faa6ca:6f1b95408e267c2b:2c12f44d3539b981:1"
time="2021-04-28T21:15:01Z" level=info msg="SrcIP: 172.17.0.3, IfaceName: eth0, SrcIPNet: 172.17.0.3/16" operation=createForwartderConfig span="339c684690faa6ca:6f1b95408e267c2b:2c12f44d3539b981:1"
time="2021-04-28T21:15:01Z" level=info msg=">><<------ config= span=339c684690faa6ca:6f1b95408e267c2b:2c12f44d3539b981:1"
2021/04/28 21:15:01 Reporting span 339c684690faa6ca:6f1b95408e267c2b:2c12f44d3539b981:1
time="2021-04-28T21:15:01Z" level=info msg="==------> NewServer() span:339c684690faa6ca:466239158397383f:2c12f44d3539b981:1"
time="2021-04-28T21:15:01Z" level=info msg="==--------> GetCertificate() span:339c684690faa6ca:681347d47c36a953:466239158397383f:1"
                                       __
  _  _____  ___ _______ ____ ____ ___ / /_  
 | |/ / _ \/ _ /___/ _ '/ _ '/ -_/ _ / __/  vpp-agent v3.2.0
 |___/ .__/ .__/   \_'_/\_' /\__/_//_\__/   Wed Nov  4 12:43:01 UTC 2020 (175 days ago)
    /_/  /_/           /___/                root@cac5a9849c6e (go1.15.2 linux/amd64)

time="2021-04-28 21:15:01.68518" level=info msg="Starting agent version: v3.2.0" BuildDate="Wed Nov  4 12:43:01 UTC 2020" CommitHash=f969fd3 loc="agent/agent.go(134)" logger=agent
time="2021-04-28 21:15:01.68850" level=info msg="ETCD config not found, skip loading this plugin" loc="etcd/plugin_impl_etcd.go(293)" logger=etcd
time="2021-04-28 21:15:01.68945" level=info msg="Consul config not found, skip loading this plugin" loc="consul/plugin.go(138)" logger=consul
time="2021-04-28 21:15:01.69023" level=info msg="Redis config not found, skip loading this plugin" loc="redis/plugin_impl_redis.go(123)" logger=redis
unix_config:471: couldn't open log '/var/log/vpp/vpp.log'
/usr/bin/vpp[4213]: clib_elf_parse_file: open `linux-vdso.so.1': No such file or directory
/usr/bin/vpp[4213]: clib_sysfs_prealloc_hugepages:261: pre-allocating 37 additional 2048K hugepages on numa node 0
/usr/bin/vpp[4213]: buffer: vlib_physmem_shared_map_create: pmalloc_map_pages: failed to mmap 37 pages at 0x1000000000 fd 4 numa 0 flags 0x11: Cannot allocate memory

/usr/bin/vpp[4213]: buffer: falling back to non-hugepage backed buffer pool
/usr/bin/vpp[4213]: vat-plug/load: vat_plugin_register: gtpu plugin not loaded...
/usr/bin/vpp[4213]: vat-plug/load: vat_plugin_register: pppoe plugin not loaded...
/usr/bin/vpp[4213]: vat-plug/load: vat_plugin_register: oddbuf plugin not loaded...
/usr/bin/vpp[4213]: vat-plug/load: vat_plugin_register: dhcp plugin not loaded...
/usr/bin/vpp[4213]: vat-plug/load: vat_plugin_register: avf plugin not loaded...
/usr/bin/vpp[4213]: vat-plug/load: vat_plugin_register: rdma plugin not loaded...
time="2021-04-28 21:15:02.31048" level=info msg="VPP version: 20.05.1-6~gf53edbc3b~b1" ClientID=0 PID=4213 loc="govppmux/plugin_impl_govppmux.go(382)" logger=govpp
time="2021-04-28 21:15:02.31845" level=info msg="VPP proxy ready" loc="govppmux/plugin_impl_govppmux.go(177)" logger=govpp
time="2021-04-28 21:15:02.32067" level=info msg="kafka config not found  - skip loading this plugin" loc="kafka/plugin_impl_kafka.go(73)" logger=kafka
time="2021-04-28 21:15:02.32432" level=warning msg="VPP plugin wireguard was disabled by VPP" loc="wireguardplugin/wireguardplugin.go(51)" logger=vpp-wg-plugin
time="2021-04-28 21:15:02.32585" level=warning msg="Failed to list Docker containers: Get \"http://unix.sock/containers/json?all=1\": dial unix /var/run/docker.sock: connect: no such file or directory" loc="descriptor/microservice.go(304)" logger=linux-nsplugin.ms-descriptor
time="2021-04-28 21:15:02.32585" level=info msg="Found 42 registered models" loc="orchestrator/orchestrator.go(101)" logger=orchestrator
time="2021-04-28 21:15:02.32688" level=info msg="Watching 40 key prefixes from KVScheduler" loc="orchestrator/orchestrator.go(108)" logger=dispatcher
time="2021-04-28 21:15:02.32735" level=info msg="VPP Wg handler is not available, it will be skipped" loc="configurator/plugin.go(156)" logger=configurator
time="2021-04-28 21:15:02.32784" level=info msg="Wireguard handler is not available, it will be skipped" loc="restapi/plugin_restapi.go(174)" logger=restpapi
time="2021-04-28 21:15:02.32825" level=info msg="polling period changed to 5s" loc="telemetry/telemetry.go(112)" logger=telemetry
time="2021-04-28 21:15:02.32907" level=info msg="Serving on http://0.0.0.0:9191" loc="rest/plugin_impl_rest.go(114)" logger=http
time="2021-04-28 21:15:02.32921" level=info msg="Agent plugin state update." lastErr="<nil>" loc="statuscheck/plugin_impl_statuscheck.go(183)" logger=status-check plugin=govpp state=ok
time="2021-04-28 21:15:02.33119" level=info msg="Listening GRPC on: localhost:9111" loc="grpc/plugin_impl_grpc.go(152)" logger=grpc
time="2021-04-28 21:15:02.33261" level=info msg="Starting health http-probe on port 9191" loc="probe/plugin_impl_probe.go(75)" logger=probe
time="2021-04-28 21:15:02.33287" level=info msg="Unable to register prometheus-probe handler, Prometheus is nil" loc="probe/plugin_impl_probe.go(87)" logger=probe
time="2021-04-28 21:15:02.33295" level=info msg="Serving /metrics on port 9191" loc="prometheus/plugin_impl_prometheus.go(88)" logger=prometheus
time="2021-04-28 21:15:02.33355" level=warning msg="No registrations, skipping resync" loc="resync/plugin_impl_resync.go(98)" logger=resync
time="2021-04-28 21:15:02.33362" level=info msg="Agent plugin state update." lastErr="<nil>" loc="statuscheck/plugin_impl_statuscheck.go(183)" logger=status-check plugin=VPPAgent state=ok
time="2021-04-28 21:15:02.33377" level=info msg="Agent started with 40 plugins (took 648ms)" loc="agent/agent.go(179)" logger=agent
+======================================================================================================================+
| #0 - SBNotification                                                                                                  |
+======================================================================================================================+
  * transaction arguments:
      - seqNum: 0
      - type: SB Notification
      - values:
          - key: linux/interface/host-name/veth202aa36a
            val: <EMPTY>

o----------------------------------------------------------------------------------------------------------------------o
  * executed operations (2021-04-28 21:15:02.491 +0000 UTC -> 2021-04-28 21:15:02.492 +0000 UTC, dur: 1ms):
      1. CREATE [OBTAINED]:
          - key: linux/interface/host-name/veth202aa36a
          - value: <EMPTY> 
x----------------------------------------------------------------------------------------------------------------------x
| #0 - SBNotification                                                                                       took 600µs |
x----------------------------------------------------------------------------------------------------------------------x

time="2021-04-28 21:15:02.49176" level=info msg="Transaction 0 successful!" loc="kvscheduler/txn_process.go(405)" logger=kvscheduler
+======================================================================================================================+
| #1 - SBNotification                                                                                                  |
+======================================================================================================================+
  * transaction arguments:
      - seqNum: 1
      - type: SB Notification
      - values:
          - key: linux/interface/host-name/veth35145eca
            val: <EMPTY>

o----------------------------------------------------------------------------------------------------------------------o
  * executed operations (2021-04-28 21:15:02.85 +0000 UTC -> 2021-04-28 21:15:02.85 +0000 UTC, dur: 0s):
      1. CREATE [OBTAINED]:
          - key: linux/interface/host-name/veth35145eca
          - value: <EMPTY> 
x----------------------------------------------------------------------------------------------------------------------x
| #1 - SBNotification                                                                                       took 100µs |
x----------------------------------------------------------------------------------------------------------------------x

time="2021-04-28 21:15:02.85052" level=info msg="Transaction 1 successful!" loc="kvscheduler/txn_process.go(405)" logger=kvscheduler
+======================================================================================================================+
| #2 - SBNotification                                                                                                  |
+======================================================================================================================+
  * transaction arguments:
      - seqNum: 2
      - type: SB Notification
      - values:
          - key: linux/interface/host-name/veth6d52058f
            val: <EMPTY>

o----------------------------------------------------------------------------------------------------------------------o
  * executed operations (2021-04-28 21:15:03.746 +0000 UTC -> 2021-04-28 21:15:03.747 +0000 UTC, dur: 1ms):
      1. CREATE [OBTAINED]:
          - key: linux/interface/host-name/veth6d52058f
          - value: <EMPTY> 
x----------------------------------------------------------------------------------------------------------------------x
| #2 - SBNotification                                                                                       took 600µs |
x----------------------------------------------------------------------------------------------------------------------x

time="2021-04-28 21:15:03.74701" level=info msg="Transaction 2 successful!" loc="kvscheduler/txn_process.go(405)" logger=kvscheduler
2021/04/28 21:16:07 Reporting span 339c684690faa6ca:681347d47c36a953:466239158397383f:1
time="2021-04-28T21:16:07Z" level=info msg="Issued certificate with id: spiffe://test.com/wcm-nsm-vpp-forwarder"
time="2021-04-28T21:16:07Z" level=info msg="GRPC.NewServer with open tracing enabled" operation=NewServer span="339c684690faa6ca:466239158397383f:2c12f44d3539b981:1"
2021/04/28 21:16:07 Reporting span 339c684690faa6ca:466239158397383f:2c12f44d3539b981:1
time="2021-04-28T21:16:07Z" level=info msg="vppAgentEndpoint: localhost:9111"
time="2021-04-28T21:16:07Z" level=info msg="MonitorServerImpl.AddRecipient: CrossConnect-&{0xa22ea0 0xc000474ba0 map[] 0xc000488180}"
time="2021-04-28T21:16:07Z" level=info msg="CrossConnect - Serve starting..."
time="2021-04-28T21:16:07Z" level=info msg="Waiting for liveness probe: tcp:localhost:9111"
time="2021-04-28 21:16:07.54593" level=warning msg="grpc: Server.Serve failed to create ServerTransport: connection error: desc = \"transport: http2Server.HandleStreams failed to receive the preface from client: EOF\"" loc="grpclog/grpclog.go(42)" logger=grpc.grpc-server
time="2021-04-28T21:16:07Z" level=info msg="Resetting vppagent..."
time="2021-04-28T21:16:07Z" level=info msg=">><<-- /ligato.configurator.ConfiguratorService/Update()=\"\" span=<nil>"
time="2021-04-28T21:16:07Z" level=info msg=">><<-- request={\"update\":{},\"full_resync\":true} span=<nil>"
+======================================================================================================================+
| #3 - NBTransaction                                                                                        FullResync |
+======================================================================================================================+
  * transaction arguments:
      - seqNum: 3
      - type: NB Transaction, Full Resync
      - values:

o----------------------------------------------------------------------------------------------------------------------o
  * executed operations:
      <NONE>
x----------------------------------------------------------------------------------------------------------------------x
| #3 - NBTransaction                                                                                       took 82.6ms |
x----------------------------------------------------------------------------------------------------------------------x

time="2021-04-28 21:16:07.63864" level=info msg="Transaction #3 successful! (took 82.9ms)" loc="orchestrator/dispatcher.go(178)" logger=dispatcher
2021/04/28 21:16:07 Reporting span 12b56d0c92b05ec4:12b56d0c92b05ec4:0000000000000000:1
time="2021-04-28T21:16:07Z" level=info msg=">><<-- response={} span=<nil>"
time="2021-04-28T21:16:07Z" level=info msg="Finished resetting vppagent..."
time="2021-04-28T21:16:07Z" level=info msg="Waiting for liveness probe: tcp:localhost:9111"
time="2021-04-28 21:16:07.64021" level=warning msg="grpc: Server.Serve failed to create ServerTransport: connection error: desc = \"transport: http2Server.HandleStreams failed to receive the preface from client: EOF\"" loc="grpclog/grpclog.go(42)" logger=grpc.grpc-server
time="2021-04-28T21:16:07Z" level=warning msg="SRv6 remote mechanism is not supported: Mgmt Interface does not have local IPv6 address"
time="2021-04-28T21:16:07Z" level=info msg="Setting up Mgmt Interface update:{vpp_config:{interfaces:{name:\"mgmt\"  type:AF_PACKET  enabled:true  phys_address:\"02:42:ac:11:00:03\"  ip_addresses:\"172.17.0.3/16\"  afpacket:{host_if_name:\"eth0\"}}  acls:{name:\"NSMmgmtInterfaceACL\"  rules:{action:PERMIT  ip_rule:{ip:{destination_network:\"172.17.0.3/32\"  source_network:\"0.0.0.0/0\"}  udp:{destination_port_range:{lower_port:4789  upper_port:4789}  source_port_range:{upper_port:65535}}}}  rules:{action:REFLECT  ip_rule:{ip:{destination_network:\"172.17.0.3/32\"  source_network:\"0.0.0.0/0\"}  udp:{destination_port_range:{lower_port:4500  upper_port:4500}  source_port_range:{upper_port:65535}}}}  interfaces:{ingress:\"mgmt\"}}  routes:{type:INTER_VRF  dst_network:\"0.0.0.0/0\"  next_hop_addr:\"172.17.0.1\"  outgoing_interface:\"mgmt\"  weight:1}  arps:{interface:\"mgmt\"  ip_address:\"10.244.0.3\"  phys_address:\"fa:4f:03:47:f9:2f\"}  arps:{interface:\"mgmt\"  ip_address:\"10.244.0.6\"  phys_address:\"1e:ad:2a:39:0b:dc\"}  arps:{interface:\"mgmt\"  ip_address:\"172.17.0.1\"  phys_address:\"02:42:60:e5:ef:a2\"}  arps:{interface:\"mgmt\"  ip_address:\"10.244.0.2\"  phys_address:\"fe:73:9a:30:05:64\"}  arps:{interface:\"mgmt\"  ip_address:\"10.244.0.4\"  phys_address:\"42:74:0f:66:f8:0c\"}  arps:{interface:\"mgmt\"  ip_address:\"10.244.0.7\"  phys_address:\"9e:0d:f8:b4:c8:ce\"}}}"
time="2021-04-28T21:16:07Z" level=info msg=">><<-- /ligato.configurator.ConfiguratorService/Update()=\"\" span=<nil>"
time="2021-04-28T21:16:07Z" level=info msg=">><<-- request={\"update\":{\"vpp_config\":{\"interfaces\":[{\"name\":\"mgmt\",\"type\":\"AF_PACKET\",\"enabled\":true,\"physAddress\":\"02:42:ac:11:00:03\",\"ipAddresses\":[\"172.17.0.3/16\"],\"afpacket\":{\"hostIfName\":\"eth0\"}}],\"acls\":[{\"name\":\"NSMmgmtInterfaceACL\",\"rules\":[{\"action\":1,\"ip_rule\":{\"ip\":{\"destination_network\":\"172.17.0.3/32\",\"source_network\":\"0.0.0.0/0\"},\"udp\":{\"destination_port_range\":{\"lower_port\":4789,\"upper_port\":4789},\"source_port_range\":{\"upper_port\":65535}}}},{\"action\":2,\"ip_rule\":{\"ip\":{\"destination_network\":\"172.17.0.3/32\",\"source_network\":\"0.0.0.0/0\"},\"udp\":{\"destination_port_range\":{\"lower_port\":4500,\"upper_port\":4500},\"source_port_range\":{\"upper_port\":65535}}}}],\"interfaces\":{\"ingress\":[\"mgmt\"]}}],\"routes\":[{\"type\":1,\"dst_network\":\"0.0.0.0/0\",\"next_hop_addr\":\"172.17.0.1\",\"outgoing_interface\":\"mgmt\",\"weight\":1}],\"arps\":[{\"interface\":\"mgmt\",\"ip_address\":\"10.244.0.3\",\"phys_address\":\"fa:4f:03:47:f9:2f\"},{\"interface\":\"mgmt\",\"ip_address\":\"10.244.0.6\",\"phys_address\":\"1e:ad:2a:39:0b:dc\"},{\"interface\":\"mgmt\",\"ip_address\":\"172.17.0.1\",\"phys_address\":\"02:42:60:e5:ef:a2\"},{\"interface\":\"mgmt\",\"ip_address\":\"10.244.0.2\",\"phys_address\":\"fe:73:9a:30:05:64\"},{\"interface\":\"mgmt\",\"ip_address\":\"10.244.0.4\",\"phys_address\":\"42:74:0f:66:f8:0c\"},{\"interface\":\"mgmt\",\"ip_address\":\"10.244.0.7\",\"phys_address\":\"9e:0d:f8:b4:c8:ce\"}]}}} span=<nil>"
+======================================================================================================================+
| #4 - NBTransaction                                                                                                   |
+======================================================================================================================+
  * transaction arguments:
      - seqNum: 4
      - type: NB Transaction
      - values:
          - key: config/vpp/acls/v2/acl/NSMmgmtInterfaceACL
            val: { name:"NSMmgmtInterfaceACL" rules:{action:PERMIT ip_rule:{ip:{destination_network:"172.17.0.3/32" source_network:"0.0.0.0/0"} udp:{destination_port_range:{lower_port:4789 upper_port:4789} source_port_range:{upper_port:65535}}}} rules:{action:REFLECT ip_rule:{ip:{destination_network:"172.17.0.3/32" source_network:"0.0.0.0/0"} udp:{destination_port_range:{lower_port:4500 upper_port:4500} source_port_range:{upper_port:65535}}}} interfaces:{ingress:"mgmt"} }
          - key: config/vpp/v2/arp/mgmt/10.244.0.2
            val: { interface:"mgmt" ip_address:"10.244.0.2" phys_address:"fe:73:9a:30:05:64" }
          - key: config/vpp/v2/arp/mgmt/10.244.0.3
            val: { interface:"mgmt" ip_address:"10.244.0.3" phys_address:"fa:4f:03:47:f9:2f" }
          - key: config/vpp/v2/arp/mgmt/10.244.0.4
            val: { interface:"mgmt" ip_address:"10.244.0.4" phys_address:"42:74:0f:66:f8:0c" }
          - key: config/vpp/v2/arp/mgmt/10.244.0.6
            val: { interface:"mgmt" ip_address:"10.244.0.6" phys_address:"1e:ad:2a:39:0b:dc" }
          - key: config/vpp/v2/arp/mgmt/10.244.0.7
            val: { interface:"mgmt" ip_address:"10.244.0.7" phys_address:"9e:0d:f8:b4:c8:ce" }
          - key: config/vpp/v2/arp/mgmt/172.17.0.1
            val: { interface:"mgmt" ip_address:"172.17.0.1" phys_address:"02:42:60:e5:ef:a2" }
          - key: config/vpp/v2/interfaces/mgmt
            val: { name:"mgmt" type:AF_PACKET enabled:true phys_address:"02:42:ac:11:00:03" ip_addresses:"172.17.0.3/16" afpacket:{host_if_name:"eth0"} }
          - key: config/vpp/v2/route/if/mgmt/vrf/0/dst/0.0.0.0/0/gw/172.17.0.1
            val: { type:INTER_VRF dst_network:"0.0.0.0/0" next_hop_addr:"172.17.0.1" outgoing_interface:"mgmt" weight:1 }

o----------------------------------------------------------------------------------------------------------------------o
  * executed operations (2021-04-28 21:16:07.643 +0000 UTC -> 2021-04-28 21:16:07.763 +0000 UTC, dur: 120ms):
      1. CREATE:
          - key: config/vpp/acls/v2/acl/NSMmgmtInterfaceACL
          - value: { name:"NSMmgmtInterfaceACL" rules:{action:PERMIT ip_rule:{ip:{destination_network:"172.17.0.3/32" source_network:"0.0.0.0/0"} udp:{destination_port_range:{lower_port:4789 upper_port:4789} source_port_range:{upper_port:65535}}}} rules:{action:REFLECT ip_rule:{ip:{destination_network:"172.17.0.3/32" source_network:"0.0.0.0/0"} udp:{destination_port_range:{lower_port:4500 upper_port:4500} source_port_range:{upper_port:65535}}}} interfaces:{ingress:"mgmt"} } 
      2. CREATE:
          - key: config/vpp/v2/interfaces/mgmt
          - value: { name:"mgmt" type:AF_PACKET enabled:true phys_address:"02:42:ac:11:00:03" ip_addresses:"172.17.0.3/16" afpacket:{host_if_name:"eth0"} } 
      3. CREATE:
          - key: config/vpp/v2/arp/mgmt/10.244.0.2
          - value: { interface:"mgmt" ip_address:"10.244.0.2" phys_address:"fe:73:9a:30:05:64" } 
      4. CREATE:
          - key: config/vpp/v2/arp/mgmt/10.244.0.3
          - value: { interface:"mgmt" ip_address:"10.244.0.3" phys_address:"fa:4f:03:47:f9:2f" } 
      5. CREATE:
          - key: config/vpp/v2/arp/mgmt/10.244.0.4
          - value: { interface:"mgmt" ip_address:"10.244.0.4" phys_address:"42:74:0f:66:f8:0c" } 
      6. CREATE:
          - key: config/vpp/v2/arp/mgmt/10.244.0.6
          - value: { interface:"mgmt" ip_address:"10.244.0.6" phys_address:"1e:ad:2a:39:0b:dc" } 
      7. CREATE:
          - key: config/vpp/v2/arp/mgmt/10.244.0.7
          - value: { interface:"mgmt" ip_address:"10.244.0.7" phys_address:"9e:0d:f8:b4:c8:ce" } 
      8. CREATE:
          - key: config/vpp/v2/arp/mgmt/172.17.0.1
          - value: { interface:"mgmt" ip_address:"172.17.0.1" phys_address:"02:42:60:e5:ef:a2" } 
      9. CREATE [DERIVED]:
          - key: vpp/acl/NSMmgmtInterfaceACL/interface/ingress/mgmt
          - value: <EMPTY> 
      10. CREATE [DERIVED]:
          - key: vpp/interface/mgmt/vrf/0/ip-version/v4
          - value: <EMPTY> 
      11. CREATE [DERIVED]:
          - key: vpp/interface/mgmt/address/static/172.17.0.3/16
          - value: <EMPTY> 
      12. CREATE [DERIVED]:
          - key: vpp/interface/mgmt/has-IP-address
          - value: <EMPTY> 
      13. CREATE:
          - key: config/vpp/v2/route/if/mgmt/vrf/0/dst/0.0.0.0/0/gw/172.17.0.1
          - value: { type:INTER_VRF dst_network:"0.0.0.0/0" next_hop_addr:"172.17.0.1" outgoing_interface:"mgmt" weight:1 } 
x----------------------------------------------------------------------------------------------------------------------x
| #4 - NBTransaction                                                                                      took 120.1ms |
x----------------------------------------------------------------------------------------------------------------------x

2021/04/28 21:16:07 Reporting span 6410ab732f334750:6410ab732f334750:0000000000000000:1
time="2021-04-28T21:16:07Z" level=info msg=">><<-- response={} span=<nil>"
+======================================================================================================================+
| #5 - SBNotification                                                                                                  |
+======================================================================================================================+
  * transaction arguments:
      - seqNum: 5
      - type: SB Notification
      - values:
          - key: vpp/interface/mgmt/link-state/DOWN
            val: <EMPTY>

o----------------------------------------------------------------------------------------------------------------------o
  * executed operations (2021-04-28 21:16:07.764 +0000 UTC -> 2021-04-28 21:16:07.764 +0000 UTC, dur: 0s):
      1. CREATE [OBTAINED]:
          - key: vpp/interface/mgmt/link-state/DOWN
          - value: <EMPTY> 
x----------------------------------------------------------------------------------------------------------------------x
| #5 - SBNotification                                                                                       took 100µs |
x----------------------------------------------------------------------------------------------------------------------x

time="2021-04-28 21:16:07.76389" level=info msg="Transaction #4 successful! (took 121.1ms)" loc="orchestrator/dispatcher.go(178)" logger=dispatcher
time="2021-04-28 21:16:07.76418" level=info msg="Transaction 5 successful!" loc="kvscheduler/txn_process.go(405)" logger=kvscheduler
time="2021-04-28T21:16:07Z" level=info msg="Creating vppagent server..."
time="2021-04-28T21:16:07Z" level=info msg="vppagent server serving" operation=CreateForwarder span="339c684690faa6ca:2c12f44d3539b981:339c684690faa6ca:1"
time="2021-04-28T21:16:07Z" level=info msg="Creating Forwarder Registrar Client..." operation=CreateForwarder span="339c684690faa6ca:2c12f44d3539b981:339c684690faa6ca:1"
time="2021-04-28T21:16:07Z" level=info msg="Registering with NetworkServiceManager"
time="2021-04-28T21:16:07Z" level=info msg="Retry interval: 30s"
time="2021-04-28T21:16:07Z" level=info msg="Waiting for liveness probe: unix:/var/lib/networkservicemesh/nsm.forwarder-registrar.io.sock"
time="2021-04-28T21:16:09Z" level=info msg="Trying to register vppagent on socket /var/lib/networkservicemesh/nsm.forwarder-registrar.io.sock"
time="2021-04-28T21:16:09Z" level=info msg="vppagent: connection to forwarder registrar socket \"/var/lib/networkservicemesh/nsm.forwarder-registrar.io.sock\" succeeded."
time="2021-04-28T21:16:09Z" level=info msg=">><<------ /forwarderregistrar.ForwarderRegistration/RequestForwarderRegistration()=\"\" span=339c684690faa6ca:2c12f44d3539b981:339c684690faa6ca:1"
time="2021-04-28T21:16:09Z" level=info msg=">><<------ request={\"forwarder_name\":\"vppagent\",\"forwarder_socket\":\"/var/lib/networkservicemesh/nsm-vppagent.forwarder.sock\"} span=339c684690faa6ca:2c12f44d3539b981:339c684690faa6ca:1"
2021/04/28 21:16:09 Reporting span 339c684690faa6ca:7b6a1e8d2021bb9f:2c12f44d3539b981:1
time="2021-04-28T21:16:09Z" level=info msg=">><<------ response={\"registered\":true} span=339c684690faa6ca:2c12f44d3539b981:339c684690faa6ca:1"
time="2021-04-28T21:16:09Z" level=info msg="vppagent: send request to Forwarder Registrar: forwarder_name:\"vppagent\" forwarder_socket:\"/var/lib/networkservicemesh/nsm-vppagent.forwarder.sock\" "
time="2021-04-28T21:16:09Z" level=info msg="Registered Forwarder Registrar Client" operation=CreateForwarder span="339c684690faa6ca:2c12f44d3539b981:339c684690faa6ca:1"
2021/04/28 21:16:09 Reporting span 339c684690faa6ca:2c12f44d3539b981:339c684690faa6ca:1
2021/04/28 21:16:09 Reporting span 339c684690faa6ca:339c684690faa6ca:0000000000000000:1
time="2021-04-28T21:16:09Z" level=info msg="Starting ForwarderRegistrarClient liveliness monitor"
time="2021-04-28T21:16:09Z" level=info msg="==--> MonitorMecnahisms() span:3e08751c4a49fa63:3e08751c4a49fa63:0000000000000000:1"
time="2021-04-28T21:16:09Z" level=info msg="MonitorMechanisms was called" operation=MonitorMecnahisms span="3e08751c4a49fa63:3e08751c4a49fa63:0000000000000000:1"
time="2021-04-28T21:16:09Z" level=info msg="MonitorServerImpl.AddRecipient: CrossConnect-&{0xc00013e660}"
time="2021-04-28T21:16:09Z" level=info msg="Sending MonitorMechanisms update: remote_mechanisms:<type:\"VXLAN\" parameters:<key:\"mtu_overhead\" value:\"50\" > parameters:<key:\"src_ip\" value:\"172.17.0.3\" > > remote_mechanisms:<type:\"IPSEC\" parameters:<key:\"mtu_overhead\" value:\"70\" > parameters:<key:\"src_ip\" value:\"172.17.0.3\" > > local_mechanisms:<type:\"MEMIF\" > local_mechanisms:<type:\"KERNEL_INTERFACE\" > " operation=MonitorMecnahisms span="3e08751c4a49fa63:3e08751c4a49fa63:0000000000000000:1"
2021/04/28 21:16:09 Reporting span 3e08751c4a49fa63:3e08751c4a49fa63:0000000000000000:1
time="2021-04-28 21:16:11.28398" level=info msg="Agent plugin state update." lastErr="<nil>" loc="statuscheck/plugin_impl_statuscheck.go(183)" logger=status-check plugin=vpp-ifplugin state=ok
+======================================================================================================================+
| #6 - SBNotification                                                                                                  |
+======================================================================================================================+
  * transaction arguments:
      - seqNum: 6
      - type: SB Notification
      - values:
          - key: vpp/interface/mgmt/link-state/DOWN
            val: <NIL>
          - key: vpp/interface/mgmt/link-state/UP
            val: <EMPTY>

o----------------------------------------------------------------------------------------------------------------------o
  * executed operations (2021-04-28 21:16:11.284 +0000 UTC -> 2021-04-28 21:16:11.285 +0000 UTC, dur: 0s):
      1. DELETE [WAS-OBTAINED]:
          - key: vpp/interface/mgmt/link-state/DOWN
          - value: <EMPTY> 
      2. CREATE [OBTAINED]:
          - key: vpp/interface/mgmt/link-state/UP
          - value: <EMPTY> 
x----------------------------------------------------------------------------------------------------------------------x
| #6 - SBNotification                                                                                       took 300µs |
x----------------------------------------------------------------------------------------------------------------------x

time="2021-04-28 21:16:11.28481" level=info msg="Transaction 6 successful!" loc="kvscheduler/txn_process.go(405)" logger=kvscheduler
time="2021-04-28T21:16:11Z" level=warning msg="VPP health check probe timed out after 250ms (1. timeout)"
time="2021-04-28T21:16:11Z" level=warning msg="VPP health check probe timed out after 250ms (1. timeout)"
time="2021-04-28T21:16:12Z" level=info msg="VPP health check probe OK"
time="2021-04-28T21:16:12Z" level=info msg="VPP health check probe OK"
+======================================================================================================================+
| #7 - SBNotification                                                                                                  |
+======================================================================================================================+
  * transaction arguments:
      - seqNum: 7
      - type: SB Notification
      - values:
          - key: linux/interface/host-name/vethf9836e40
            val: <EMPTY>

o----------------------------------------------------------------------------------------------------------------------o
  * executed operations (2021-04-28 21:16:29.332 +0000 UTC -> 2021-04-28 21:16:29.332 +0000 UTC, dur: 0s):
      1. CREATE [OBTAINED]:
          - key: linux/interface/host-name/vethf9836e40
          - value: <EMPTY> 
x----------------------------------------------------------------------------------------------------------------------x
| #7 - SBNotification                                                                                       took 200µs |
x----------------------------------------------------------------------------------------------------------------------x

time="2021-04-28 21:16:29.33235" level=info msg="Transaction 7 successful!" loc="kvscheduler/txn_process.go(405)" logger=kvscheduler
time="2021-04-28T21:19:46Z" level=warning msg="VPP health check probe timed out after 250ms (1. timeout)"
time="2021-04-28T21:19:46Z" level=warning msg="VPP health check probe timed out after 250ms (1. timeout)"
time="2021-04-28T21:19:47Z" level=info msg="VPP health check probe OK"
time="2021-04-28T21:19:47Z" level=info msg="VPP health check probe OK"
+======================================================================================================================+
| #8 - SBNotification                                                                                                  |
+======================================================================================================================+
  * transaction arguments:
      - seqNum: 8
      - type: SB Notification
      - values:
          - key: linux/interface/host-name/vethd238b00b
            val: <EMPTY>

o----------------------------------------------------------------------------------------------------------------------o
  * executed operations (2021-04-28 21:19:52.894 +0000 UTC -> 2021-04-28 21:19:52.901 +0000 UTC, dur: 7ms):
      1. CREATE [OBTAINED]:
          - key: linux/interface/host-name/vethd238b00b
          - value: <EMPTY> 
x----------------------------------------------------------------------------------------------------------------------x
| #8 - SBNotification                                                                                       took 6.9ms |
x----------------------------------------------------------------------------------------------------------------------x

time="2021-04-28 21:19:52.90223" level=info msg="Transaction 8 successful!" loc="kvscheduler/txn_process.go(405)" logger=kvscheduler
+======================================================================================================================+
| #9 - SBNotification                                                                                                  |
+======================================================================================================================+
  * transaction arguments:
      - seqNum: 9
      - type: SB Notification
      - values:
          - key: linux/interface/host-name/veth529c5954
            val: <EMPTY>

o----------------------------------------------------------------------------------------------------------------------o
  * executed operations (2021-04-28 21:19:52.905 +0000 UTC -> 2021-04-28 21:19:52.906 +0000 UTC, dur: 0s):
      1. CREATE [OBTAINED]:
          - key: linux/interface/host-name/veth529c5954
          - value: <EMPTY> 
x----------------------------------------------------------------------------------------------------------------------x
| #9 - SBNotification                                                                                       took 200µs |
x----------------------------------------------------------------------------------------------------------------------x

time="2021-04-28 21:19:52.90573" level=info msg="Transaction 9 successful!" loc="kvscheduler/txn_process.go(405)" logger=kvscheduler
+======================================================================================================================+
| #10 - SBNotification                                                                                                 |
+======================================================================================================================+
  * transaction arguments:
      - seqNum: 10
      - type: SB Notification
      - values:
          - key: linux/interface/host-name/veth72252dc6
            val: <EMPTY>

o----------------------------------------------------------------------------------------------------------------------o
  * executed operations (2021-04-28 21:22:07.508 +0000 UTC -> 2021-04-28 21:22:07.508 +0000 UTC, dur: 0s):
      1. CREATE [OBTAINED]:
          - key: linux/interface/host-name/veth72252dc6
          - value: <EMPTY> 
x----------------------------------------------------------------------------------------------------------------------x
| #10 - SBNotification                                                                                      took 300µs |
x----------------------------------------------------------------------------------------------------------------------x

time="2021-04-28 21:22:07.50796" level=info msg="Transaction 10 successful!" loc="kvscheduler/txn_process.go(405)" logger=kvscheduler
time="2021-04-28 21:22:12.75290" level=info msg="Transaction 11 successful!" loc="kvscheduler/txn_process.go(405)" logger=kvscheduler
+======================================================================================================================+
| #11 - SBNotification                                                                                                 |
+======================================================================================================================+
  * transaction arguments:
      - seqNum: 11
      - type: SB Notification
      - values:
          - key: linux/interface/host-name/veth529c5954
            val: <NIL>

o----------------------------------------------------------------------------------------------------------------------o
  * executed operations (2021-04-28 21:22:12.753 +0000 UTC -> 2021-04-28 21:22:12.753 +0000 UTC, dur: 0s):
      1. DELETE [WAS-OBTAINED]:
          - key: linux/interface/host-name/veth529c5954
          - value: <EMPTY> 
x----------------------------------------------------------------------------------------------------------------------x
| #11 - SBNotification                                                                                      took 100µs |
x----------------------------------------------------------------------------------------------------------------------x

time="2021-04-28T21:22:39Z" level=info msg=">><<-- GRPC->/forwarder.Forwarder/Request()=\"\" span=0915963bfb2c4a57:457b4504cf98f6d6:141bd86c8a7a0b96:1"
time="2021-04-28T21:22:39Z" level=info msg=">><<-- request={\"id\":\"1\",\"payload\":\"IP\",\"source\":{\"id\":\"1\",\"network_service\":\"green\",\"mechanism\":{\"cls\":\"LOCAL\",\"type\":\"MEMIF\",\"parameters\":{\"description\":\"VPP interface green58phj\",\"name\":\"green58phj\",\"netnsInode\":\"4026536748\",\"socketfile\":\"green58phj/memif.sock\",\"workspace\":\"nsm-14\"}},\"context\":{\"ip_context\":{\"src_ip_addr\":\"172.100.252.1/30\",\"dst_ip_addr\":\"172.100.252.2/30\",\"src_ip_required\":true,\"dst_ip_required\":true,\"src_routes\":[{\"prefix\":\"172.100.248.0/22\"}],\"dst_routes\":[{\"prefix\":\"172.100.252.0/22\"}]}},\"labels\":{\"\":\"\",\"vl3Nse/nseSource/endpointName\":\"greendhpdv\"},\"path\":{\"path_segments\":[{\"name\":\"kind-2-control-plane\"}]},\"network_service_endpoint_name\":\"green58phj\"},\"destination\":{\"id\":\"2\",\"network_service\":\"green\",\"mechanism\":{\"cls\":\"LOCAL\",\"type\":\"MEMIF\",\"parameters\":{\"description\":\"NSM Endpoint\",\"name\":\"nsmz4nowalc2\",\"netnsInode\":\"4026536578\",\"socketfile\":\"nsmz4nowalc2/memif.sock\",\"workspace\":\"nsm-23\",\"workspaceNseName\":\"green58phj\"}},\"context\":{\"ip_context\":{\"src_ip_addr\":\"172.100.252.1/30\",\"dst_ip_addr\":\"172.100.252.2/30\",\"src_ip_required\":true,\"dst_ip_required\":true,\"src_routes\":[{\"prefix\":\"172.100.248.0/22\"}],\"dst_routes\":[{\"prefix\":\"172.100.252.0/22\"}]}},\"labels\":{\"\":\"\",\"ucnf/peerName\":\"greendhpdv\",\"vl3Nse/nseSource/endpointName\":\"greendhpdv\"},\"path\":{\"path_segments\":[{\"name\":\"kind-2-control-plane\"}]}}} span=0915963bfb2c4a57:457b4504cf98f6d6:141bd86c8a7a0b96:1"
time="2021-04-28T21:22:39Z" level=info msg="==--> Forwarder.Request() span:0915963bfb2c4a57:0d97fb25d725eb71:457b4504cf98f6d6:1"
time="2021-04-28T21:22:39Z" level=info msg=">><<-- crossConnect={\"id\":\"1\",\"payload\":\"IP\",\"source\":{\"id\":\"1\",\"network_service\":\"green\",\"mechanism\":{\"cls\":\"LOCAL\",\"type\":\"MEMIF\",\"parameters\":{\"description\":\"VPP interface green58phj\",\"name\":\"green58phj\",\"netnsInode\":\"4026536748\",\"socketfile\":\"green58phj/memif.sock\",\"workspace\":\"nsm-14\"}},\"context\":{\"ip_context\":{\"src_ip_addr\":\"172.100.252.1/30\",\"dst_ip_addr\":\"172.100.252.2/30\",\"src_ip_required\":true,\"dst_ip_required\":true,\"src_routes\":[{\"prefix\":\"172.100.248.0/22\"}],\"dst_routes\":[{\"prefix\":\"172.100.252.0/22\"}]}},\"labels\":{\"\":\"\",\"vl3Nse/nseSource/endpointName\":\"greendhpdv\"},\"path\":{\"path_segments\":[{\"name\":\"kind-2-control-plane\"}]},\"network_service_endpoint_name\":\"green58phj\"},\"destination\":{\"id\":\"2\",\"network_service\":\"green\",\"mechanism\":{\"cls\":\"LOCAL\",\"type\":\"MEMIF\",\"parameters\":{\"description\":\"NSM Endpoint\",\"name\":\"nsmz4nowalc2\",\"netnsInode\":\"4026536578\",\"socketfile\":\"nsmz4nowalc2/memif.sock\",\"workspace\":\"nsm-23\",\"workspaceNseName\":\"green58phj\"}},\"context\":{\"ip_context\":{\"src_ip_addr\":\"172.100.252.1/30\",\"dst_ip_addr\":\"172.100.252.2/30\",\"src_ip_required\":true,\"dst_ip_required\":true,\"src_routes\":[{\"prefix\":\"172.100.248.0/22\"}],\"dst_routes\":[{\"prefix\":\"172.100.252.0/22\"}]}},\"labels\":{\"\":\"\",\"ucnf/peerName\":\"greendhpdv\",\"vl3Nse/nseSource/endpointName\":\"greendhpdv\"},\"path\":{\"path_segments\":[{\"name\":\"kind-2-control-plane\"}]}}} span=0915963bfb2c4a57:0d97fb25d725eb71:457b4504cf98f6d6:1"
time="2021-04-28T21:22:39Z" level=info msg="==----> *requestValidator.Request() span:0915963bfb2c4a57:43826a494b7c11ac:0d97fb25d725eb71:1"
time="2021-04-28T21:22:39Z" level=info msg=">><<---- request={\"id\":\"1\",\"payload\":\"IP\",\"source\":{\"id\":\"1\",\"network_service\":\"green\",\"mechanism\":{\"cls\":\"LOCAL\",\"type\":\"MEMIF\",\"parameters\":{\"description\":\"VPP interface green58phj\",\"name\":\"green58phj\",\"netnsInode\":\"4026536748\",\"socketfile\":\"green58phj/memif.sock\",\"workspace\":\"nsm-14\"}},\"context\":{\"ip_context\":{\"src_ip_addr\":\"172.100.252.1/30\",\"dst_ip_addr\":\"172.100.252.2/30\",\"src_ip_required\":true,\"dst_ip_required\":true,\"src_routes\":[{\"prefix\":\"172.100.248.0/22\"}],\"dst_routes\":[{\"prefix\":\"172.100.252.0/22\"}]}},\"labels\":{\"\":\"\",\"vl3Nse/nseSource/endpointName\":\"greendhpdv\"},\"path\":{\"path_segments\":[{\"name\":\"kind-2-control-plane\"}]},\"network_service_endpoint_name\":\"green58phj\"},\"destination\":{\"id\":\"2\",\"network_service\":\"green\",\"mechanism\":{\"cls\":\"LOCAL\",\"type\":\"MEMIF\",\"parameters\":{\"description\":\"NSM Endpoint\",\"name\":\"nsmz4nowalc2\",\"netnsInode\":\"4026536578\",\"socketfile\":\"nsmz4nowalc2/memif.sock\",\"workspace\":\"nsm-23\",\"workspaceNseName\":\"green58phj\"}},\"context\":{\"ip_context\":{\"src_ip_addr\":\"172.100.252.1/30\",\"dst_ip_addr\":\"172.100.252.2/30\",\"src_ip_required\":true,\"dst_ip_required\":true,\"src_routes\":[{\"prefix\":\"172.100.248.0/22\"}],\"dst_routes\":[{\"prefix\":\"172.100.252.0/22\"}]}},\"labels\":{\"\":\"\",\"ucnf/peerName\":\"greendhpdv\",\"vl3Nse/nseSource/endpointName\":\"greendhpdv\"},\"path\":{\"path_segments\":[{\"name\":\"kind-2-control-plane\"}]}}} span=0915963bfb2c4a57:43826a494b7c11ac:0d97fb25d725eb71:1"
time="2021-04-28T21:22:39Z" level=info msg="==------> *useMonitor.Request() span:0915963bfb2c4a57:6b8de94b26c5aae0:43826a494b7c11ac:1"
time="2021-04-28T21:22:39Z" level=info msg=">><<------ request={\"id\":\"1\",\"payload\":\"IP\",\"source\":{\"id\":\"1\",\"network_service\":\"green\",\"mechanism\":{\"cls\":\"LOCAL\",\"type\":\"MEMIF\",\"parameters\":{\"description\":\"VPP interface green58phj\",\"name\":\"green58phj\",\"netnsInode\":\"4026536748\",\"socketfile\":\"green58phj/memif.sock\",\"workspace\":\"nsm-14\"}},\"context\":{\"ip_context\":{\"src_ip_addr\":\"172.100.252.1/30\",\"dst_ip_addr\":\"172.100.252.2/30\",\"src_ip_required\":true,\"dst_ip_required\":true,\"src_routes\":[{\"prefix\":\"172.100.248.0/22\"}],\"dst_routes\":[{\"prefix\":\"172.100.252.0/22\"}]}},\"labels\":{\"\":\"\",\"vl3Nse/nseSource/endpointName\":\"greendhpdv\"},\"path\":{\"path_segments\":[{\"name\":\"kind-2-control-plane\"}]},\"network_service_endpoint_name\":\"green58phj\"},\"destination\":{\"id\":\"2\",\"network_service\":\"green\",\"mechanism\":{\"cls\":\"LOCAL\",\"type\":\"MEMIF\",\"parameters\":{\"description\":\"NSM Endpoint\",\"name\":\"nsmz4nowalc2\",\"netnsInode\":\"4026536578\",\"socketfile\":\"nsmz4nowalc2/memif.sock\",\"workspace\":\"nsm-23\",\"workspaceNseName\":\"green58phj\"}},\"context\":{\"ip_context\":{\"src_ip_addr\":\"172.100.252.1/30\",\"dst_ip_addr\":\"172.100.252.2/30\",\"src_ip_required\":true,\"dst_ip_required\":true,\"src_routes\":[{\"prefix\":\"172.100.248.0/22\"}],\"dst_routes\":[{\"prefix\":\"172.100.252.0/22\"}]}},\"labels\":{\"\":\"\",\"ucnf/peerName\":\"greendhpdv\",\"vl3Nse/nseSource/endpointName\":\"greendhpdv\"},\"path\":{\"path_segments\":[{\"name\":\"kind-2-control-plane\"}]}}} span=0915963bfb2c4a57:6b8de94b26c5aae0:43826a494b7c11ac:1"
time="2021-04-28T21:22:39Z" level=info msg="==--------> *directMemifInterfaces.Request() span:0915963bfb2c4a57:2e9240232ddfcc8a:6b8de94b26c5aae0:1"
time="2021-04-28T21:22:39Z" level=info msg=">><<-------- request={\"id\":\"1\",\"payload\":\"IP\",\"source\":{\"id\":\"1\",\"network_service\":\"green\",\"mechanism\":{\"cls\":\"LOCAL\",\"type\":\"MEMIF\",\"parameters\":{\"description\":\"VPP interface green58phj\",\"name\":\"green58phj\",\"netnsInode\":\"4026536748\",\"socketfile\":\"green58phj/memif.sock\",\"workspace\":\"nsm-14\"}},\"context\":{\"ip_context\":{\"src_ip_addr\":\"172.100.252.1/30\",\"dst_ip_addr\":\"172.100.252.2/30\",\"src_ip_required\":true,\"dst_ip_required\":true,\"src_routes\":[{\"prefix\":\"172.100.248.0/22\"}],\"dst_routes\":[{\"prefix\":\"172.100.252.0/22\"}]}},\"labels\":{\"\":\"\",\"vl3Nse/nseSource/endpointName\":\"greendhpdv\"},\"path\":{\"path_segments\":[{\"name\":\"kind-2-control-plane\"}]},\"network_service_endpoint_name\":\"green58phj\"},\"destination\":{\"id\":\"2\",\"network_service\":\"green\",\"mechanism\":{\"cls\":\"LOCAL\",\"type\":\"MEMIF\",\"parameters\":{\"description\":\"NSM Endpoint\",\"name\":\"nsmz4nowalc2\",\"netnsInode\":\"4026536578\",\"socketfile\":\"nsmz4nowalc2/memif.sock\",\"workspace\":\"nsm-23\",\"workspaceNseName\":\"green58phj\"}},\"context\":{\"ip_context\":{\"src_ip_addr\":\"172.100.252.1/30\",\"dst_ip_addr\":\"172.100.252.2/30\",\"src_ip_required\":true,\"dst_ip_required\":true,\"src_routes\":[{\"prefix\":\"172.100.248.0/22\"}],\"dst_routes\":[{\"prefix\":\"172.100.252.0/22\"}]}},\"labels\":{\"\":\"\",\"ucnf/peerName\":\"greendhpdv\",\"vl3Nse/nseSource/endpointName\":\"greendhpdv\"},\"path\":{\"path_segments\":[{\"name\":\"kind-2-control-plane\"}]}}} span=0915963bfb2c4a57:2e9240232ddfcc8a:6b8de94b26c5aae0:1"
time="2021-04-28T21:22:39Z" level=info msg="Direct memif cross connect request: id:\"1\" payload:\"IP\" source:<id:\"1\" network_service:\"green\" mechanism:<cls:\"LOCAL\" type:\"MEMIF\" parameters:<key:\"description\" value:\"VPP interface green58phj\" > parameters:<key:\"name\" value:\"green58phj\" > parameters:<key:\"netnsInode\" value:\"4026536748\" > parameters:<key:\"socketfile\" value:\"green58phj/memif.sock\" > parameters:<key:\"workspace\" value:\"nsm-14\" > > context:<ip_context:<src_ip_addr:\"172.100.252.1/30\" dst_ip_addr:\"172.100.252.2/30\" src_ip_required:true dst_ip_required:true src_routes:<prefix:\"172.100.248.0/22\" > dst_routes:<prefix:\"172.100.252.0/22\" > > > labels:<key:\"\" value:\"\" > labels:<key:\"vl3Nse/nseSource/endpointName\" value:\"greendhpdv\" > path:<path_segments:<name:\"kind-2-control-plane\" > > network_service_endpoint_name:\"green58phj\" > destination:<id:\"2\" network_service:\"green\" mechanism:<cls:\"LOCAL\" type:\"MEMIF\" parameters:<key:\"description\" value:\"NSM Endpoint\" > parameters:<key:\"name\" value:\"nsmz4nowalc2\" > parameters:<key:\"netnsInode\" value:\"4026536578\" > parameters:<key:\"socketfile\" value:\"nsmz4nowalc2/memif.sock\" > parameters:<key:\"workspace\" value:\"nsm-23\" > parameters:<key:\"workspaceNseName\" value:\"green58phj\" > > context:<ip_context:<src_ip_addr:\"172.100.252.1/30\" dst_ip_addr:\"172.100.252.2/30\" src_ip_required:true dst_ip_required:true src_routes:<prefix:\"172.100.248.0/22\" > dst_routes:<prefix:\"172.100.252.0/22\" > > > labels:<key:\"\" value:\"\" > labels:<key:\"ucnf/peerName\" value:\"greendhpdv\" > labels:<key:\"vl3Nse/nseSource/endpointName\" value:\"greendhpdv\" > path:<path_segments:<name:\"kind-2-control-plane\" > > > "
time="2021-04-28T21:22:39Z" level=info msg="Resolved source socket unix address: /var/lib/networkservicemesh/nsm-14/green58phj/memif.sock"
time="2021-04-28T21:22:39Z" level=info msg="Resolved target socket unix address: /var/lib/networkservicemesh/nsm-23/nsmz4nowalc2/memif.sock"
time="2021-04-28T21:22:39Z" level=info msg="Successfully created directory: /var/lib/networkservicemesh/nsm-14/green58phj"
time="2021-04-28T21:22:39Z" level=info msg="Listening source socket..."
time="2021-04-28T21:22:39Z" level=info msg="Add new proxy for cross connect with id=1"
time="2021-04-28T21:22:39Z" level=info msg=">><<-------- response={\"id\":\"1\",\"payload\":\"IP\",\"source\":{\"id\":\"1\",\"network_service\":\"green\",\"mechanism\":{\"cls\":\"LOCAL\",\"type\":\"MEMIF\",\"parameters\":{\"description\":\"VPP interface green58phj\",\"name\":\"green58phj\",\"netnsInode\":\"4026536748\",\"socketfile\":\"green58phj/memif.sock\",\"workspace\":\"nsm-14\"}},\"context\":{\"ip_context\":{\"src_ip_addr\":\"172.100.252.1/30\",\"dst_ip_addr\":\"172.100.252.2/30\",\"src_ip_required\":true,\"dst_ip_required\":true,\"src_routes\":[{\"prefix\":\"172.100.248.0/22\"}],\"dst_routes\":[{\"prefix\":\"172.100.252.0/22\"}]}},\"labels\":{\"\":\"\",\"vl3Nse/nseSource/endpointName\":\"greendhpdv\"},\"path\":{\"path_segments\":[{\"name\":\"kind-2-control-plane\"}]},\"network_service_endpoint_name\":\"green58phj\"},\"destination\":{\"id\":\"2\",\"network_service\":\"green\",\"mechanism\":{\"cls\":\"LOCAL\",\"type\":\"MEMIF\",\"parameters\":{\"description\":\"NSM Endpoint\",\"name\":\"nsmz4nowalc2\",\"netnsInode\":\"4026536578\",\"socketfile\":\"nsmz4nowalc2/memif.sock\",\"workspace\":\"nsm-23\",\"workspaceNseName\":\"green58phj\"}},\"context\":{\"ip_context\":{\"src_ip_addr\":\"172.100.252.1/30\",\"dst_ip_addr\":\"172.100.252.2/30\",\"src_ip_required\":true,\"dst_ip_required\":true,\"src_routes\":[{\"prefix\":\"172.100.248.0/22\"}],\"dst_routes\":[{\"prefix\":\"172.100.252.0/22\"}]}},\"labels\":{\"\":\"\",\"ucnf/peerName\":\"greendhpdv\",\"vl3Nse/nseSource/endpointName\":\"greendhpdv\"},\"path\":{\"path_segments\":[{\"name\":\"kind-2-control-plane\"}]}}} span=0915963bfb2c4a57:2e9240232ddfcc8a:6b8de94b26c5aae0:1"
2021/04/28 21:22:39 Reporting span 0915963bfb2c4a57:2e9240232ddfcc8a:6b8de94b26c5aae0:1
time="2021-04-28T21:22:39Z" level=info msg="Accepting connections to source socket..."
time="2021-04-28T21:22:39Z" level=info msg=">><<------ response={\"id\":\"1\",\"payload\":\"IP\",\"source\":{\"id\":\"1\",\"network_service\":\"green\",\"mechanism\":{\"cls\":\"LOCAL\",\"type\":\"MEMIF\",\"parameters\":{\"description\":\"VPP interface green58phj\",\"name\":\"green58phj\",\"netnsInode\":\"4026536748\",\"socketfile\":\"green58phj/memif.sock\",\"workspace\":\"nsm-14\"}},\"context\":{\"ip_context\":{\"src_ip_addr\":\"172.100.252.1/30\",\"dst_ip_addr\":\"172.100.252.2/30\",\"src_ip_required\":true,\"dst_ip_required\":true,\"src_routes\":[{\"prefix\":\"172.100.248.0/22\"}],\"dst_routes\":[{\"prefix\":\"172.100.252.0/22\"}]}},\"labels\":{\"\":\"\",\"vl3Nse/nseSource/endpointName\":\"greendhpdv\"},\"path\":{\"path_segments\":[{\"name\":\"kind-2-control-plane\"}]},\"network_service_endpoint_name\":\"green58phj\"},\"destination\":{\"id\":\"2\",\"network_service\":\"green\",\"mechanism\":{\"cls\":\"LOCAL\",\"type\":\"MEMIF\",\"parameters\":{\"description\":\"NSM Endpoint\",\"name\":\"nsmz4nowalc2\",\"netnsInode\":\"4026536578\",\"socketfile\":\"nsmz4nowalc2/memif.sock\",\"workspace\":\"nsm-23\",\"workspaceNseName\":\"green58phj\"}},\"context\":{\"ip_context\":{\"src_ip_addr\":\"172.100.252.1/30\",\"dst_ip_addr\":\"172.100.252.2/30\",\"src_ip_required\":true,\"dst_ip_required\":true,\"src_routes\":[{\"prefix\":\"172.100.248.0/22\"}],\"dst_routes\":[{\"prefix\":\"172.100.252.0/22\"}]}},\"labels\":{\"\":\"\",\"ucnf/peerName\":\"greendhpdv\",\"vl3Nse/nseSource/endpointName\":\"greendhpdv\"},\"path\":{\"path_segments\":[{\"name\":\"kind-2-control-plane\"}]}}} span=0915963bfb2c4a57:6b8de94b26c5aae0:43826a494b7c11ac:1"
2021/04/28 21:22:39 Reporting span 0915963bfb2c4a57:6b8de94b26c5aae0:43826a494b7c11ac:1
time="2021-04-28T21:22:39Z" level=info msg=">><<---- response={\"id\":\"1\",\"payload\":\"IP\",\"source\":{\"id\":\"1\",\"network_service\":\"green\",\"mechanism\":{\"cls\":\"LOCAL\",\"type\":\"MEMIF\",\"parameters\":{\"description\":\"VPP interface green58phj\",\"name\":\"green58phj\",\"netnsInode\":\"4026536748\",\"socketfile\":\"green58phj/memif.sock\",\"workspace\":\"nsm-14\"}},\"context\":{\"ip_context\":{\"src_ip_addr\":\"172.100.252.1/30\",\"dst_ip_addr\":\"172.100.252.2/30\",\"src_ip_required\":true,\"dst_ip_required\":true,\"src_routes\":[{\"prefix\":\"172.100.248.0/22\"}],\"dst_routes\":[{\"prefix\":\"172.100.252.0/22\"}]}},\"labels\":{\"\":\"\",\"vl3Nse/nseSource/endpointName\":\"greendhpdv\"},\"path\":{\"path_segments\":[{\"name\":\"kind-2-control-plane\"}]},\"network_service_endpoint_name\":\"green58phj\"},\"destination\":{\"id\":\"2\",\"network_service\":\"green\",\"mechanism\":{\"cls\":\"LOCAL\",\"type\":\"MEMIF\",\"parameters\":{\"description\":\"NSM Endpoint\",\"name\":\"nsmz4nowalc2\",\"netnsInode\":\"4026536578\",\"socketfile\":\"nsmz4nowalc2/memif.sock\",\"workspace\":\"nsm-23\",\"workspaceNseName\":\"green58phj\"}},\"context\":{\"ip_context\":{\"src_ip_addr\":\"172.100.252.1/30\",\"dst_ip_addr\":\"172.100.252.2/30\",\"src_ip_required\":true,\"dst_ip_required\":true,\"src_routes\":[{\"prefix\":\"172.100.248.0/22\"}],\"dst_routes\":[{\"prefix\":\"172.100.252.0/22\"}]}},\"labels\":{\"\":\"\",\"ucnf/peerName\":\"greendhpdv\",\"vl3Nse/nseSource/endpointName\":\"greendhpdv\"},\"path\":{\"path_segments\":[{\"name\":\"kind-2-control-plane\"}]}}} span=0915963bfb2c4a57:43826a494b7c11ac:0d97fb25d725eb71:1"
2021/04/28 21:22:39 Reporting span 0915963bfb2c4a57:43826a494b7c11ac:0d97fb25d725eb71:1
2021/04/28 21:22:39 Reporting span 0915963bfb2c4a57:0d97fb25d725eb71:457b4504cf98f6d6:1
time="2021-04-28T21:22:39Z" level=info msg=">><<-- response={\"id\":\"1\",\"payload\":\"IP\",\"source\":{\"id\":\"1\",\"network_service\":\"green\",\"mechanism\":{\"cls\":\"LOCAL\",\"type\":\"MEMIF\",\"parameters\":{\"description\":\"VPP interface green58phj\",\"name\":\"green58phj\",\"netnsInode\":\"4026536748\",\"socketfile\":\"green58phj/memif.sock\",\"workspace\":\"nsm-14\"}},\"context\":{\"ip_context\":{\"src_ip_addr\":\"172.100.252.1/30\",\"dst_ip_addr\":\"172.100.252.2/30\",\"src_ip_required\":true,\"dst_ip_required\":true,\"src_routes\":[{\"prefix\":\"172.100.248.0/22\"}],\"dst_routes\":[{\"prefix\":\"172.100.252.0/22\"}]}},\"labels\":{\"\":\"\",\"vl3Nse/nseSource/endpointName\":\"greendhpdv\"},\"path\":{\"path_segments\":[{\"name\":\"kind-2-control-plane\"}]},\"network_service_endpoint_name\":\"green58phj\"},\"destination\":{\"id\":\"2\",\"network_service\":\"green\",\"mechanism\":{\"cls\":\"LOCAL\",\"type\":\"MEMIF\",\"parameters\":{\"description\":\"NSM Endpoint\",\"name\":\"nsmz4nowalc2\",\"netnsInode\":\"4026536578\",\"socketfile\":\"nsmz4nowalc2/memif.sock\",\"workspace\":\"nsm-23\",\"workspaceNseName\":\"green58phj\"}},\"context\":{\"ip_context\":{\"src_ip_addr\":\"172.100.252.1/30\",\"dst_ip_addr\":\"172.100.252.2/30\",\"src_ip_required\":true,\"dst_ip_required\":true,\"src_routes\":[{\"prefix\":\"172.100.248.0/22\"}],\"dst_routes\":[{\"prefix\":\"172.100.252.0/22\"}]}},\"labels\":{\"\":\"\",\"ucnf/peerName\":\"greendhpdv\",\"vl3Nse/nseSource/endpointName\":\"greendhpdv\"},\"path\":{\"path_segments\":[{\"name\":\"kind-2-control-plane\"}]}}} span=0915963bfb2c4a57:457b4504cf98f6d6:141bd86c8a7a0b96:1"
2021/04/28 21:22:39 Reporting span 0915963bfb2c4a57:457b4504cf98f6d6:141bd86c8a7a0b96:1
time="2021-04-28T21:22:39Z" level=info msg="CrossConnect-New event: &{{UPDATE map[1:0xc0004bc230] 0xc000574090} map[] 0xc000574090}"
time="2021-04-28T21:22:39Z" level=info msg="==--------> CrossConnect-send-update() span:0915963bfb2c4a57:2f9f407ae46f9c0f:6b8de94b26c5aae0:1"
time="2021-04-28T21:22:39Z" level=info msg=">><<-------- eventType=\"UPDATE\" span=0915963bfb2c4a57:2f9f407ae46f9c0f:6b8de94b26c5aae0:1"
time="2021-04-28T21:22:39Z" level=info msg=">><<-------- msg={\"type\":1,\"cross_connects\":{\"1\":{\"id\":\"1\",\"payload\":\"IP\",\"source\":{\"id\":\"1\",\"network_service\":\"green\",\"mechanism\":{\"cls\":\"LOCAL\",\"type\":\"MEMIF\",\"parameters\":{\"description\":\"VPP interface green58phj\",\"name\":\"green58phj\",\"netnsInode\":\"4026536748\",\"socketfile\":\"green58phj/memif.sock\",\"workspace\":\"nsm-14\"}},\"context\":{\"ip_context\":{\"src_ip_addr\":\"172.100.252.1/30\",\"dst_ip_addr\":\"172.100.252.2/30\",\"src_ip_required\":true,\"dst_ip_required\":true,\"src_routes\":[{\"prefix\":\"172.100.248.0/22\"}],\"dst_routes\":[{\"prefix\":\"172.100.252.0/22\"}]}},\"labels\":{\"\":\"\",\"vl3Nse/nseSource/endpointName\":\"greendhpdv\"},\"path\":{\"path_segments\":[{\"name\":\"kind-2-control-plane\"}]},\"network_service_endpoint_name\":\"green58phj\"},\"destination\":{\"id\":\"2\",\"network_service\":\"green\",\"mechanism\":{\"cls\":\"LOCAL\",\"type\":\"MEMIF\",\"parameters\":{\"description\":\"NSM Endpoint\",\"name\":\"nsmz4nowalc2\",\"netnsInode\":\"4026536578\",\"socketfile\":\"nsmz4nowalc2/memif.sock\",\"workspace\":\"nsm-23\",\"workspaceNseName\":\"green58phj\"}},\"context\":{\"ip_context\":{\"src_ip_addr\":\"172.100.252.1/30\",\"dst_ip_addr\":\"172.100.252.2/30\",\"src_ip_required\":true,\"dst_ip_required\":true,\"src_routes\":[{\"prefix\":\"172.100.248.0/22\"}],\"dst_routes\":[{\"prefix\":\"172.100.252.0/22\"}]}},\"labels\":{\"\":\"\",\"ucnf/peerName\":\"greendhpdv\",\"vl3Nse/nseSource/endpointName\":\"greendhpdv\"},\"path\":{\"path_segments\":[{\"name\":\"kind-2-control-plane\"}]}}}}} span=0915963bfb2c4a57:2f9f407ae46f9c0f:6b8de94b26c5aae0:1"
2021/04/28 21:22:39 Reporting span 0915963bfb2c4a57:2f9f407ae46f9c0f:6b8de94b26c5aae0:1
time="2021-04-28T21:22:42Z" level=info msg="Connection from source socket successfully accepted"
time="2021-04-28T21:22:42Z" level=info msg="Connecting to target socket..."
time="2021-04-28T21:22:42Z" level=info msg="Connected to target socket"
time="2021-04-28T21:22:42Z" level=info msg="Source connection fd: 16"
time="2021-04-28T21:22:42Z" level=info msg="Target connection fd: 17"
time="2021-04-28T21:22:42Z" level=info msg="Received message from 17"
time="2021-04-28T21:22:42Z" level=info msg="Send message to 16"
time="2021-04-28T21:22:42Z" level=info msg="Received message from 16"
time="2021-04-28T21:22:42Z" level=info msg="Send message to 17"
time="2021-04-28T21:22:42Z" level=info msg="Received message from 17"
time="2021-04-28T21:22:42Z" level=info msg="Send message to 16"
time="2021-04-28T21:22:42Z" level=info msg="Received message from 16"
time="2021-04-28T21:22:42Z" level=info msg="Send message to 17"
time="2021-04-28T21:22:42Z" level=info msg="Received message from 17"
time="2021-04-28T21:22:42Z" level=info msg="Send message to 16"
time="2021-04-28T21:22:42Z" level=info msg="Received message from 16"
time="2021-04-28T21:22:42Z" level=info msg="Send message to 17"
time="2021-04-28T21:22:42Z" level=info msg="Received message from 17"
time="2021-04-28T21:22:42Z" level=info msg="Send message to 16"
time="2021-04-28T21:22:42Z" level=info msg="Received message from 16"
time="2021-04-28T21:22:42Z" level=info msg="Send message to 17"
time="2021-04-28T21:22:42Z" level=info msg="Received message from 17"
time="2021-04-28T21:22:42Z" level=info msg="Send message to 16"
time="2021-04-28T21:22:42Z" level=info msg="Received message from 16"
time="2021-04-28T21:22:42Z" level=info msg="Send message to 17"
time="2021-04-28T21:22:42Z" level=info msg="Received message from 17"
time="2021-04-28T21:22:42Z" level=info msg="Send message to 16"
time="2021-04-28T21:22:42Z" level=info msg="Received message from 16"
time="2021-04-28T21:22:42Z" level=info msg="Send message to 17"
time="2021-04-28T21:22:42Z" level=info msg="Received message from 17"
time="2021-04-28T21:22:42Z" level=info msg="Send message to 16"
==== END logs for container wcm-nsm-vpp-forwarder of pod nsm-system/wcm-nsm-vpp-forwarder-shv4l ====
